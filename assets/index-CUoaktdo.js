(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function TE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Xb(){if(wv)return xl;wv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=t,xl.jsx=n,xl.jsxs=n,xl}var Rv;function Wb(){return Rv||(Rv=1,hm.exports=Xb()),hm.exports}var nt=Wb(),fm={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Zb(){if(Iv)return It;Iv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function U(M,it,ct){this.props=M,this.context=it,this.refs=z,this.updater=ct||V}U.prototype.isReactComponent={},U.prototype.setState=function(M,it){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,it,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function q(){}q.prototype=U.prototype;function F(M,it,ct){this.props=M,this.context=it,this.refs=z,this.updater=ct||V}var X=F.prototype=new q;X.constructor=F,O(X,U.prototype),X.isPureReactComponent=!0;var rt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},st=Object.prototype.hasOwnProperty;function I(M,it,ct,ot,yt,Nt){return ct=Nt.ref,{$$typeof:i,type:M,key:it,ref:ct!==void 0?ct:null,props:Nt}}function S(M,it){return I(M.type,it,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function C(M){var it={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ct){return it[ct]})}var x=/\/+/g;function P(M,it){return typeof M=="object"&&M!==null&&M.key!=null?C(""+M.key):it.toString(36)}function D(){}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(it){M.status==="pending"&&(M.status="fulfilled",M.value=it)},function(it){M.status==="pending"&&(M.status="rejected",M.reason=it)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Jt(M,it,ct,ot,yt){var Nt=typeof M;(Nt==="undefined"||Nt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(Nt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case i:case t:St=!0;break;case E:return St=M._init,Jt(St(M._payload),it,ct,ot,yt)}}if(St)return yt=yt(M),St=ot===""?"."+P(M,0):ot,rt(yt)?(ct="",St!=null&&(ct=St.replace(x,"$&/")+"/"),Jt(yt,it,ct,"",function(Xn){return Xn})):yt!=null&&(R(yt)&&(yt=S(yt,ct+(yt.key==null||M&&M.key===yt.key?"":(""+yt.key).replace(x,"$&/")+"/")+St)),it.push(yt)),1;St=0;var Oe=ot===""?".":ot+":";if(rt(M))for(var te=0;te<M.length;te++)ot=M[te],Nt=Oe+P(ot,te),St+=Jt(ot,it,ct,Nt,yt);else if(te=A(M),typeof te=="function")for(M=te.call(M),te=0;!(ot=M.next()).done;)ot=ot.value,Nt=Oe+P(ot,te++),St+=Jt(ot,it,ct,Nt,yt);else if(Nt==="object"){if(typeof M.then=="function")return Jt(re(M),it,ct,ot,yt);throw it=String(M),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(M,it,ct){if(M==null)return M;var ot=[],yt=0;return Jt(M,ot,"","",function(Nt){return it.call(ct,Nt,yt++)}),ot}function ut(M){if(M._status===-1){var it=M._result;it=it(),it.then(function(ct){(M._status===0||M._status===-1)&&(M._status=1,M._result=ct)},function(ct){(M._status===0||M._status===-1)&&(M._status=2,M._result=ct)}),M._status===-1&&(M._status=0,M._result=it)}if(M._status===1)return M._result.default;throw M._result}var mt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function jt(){}return It.Children={map:W,forEach:function(M,it,ct){W(M,function(){it.apply(this,arguments)},ct)},count:function(M){var it=0;return W(M,function(){it++}),it},toArray:function(M){return W(M,function(it){return it})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},It.Component=U,It.Fragment=n,It.Profiler=o,It.PureComponent=F,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return at.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cloneElement=function(M,it,ct){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=O({},M.props),yt=M.key,Nt=void 0;if(it!=null)for(St in it.ref!==void 0&&(Nt=void 0),it.key!==void 0&&(yt=""+it.key),it)!st.call(it,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&it.ref===void 0||(ot[St]=it[St]);var St=arguments.length-2;if(St===1)ot.children=ct;else if(1<St){for(var Oe=Array(St),te=0;te<St;te++)Oe[te]=arguments[te+2];ot.children=Oe}return I(M.type,yt,void 0,void 0,Nt,ot)},It.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},It.createElement=function(M,it,ct){var ot,yt={},Nt=null;if(it!=null)for(ot in it.key!==void 0&&(Nt=""+it.key),it)st.call(it,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(yt[ot]=it[ot]);var St=arguments.length-2;if(St===1)yt.children=ct;else if(1<St){for(var Oe=Array(St),te=0;te<St;te++)Oe[te]=arguments[te+2];yt.children=Oe}if(M&&M.defaultProps)for(ot in St=M.defaultProps,St)yt[ot]===void 0&&(yt[ot]=St[ot]);return I(M,Nt,void 0,void 0,null,yt)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:m,render:M}},It.isValidElement=R,It.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ut}},It.memo=function(M,it){return{$$typeof:g,type:M,compare:it===void 0?null:it}},It.startTransition=function(M){var it=at.T,ct={};at.T=ct;try{var ot=M(),yt=at.S;yt!==null&&yt(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(jt,mt)}catch(Nt){mt(Nt)}finally{at.T=it}},It.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},It.use=function(M){return at.H.use(M)},It.useActionState=function(M,it,ct){return at.H.useActionState(M,it,ct)},It.useCallback=function(M,it){return at.H.useCallback(M,it)},It.useContext=function(M){return at.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,it){return at.H.useDeferredValue(M,it)},It.useEffect=function(M,it,ct){var ot=at.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(M,it)},It.useId=function(){return at.H.useId()},It.useImperativeHandle=function(M,it,ct){return at.H.useImperativeHandle(M,it,ct)},It.useInsertionEffect=function(M,it){return at.H.useInsertionEffect(M,it)},It.useLayoutEffect=function(M,it){return at.H.useLayoutEffect(M,it)},It.useMemo=function(M,it){return at.H.useMemo(M,it)},It.useOptimistic=function(M,it){return at.H.useOptimistic(M,it)},It.useReducer=function(M,it,ct){return at.H.useReducer(M,it,ct)},It.useRef=function(M){return at.H.useRef(M)},It.useState=function(M){return at.H.useState(M)},It.useSyncExternalStore=function(M,it,ct){return at.H.useSyncExternalStore(M,it,ct)},It.useTransition=function(){return at.H.useTransition()},It.version="19.1.0",It}var Cv;function fp(){return Cv||(Cv=1,fm.exports=Zb()),fm.exports}var B=fp();const ie=TE(B);var dm={exports:{}},Vl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function Jb(){return Dv||(Dv=1,function(i){function t(W,ut){var mt=W.length;W.push(ut);t:for(;0<mt;){var jt=mt-1>>>1,M=W[jt];if(0<o(M,ut))W[jt]=ut,W[mt]=M,mt=jt;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ut=W[0],mt=W.pop();if(mt!==ut){W[0]=mt;t:for(var jt=0,M=W.length,it=M>>>1;jt<it;){var ct=2*(jt+1)-1,ot=W[ct],yt=ct+1,Nt=W[yt];if(0>o(ot,mt))yt<M&&0>o(Nt,ot)?(W[jt]=Nt,W[yt]=mt,jt=yt):(W[jt]=ot,W[ct]=mt,jt=ct);else if(yt<M&&0>o(Nt,mt))W[jt]=Nt,W[yt]=mt,jt=yt;else break t}}return ut}function o(W,ut){var mt=W.sortIndex-ut.sortIndex;return mt!==0?mt:W.id-ut.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,A=3,V=!1,O=!1,z=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function rt(W){for(var ut=n(g);ut!==null;){if(ut.callback===null)s(g);else if(ut.startTime<=W)s(g),ut.sortIndex=ut.expirationTime,t(p,ut);else break;ut=n(g)}}function at(W){if(z=!1,rt(W),!O)if(n(p)!==null)O=!0,st||(st=!0,P());else{var ut=n(g);ut!==null&&Jt(at,ut.startTime-W)}}var st=!1,I=-1,S=5,R=-1;function C(){return U?!0:!(i.unstable_now()-R<S)}function x(){if(U=!1,st){var W=i.unstable_now();R=W;var ut=!0;try{t:{O=!1,z&&(z=!1,F(I),I=-1),V=!0;var mt=A;try{e:{for(rt(W),b=n(p);b!==null&&!(b.expirationTime>W&&C());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,A=b.priorityLevel;var M=jt(b.expirationTime<=W);if(W=i.unstable_now(),typeof M=="function"){b.callback=M,rt(W),ut=!0;break e}b===n(p)&&s(p),rt(W)}else s(p);b=n(p)}if(b!==null)ut=!0;else{var it=n(g);it!==null&&Jt(at,it.startTime-W),ut=!1}}break t}finally{b=null,A=mt,V=!1}ut=void 0}}finally{ut?P():st=!1}}}var P;if(typeof X=="function")P=function(){X(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,re=D.port2;D.port1.onmessage=x,P=function(){re.postMessage(null)}}else P=function(){q(x,0)};function Jt(W,ut){I=q(function(){W(i.unstable_now())},ut)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(W){switch(A){case 1:case 2:case 3:var ut=3;break;default:ut=A}var mt=A;A=ut;try{return W()}finally{A=mt}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(W,ut){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=A;A=W;try{return ut()}finally{A=mt}},i.unstable_scheduleCallback=function(W,ut,mt){var jt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=mt+M,W={id:E++,callback:ut,priorityLevel:W,startTime:mt,expirationTime:M,sortIndex:-1},mt>jt?(W.sortIndex=mt,t(g,W),n(p)===null&&W===n(g)&&(z?(F(I),I=-1):z=!0,Jt(at,mt-jt))):(W.sortIndex=M,t(p,W),O||V||(O=!0,st||(st=!0,P()))),W},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(W){var ut=A;return function(){var mt=A;A=ut;try{return W.apply(this,arguments)}finally{A=mt}}}}(pm)),pm}var Nv;function $b(){return Nv||(Nv=1,mm.exports=Jb()),mm.exports}var gm={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function tS(){if(Ov)return Xe;Ov=1;var i=fp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Xe.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xe.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xe.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xe.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xe.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xe.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xe.requestFormReset=function(p){s.d.r(p)},Xe.unstable_batchedUpdates=function(p,g){return p(g)},Xe.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var xv;function eS(){if(xv)return gm.exports;xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),gm.exports=tS(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function nS(){if(Vv)return Vl;Vv=1;var i=$b(),t=fp(),n=eS();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function f(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function g(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=g(e),r!==null)return r;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case at:return"Suspense";case st:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case X:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case rt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return r=e.displayName||null,r!==null?r:re(e.type)||"Memo";case S:r=e._payload,e=e._init;try{return re(e(r))}catch{}}return null}var Jt=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],M=-1;function it(e){return{current:e}}function ct(e){0>M||(e.current=jt[M],jt[M]=null,M--)}function ot(e,r){M++,jt[M]=e.current,e.current=r}var yt=it(null),Nt=it(null),St=it(null),Oe=it(null);function te(e,r){switch(ot(St,r),ot(Nt,e),ot(yt,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?$_(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=$_(r),e=tv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(yt),ot(yt,e)}function Xn(){ct(yt),ct(Nt),ct(St)}function or(e){e.memoizedState!==null&&ot(Oe,e);var r=yt.current,a=tv(r,e.type);r!==a&&(ot(Nt,e),ot(yt,a))}function Ei(e){Nt.current===e&&(ct(yt),ct(Nt)),Oe.current===e&&(ct(Oe),Il._currentValue=mt)}var rs=Object.prototype.hasOwnProperty,ss=i.unstable_scheduleCallback,as=i.unstable_cancelCallback,So=i.unstable_shouldYield,Su=i.unstable_requestPaint,Sn=i.unstable_now,hf=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,ra=i.unstable_UserBlockingPriority,os=i.unstable_NormalPriority,ff=i.unstable_LowPriority,sa=i.unstable_IdlePriority,Ro=i.log,wu=i.unstable_setDisableYieldValue,ce=null,Gt=null;function mn(e){if(typeof Ro=="function"&&wu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ce,e)}catch{}}var Ke=Math.clz32?Math.clz32:ls,Ru=Math.log,df=Math.LN2;function ls(e){return e>>>=0,e===0?32:31-(Ru(e)/df|0)|0}var us=256,cs=4194304;function Bn(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function aa(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Bn(l):(v&=T,v!==0?h=Bn(v):a||(a=T&~e,a!==0&&(h=Bn(a))))):(T=l&~d,T!==0?h=Bn(T):v!==0?h=Bn(v):a||(a=l&~e,a!==0&&(h=Bn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function hs(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Io(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var e=us;return us<<=1,(us&4194048)===0&&(us=256),e}function Do(){var e=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),e}function Ti(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function Ai(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function No(e,r,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,N=e.expirationTimes,G=e.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Ke(a),$=1<<Z;T[Z]=0,N[Z]=-1;var Q=G[Z];if(Q!==null)for(G[Z]=null,Z=0;Z<Q.length;Z++){var K=Q[Z];K!==null&&(K.lane&=-536870913)}a&=~$}l!==0&&Wn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~r))}function Wn(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-Ke(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Oo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-Ke(a),h=1<<l;h&r|e[l]&r&&(e[l]|=r),a&=~h}}function lr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ur(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:vv(e.type))}function Iu(e,r){var a=ut.p;try{return ut.p=e,r()}finally{ut.p=a}}var se=Math.random().toString(36).slice(2),be="__reactFiber$"+se,ye="__reactProps$"+se,wn="__reactContainer$"+se,xo="__reactEvents$"+se,mf="__reactListeners$"+se,cr="__reactHandles$"+se,Cu="__reactResources$"+se,fs="__reactMarker$"+se;function hr(e){delete e[be],delete e[ye],delete e[xo],delete e[mf],delete e[cr]}function bi(e){var r=e[be];if(r)return r;for(var a=e.parentNode;a;){if(r=a[wn]||a[be]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=rv(e);e!==null;){if(a=e[be])return a;e=rv(e)}return r}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[be]||e[wn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function Jn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function nn(e){var r=e[Cu];return r||(r=e[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function de(e){e[fs]=!0}var Vo=new Set,la={};function zn(e,r){Si(e,r),Si(e+"Capture",r)}function Si(e,r){for(la[e]=r,e=0;e<r.length;e++)Vo.add(r[e])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},ds={};function Ou(e){return rs.call(ds,e)?!0:rs.call(Nu,e)?!1:Du.test(e)?ds[e]=!0:(Nu[e]=!0,!1)}function fr(e,r,a){if(Ou(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function $n(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Le(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}var ms,xu;function wi(e){if(ms===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ms=r&&r[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+e+xu}var ua=!1;function ca(e,r){if(!e||ua)return"";ua=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(K){var Q=K}Reflect.construct(e,[],$)}else{try{$.call()}catch(K){Q=K}e.call($.prototype)}}else{try{throw Error()}catch(K){Q=K}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(K){if(K&&Q&&typeof K.stack=="string")return[K.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),G=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===G.length)for(l=N.length-1,h=G.length-1;1<=l&&0<=h&&N[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==G[h]){var Z=`
`+N[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ua=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wi(a):""}function Mo(e){switch(e.tag){case 26:case 27:case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return ca(e.type,!1);case 11:return ca(e.type.render,!1);case 1:return ca(e.type,!0);case 31:return wi("Activity");default:return""}}function ha(e){try{var r="";do r+=Mo(e),e=e.return;while(e);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Po(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(e){var r=Po(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function fa(e){e._valueTracker||(e._valueTracker=pf(e))}function ko(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Po(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gf=/[\n"\\]/g;function _e(e){return e.replace(gf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pn(e,r,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),r!=null?v==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+rn(r)):e.value!==""+rn(r)&&(e.value=""+rn(r)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),r!=null?dr(e,v,rn(r)):a!=null?dr(e,v,rn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+rn(T):e.removeAttribute("name")}function gs(e,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===e.value||(e.value=r),e.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function dr(e,r,a){r==="number"&&ps(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ri(e,r,a,l){if(e=e.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=r.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function Yt(e,r,a){if(r!=null&&(r=""+rn(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+rn(a):""}function ys(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Jt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Rn(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||_s.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Uo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Vu(e,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vu(e,d,r[d])}function Lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return _f.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ii=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Di=null;function Bo(e){var r=Zn(e);if(r&&(e=r.stateNode)){var a=e[ye]||null;t:switch(e=r.stateNode,r.type){case"input":if(pn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_e(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var h=l[ye]||null;if(!h)throw Error(s(90));pn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&ko(l)}break t;case"textarea":Yt(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Ri(e,!!a.multiple,r,!1)}}}var ti=!1;function Mu(e,r,a){if(ti)return e(r,a);ti=!0;try{var l=e(r);return l}finally{if(ti=!1,(Ci!==null||Di!==null)&&(Ic(),Ci&&(r=Ci,e=Di,Di=Ci=null,Bo(r),e)))for(r=0;r<e.length;r++)Bo(e[r])}}function vs(e,r){var a=e.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(jn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Cn=!1}var ei=null,mr=null,Ni=null;function zo(){if(Ni)return Ni;var e,r=mr,a=r.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(e=0;e<a&&r[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Ni=h.slice(e,1<l?1-l:void 0)}function ni(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function jo(){return!1}function xe(e){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:jo,this.isPropagationStopped=jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ma=xe(Ht),Ts=E({},Ht,{view:0,detail:0}),Pu=xe(Ts),pa,ga,ri,As=E({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(pa=e.screenX-ri.screenX,ga=e.screenY-ri.screenY):ga=pa=0,ri=e),pa)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Dn=xe(As),ku=E({},As,{dataTransfer:0}),vf=xe(ku),bs=E({},Ts,{relatedTarget:0}),ya=xe(bs),qo=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),_a=xe(qo),Uu=E({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),va=xe(Uu),Ef=E({},Ht,{data:0}),Ho=xe(Ef),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Bu[e])?!!r[e]:!1}function ws(){return Fo}var zu=E({},Ts,{key:function(e){if(e.key){var r=Ss[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ea=xe(zu),ju=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=xe(ju),Oi=E({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),qu=xe(Oi),Hu=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=xe(Hu),Gu=E({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ta=xe(Gu),sn=E({},Ht,{newState:0,oldState:0}),Qu=xe(sn),Ku=[9,13,27,32],si=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!si||c&&8<c&&11>=c),w=" ",j=!1;function Y(e,r){switch(e){case"keyup":return Ku.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Se(e,r){switch(e){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(j=!0,w);case"textInput":return e=r.data,e===w&&j?null:e;default:return null}}function Ut(e,r){if(kt)return e==="compositionend"||!si&&Y(e,r)?(e=zo(),Ni=mr=ei=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ve[e.type]:r==="textarea"}function xi(e,r,a,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,r=Vc(r,"onChange"),0<r.length&&(a=new ma("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var Be=null,ai=null;function Qo(e){Y_(e,0)}function Yu(e){var r=Jn(e);if(ko(r))return e}function pg(e,r){if(e==="change")return r}var gg=!1;if(jn){var Tf;if(jn){var Af="oninput"in document;if(!Af){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Af=typeof yg.oninput=="function"}Tf=Af}else Tf=!1;gg=Tf&&(!document.documentMode||9<document.documentMode)}function _g(){Be&&(Be.detachEvent("onpropertychange",vg),ai=Be=null)}function vg(e){if(e.propertyName==="value"&&Yu(ai)){var r=[];xi(r,ai,e,In(e)),Mu(Qo,r)}}function w1(e,r,a){e==="focusin"?(_g(),Be=r,ai=a,Be.attachEvent("onpropertychange",vg)):e==="focusout"&&_g()}function R1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yu(ai)}function I1(e,r){if(e==="click")return Yu(r)}function C1(e,r){if(e==="input"||e==="change")return Yu(r)}function D1(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var gn=typeof Object.is=="function"?Object.is:D1;function Ko(e,r){if(gn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!rs.call(r,h)||!gn(e[h],r[h]))return!1}return!0}function Eg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,r){var a=Eg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Eg(a)}}function Ag(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Ag(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function bg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=ps(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=ps(e.document)}return r}function bf(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var N1=jn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Sf=null,Yo=null,wf=!1;function Sg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Aa==null||Aa!==ps(l)||(l=Aa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=Vc(Sf,"onSelect"),0<l.length&&(r=new ma("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Aa)))}function Rs(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var ba={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Rf={},wg={};jn&&(wg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Is(e){if(Rf[e])return Rf[e];if(!ba[e])return e;var r=ba[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in wg)return Rf[e]=r[a];return e}var Rg=Is("animationend"),Ig=Is("animationiteration"),Cg=Is("animationstart"),O1=Is("transitionrun"),x1=Is("transitionstart"),V1=Is("transitioncancel"),Dg=Is("transitionend"),Ng=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function qn(e,r){Ng.set(e,r),zn(r,[e])}var Og=new WeakMap;function Nn(e,r){if(typeof e=="object"&&e!==null){var a=Og.get(e);return a!==void 0?a:(r={value:e,source:r,stack:ha(r)},Og.set(e,r),r)}return{value:e,source:r,stack:ha(r)}}var On=[],Sa=0,Cf=0;function Xu(){for(var e=Sa,r=Cf=Sa=0;r<e;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var h=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&xg(a,h,d)}}function Wu(e,r,a,l){On[Sa++]=e,On[Sa++]=r,On[Sa++]=a,On[Sa++]=l,Cf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Df(e,r,a,l){return Wu(e,r,a,l),Zu(e)}function wa(e,r){return Wu(e,null,null,r),Zu(e)}function xg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&r!==null&&(h=31-Ke(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(e){if(50<vl)throw vl=0,Pd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var Ra={};function M1(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,r,a,l){return new M1(e,r,a,l)}function Nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,r){var a=e.alternate;return a===null?(a=yn(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function Ju(e,r,a,l,h,d){var v=0;if(l=e,typeof e=="function")Nf(e)&&(v=1);else if(typeof e=="string")v=kb(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=yn(31,a,r,h),e.elementType=R,e.lanes=d,e;case O:return Cs(a.children,h,d,r);case z:v=8,h|=24;break;case U:return e=yn(12,a,r,h|2),e.elementType=U,e.lanes=d,e;case at:return e=yn(13,a,r,h),e.elementType=at,e.lanes=d,e;case st:return e=yn(19,a,r,h),e.elementType=st,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:case X:v=10;break t;case F:v=9;break t;case rt:v=11;break t;case I:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=yn(v,a,r,h),r.elementType=e,r.type=l,r.lanes=d,r}function Cs(e,r,a,l){return e=yn(7,e,l,r),e.lanes=a,e}function Of(e,r,a){return e=yn(6,e,null,r),e.lanes=a,e}function xf(e,r,a){return r=yn(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Ia=[],Ca=0,$u=null,tc=0,xn=[],Vn=0,Ds=null,Mi=1,Pi="";function Ns(e,r){Ia[Ca++]=tc,Ia[Ca++]=$u,$u=e,tc=r}function Mg(e,r,a){xn[Vn++]=Mi,xn[Vn++]=Pi,xn[Vn++]=Ds,Ds=e;var l=Mi;e=Pi;var h=32-Ke(l)-1;l&=~(1<<h),a+=1;var d=32-Ke(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-Ke(r)+h|a<<h|l,Pi=d+e}else Mi=1<<d|a<<h|l,Pi=e}function Vf(e){e.return!==null&&(Ns(e,1),Mg(e,1,0))}function Mf(e){for(;e===$u;)$u=Ia[--Ca],Ia[Ca]=null,tc=Ia[--Ca],Ia[Ca]=null;for(;e===Ds;)Ds=xn[--Vn],xn[Vn]=null,Pi=xn[--Vn],xn[Vn]=null,Mi=xn[--Vn],xn[Vn]=null}var an=null,he=null,qt=!1,Os=null,oi=!1,Pf=Error(s(519));function xs(e){var r=Error(s(418,""));throw Zo(Nn(r,e)),Pf}function Pg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[be]=e,r[ye]=l,a){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Vt(Tl[a],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),gs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),fa(r);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),ys(r,l.value,l.defaultValue,l.children),fa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||J_(r.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),l.onScroll!=null&&Vt("scroll",r),l.onScrollEnd!=null&&Vt("scrollend",r),l.onClick!=null&&(r.onclick=Mc),r=!0):r=!1,r||xs(e)}function kg(e){for(an=e.return;an;)switch(an.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:an=an.return}}function Xo(e){if(e!==an)return!1;if(!qt)return kg(e),qt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zd(e.type,e.memoizedProps)),a=!a),a&&he&&xs(e),kg(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(r===0){he=Fn(e.nextSibling);break t}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;e=e.nextSibling}he=null}}else r===27?(r=he,Nr(e.type)?(e=em,em=null,he=e):he=r):he=an?Fn(e.stateNode.nextSibling):null;return!0}function Wo(){he=an=null,qt=!1}function Ug(){var e=Os;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Os=null),e}function Zo(e){Os===null?Os=[e]:Os.push(e)}var kf=it(null),Vs=null,ki=null;function pr(e,r,a){ot(kf,r._currentValue),r._currentValue=a}function Ui(e){e._currentValue=kf.current,ct(kf)}function Uf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Lf(e,r,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var N=0;N<r.length;N++)if(T.context===r[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Uf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Uf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Jo(e,r,a,l){e=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;gn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Il):e=[Il])}h=h.return}e!==null&&Lf(r,e,a,l),r.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){Vs=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Lg(Vs,e)}function nc(e,r){return Vs===null&&Ms(e),Lg(e,r)}function Lg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else ki=ki.next=r;return a}var P1=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},k1=i.unstable_scheduleCallback,U1=i.unstable_NormalPriority,Re={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new P1,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&k1(U1,function(){e.controller.abort()})}var tl=null,zf=0,Da=0,Na=null;function L1(e,r){if(tl===null){var a=tl=[];zf=0,Da=qd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,r.then(Bg,Bg),r}function Bg(){if(--zf===0&&tl!==null){Na!==null&&(Na.status="fulfilled");var e=tl;tl=null,Da=0,Na=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function B1(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var zg=W.S;W.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&L1(e,r),zg!==null&&zg(e,r)};var Ps=it(null);function jf(){var e=Ps.current;return e!==null?e:ee.pooledCache}function ic(e,r){r===null?ot(Ps,Ps.current):ot(Ps,r.pool)}function jg(){var e=jf();return e===null?null:{parent:Re._currentValue,pool:e}}var el=Error(s(460)),qg=Error(s(474)),rc=Error(s(542)),qf={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sc(){}function Fg(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(sc,sc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Qg(e),e;default:if(typeof r.status=="string")r.then(sc,sc);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,Qg(e),e}throw nl=r,el}}var nl=null;function Gg(){if(nl===null)throw Error(s(459));var e=nl;return nl=null,e}function Qg(e){if(e===el||e===rc)throw Error(s(483))}var gr=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Zu(e),xg(e,null,a),r}return Wu(e,l,r,a),Zu(e)}function il(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Oo(e,a)}}function Gf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Qf=!1;function rl(){if(Qf){var e=Na;if(e!==null)throw e}}function sl(e,r,a,l){Qf=!1;var h=e.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,G=N.next;N.next=null,v===null?d=G:v.next=G,v=N;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=G:T.next=G,Z.lastBaseUpdate=N))}if(d!==null){var $=h.baseState;v=0,Z=G=N=null,T=d;do{var Q=T.lane&-536870913,K=Q!==T.lane;if(K?(Lt&Q)===Q:(l&Q)===Q){Q!==0&&Q===Da&&(Qf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var At=e,_t=T;Q=r;var Zt=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){$=At.call(Zt,$,Q);break t}$=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,Q=typeof At=="function"?At.call(Zt,$,Q):At,Q==null)break t;$=E({},$,Q);break t;case 2:gr=!0}}Q=T.callback,Q!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[Q]:K.push(Q))}else K={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(G=Z=K,N=$):Z=Z.next=K,v|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(N=$),h.baseState=N,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Rr|=v,e.lanes=v,e.memoizedState=$}}function Kg(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function Yg(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Kg(a[e],r)}var Oa=it(null),ac=it(0);function Xg(e,r){e=Fi,ot(ac,e),ot(Oa,r),Fi=e|r.baseLanes}function Kf(){ot(ac,Fi),ot(Oa,Oa.current)}function Yf(){Fi=ac.current,ct(Oa),ct(ac)}var vr=0,Ct=null,Xt=null,ve=null,oc=!1,xa=!1,ks=!1,lc=0,al=0,Va=null,z1=0;function me(){throw Error(s(321))}function Xf(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!gn(e[a],r[a]))return!1;return!0}function Wf(e,r,a,l,h,d){return vr=d,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=e===null||e.memoizedState===null?xy:Vy,ks=!1,d=a(l,h),ks=!1,xa&&(d=Zg(r,a,l,h)),Wg(e),d}function Wg(e){W.H=mc;var r=Xt!==null&&Xt.next!==null;if(vr=0,ve=Xt=Ct=null,oc=!1,al=0,Va=null,r)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&ec(e)&&(Me=!0))}function Zg(e,r,a,l){Ct=e;var h=0;do{if(xa&&(Va=null),al=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,ve=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=K1,d=r(a,l)}while(xa);return d}function j1(){var e=W.H,r=e.useState()[0];return r=typeof r.then=="function"?ol(r):r,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Ct.flags|=1024),r}function Zf(){var e=lc!==0;return lc=0,e}function Jf(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function $f(e){if(oc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}oc=!1}vr=0,ve=Xt=Ct=null,xa=!1,al=lc=0,Va=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Ct.memoizedState=ve=e:ve=ve.next=e,ve}function Ee(){if(Xt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var r=ve===null?Ct.memoizedState:ve.next;if(r!==null)ve=r,Xt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ve===null?Ct.memoizedState=ve=e:ve=ve.next=e}return ve}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var r=al;return al+=1,Va===null&&(Va=[]),e=Fg(Va,e,r),r=Ct,(ve===null?r.memoizedState:ve.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?xy:Vy),e}function uc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===X)return Ye(e)}throw Error(s(438,String(e)))}function ed(e){var r=null,a=Ct.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=td(),Ct.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=C;return r.index++,a}function Li(e,r){return typeof r=="function"?r(e):r}function cc(e){var r=Ee();return nd(r,Xt,e)}function nd(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{r=h.next;var T=v=null,N=null,G=r,Z=!1;do{var $=G.lane&-536870913;if($!==G.lane?(Lt&$)===$:(vr&$)===$){var Q=G.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),$===Da&&(Z=!0);else if((vr&Q)===Q){G=G.next,Q===Da&&(Z=!0);continue}else $={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(T=N=$,v=d):N=N.next=$,Ct.lanes|=Q,Rr|=Q;$=G.action,ks&&a(d,$),d=G.hasEagerState?G.eagerState:a(d,$)}else Q={lane:$,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(T=N=Q,v=d):N=N.next=Q,Ct.lanes|=$,Rr|=$;G=G.next}while(G!==null&&G!==r);if(N===null?v=d:N.next=T,!gn(d,e.memoizedState)&&(Me=!0,Z&&(a=Na,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function id(e){var r=Ee(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);gn(d,r.memoizedState)||(Me=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Jg(e,r,a){var l=Ct,h=Ee(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!gn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Me=!0),h=h.queue;var T=ey.bind(null,l,h,e);if(ll(2048,8,T,[e]),h.getSnapshot!==r||v||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,Ma(9,hc(),ty.bind(null,l,h,a,r),null),ee===null)throw Error(s(349));d||(vr&124)!==0||$g(l,r,a)}return a}function $g(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Ct.updateQueue,r===null?(r=td(),Ct.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function ty(e,r,a,l){r.value=a,r.getSnapshot=l,ny(r)&&iy(e)}function ey(e,r,a){return a(function(){ny(r)&&iy(e)})}function ny(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!gn(e,a)}catch{return!0}}function iy(e){var r=wa(e,2);r!==null&&An(r,e,2)}function rd(e){var r=un();if(typeof e=="function"){var a=e;if(e=a(),ks){mn(!0);try{a()}finally{mn(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},r}function ry(e,r,a,l){return e.baseState=a,nd(e,Xt,typeof l=="function"?l:Li)}function q1(e,r,a,l,h){if(dc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,sy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function sy(e,r){var a=r.action,l=r.payload,h=e.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var T=a(h,l),N=W.S;N!==null&&N(v,T),ay(e,r,T)}catch(G){sd(e,r,G)}finally{W.T=d}}else try{d=a(h,l),ay(e,r,d)}catch(G){sd(e,r,G)}}function ay(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){oy(e,r,l)},function(l){return sd(e,r,l)}):oy(e,r,a)}function oy(e,r,a){r.status="fulfilled",r.value=a,ly(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,sy(e,a)))}function sd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ly(r),r=r.next;while(r!==l)}e.action=null}function ly(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function uy(e,r){return r}function cy(e,r){if(qt){var a=ee.formState;if(a!==null){t:{var l=Ct;if(qt){if(he){e:{for(var h=he,d=oi;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){he=Fn(h.nextSibling),l=h.data==="F!";break t}}xs(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:r},a.queue=l,a=Dy.bind(null,Ct,l),l.dispatch=a,l=rd(!1),d=cd.bind(null,Ct,!1,l.queue),l=un(),h={state:r,dispatch:null,action:e,pending:null},l.queue=h,a=q1.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[r,a,!1]}function hy(e){var r=Ee();return fy(r,Xt,e)}function fy(e,r,a){if(r=nd(e,r,uy)[0],e=cc(Li)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ol(r)}catch(v){throw v===el?rc:v}else l=r;r=Ee();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ct.flags|=2048,Ma(9,hc(),H1.bind(null,h,a),null)),[l,d,e]}function H1(e,r){e.action=r}function dy(e){var r=Ee(),a=Xt;if(a!==null)return fy(r,a,e);Ee(),r=r.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Ma(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=td(),Ct.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function hc(){return{destroy:void 0,resource:void 0}}function my(){return Ee().memoizedState}function fc(e,r,a,l){var h=un();l=l===void 0?null:l,Ct.flags|=e,h.memoizedState=Ma(1|r,hc(),a,l)}function ll(e,r,a,l){var h=Ee();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Xf(l,Xt.memoizedState.deps)?h.memoizedState=Ma(r,d,a,l):(Ct.flags|=e,h.memoizedState=Ma(1|r,d,a,l))}function py(e,r){fc(8390656,8,e,r)}function gy(e,r){ll(2048,8,e,r)}function yy(e,r){return ll(4,2,e,r)}function _y(e,r){return ll(4,4,e,r)}function vy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Ey(e,r,a){a=a!=null?a.concat([e]):null,ll(4,4,vy.bind(null,r,e),a)}function ad(){}function Ty(e,r){var a=Ee();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xf(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Ay(e,r){var a=Ee();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xf(r,l[1]))return l[0];if(l=e(),ks){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,r],l}function od(e,r,a){return a===void 0||(vr&1073741824)!==0?e.memoizedState=r:(e.memoizedState=a,e=w_(),Ct.lanes|=e,Rr|=e,a)}function by(e,r,a,l){return gn(a,r)?a:Oa.current!==null?(e=od(e,a,l),gn(e,r)||(Me=!0),e):(vr&42)===0?(Me=!0,e.memoizedState=a):(e=w_(),Ct.lanes|=e,Rr|=e,r)}function Sy(e,r,a,l,h){var d=ut.p;ut.p=d!==0&&8>d?d:8;var v=W.T,T={};W.T=T,cd(e,!1,r,a);try{var N=h(),G=W.S;if(G!==null&&G(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=B1(N,l);ul(e,r,Z,Tn(e))}else ul(e,r,l,Tn(e))}catch($){ul(e,r,{then:function(){},status:"rejected",reason:$},Tn())}finally{ut.p=d,W.T=v}}function F1(){}function ld(e,r,a,l){if(e.tag!==5)throw Error(s(476));var h=wy(e).queue;Sy(e,h,r,mt,a===null?F1:function(){return Ry(e),a(l)})}function wy(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:mt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function Ry(e){var r=wy(e).next.queue;ul(e,r,{},Tn())}function ud(){return Ye(Il)}function Iy(){return Ee().memoizedState}function Cy(){return Ee().memoizedState}function G1(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=Tn();e=yr(a);var l=_r(r,e,a);l!==null&&(An(l,r,a),il(l,r,a)),r={cache:Bf()},e.payload=r;return}r=r.return}}function Q1(e,r,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(e)?Ny(r,a):(a=Df(e,r,a,l),a!==null&&(An(a,e,l),Oy(a,r,l)))}function Dy(e,r,a){var l=Tn();ul(e,r,a,l)}function ul(e,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(e))Ny(r,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,v))return Wu(e,r,h,0),ee===null&&Xu(),!1}catch{}finally{}if(a=Df(e,r,h,l),a!==null)return An(a,e,l),Oy(a,r,l),!0}return!1}function cd(e,r,a,l){if(l={lane:2,revertLane:qd(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(e)){if(r)throw Error(s(479))}else r=Df(e,a,l,2),r!==null&&An(r,e,2)}function dc(e){var r=e.alternate;return e===Ct||r!==null&&r===Ct}function Ny(e,r){xa=oc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Oy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,Oo(e,a)}}var mc={readContext:Ye,use:uc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},xy={readContext:Ye,use:uc,useCallback:function(e,r){return un().memoizedState=[e,r===void 0?null:r],e},useContext:Ye,useEffect:py,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,fc(4194308,4,vy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return fc(4194308,4,e,r)},useInsertionEffect:function(e,r){fc(4,2,e,r)},useMemo:function(e,r){var a=un();r=r===void 0?null:r;var l=e();if(ks){mn(!0);try{e()}finally{mn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=un();if(a!==void 0){var h=a(r);if(ks){mn(!0);try{a(r)}finally{mn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Q1.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var r=un();return e={current:e},r.memoizedState=e},useState:function(e){e=rd(e);var r=e.queue,a=Dy.bind(null,Ct,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(e,r){var a=un();return od(a,e,r)},useTransition:function(){var e=rd(!1);return e=Sy.bind(null,Ct,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Ct,h=un();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(Lt&124)!==0||$g(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,py(ey.bind(null,l,d,e),[e]),l.flags|=2048,Ma(9,hc(),ty.bind(null,l,d,a,r),null),a},useId:function(){var e=un(),r=ee.identifierPrefix;if(qt){var a=Pi,l=Mi;a=(l&~(1<<32-Ke(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=lc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=z1++,r="«"+r+"r"+a.toString(32)+"»";return e.memoizedState=r},useHostTransitionStatus:ud,useFormState:cy,useActionState:cy,useOptimistic:function(e){var r=un();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=cd.bind(null,Ct,!0,a),a.dispatch=r,[e,r]},useMemoCache:ed,useCacheRefresh:function(){return un().memoizedState=G1.bind(null,Ct)}},Vy={readContext:Ye,use:uc,useCallback:Ty,useContext:Ye,useEffect:gy,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ay,useReducer:cc,useRef:my,useState:function(){return cc(Li)},useDebugValue:ad,useDeferredValue:function(e,r){var a=Ee();return by(a,Xt.memoizedState,e,r)},useTransition:function(){var e=cc(Li)[0],r=Ee().memoizedState;return[typeof e=="boolean"?e:ol(e),r]},useSyncExternalStore:Jg,useId:Iy,useHostTransitionStatus:ud,useFormState:hy,useActionState:hy,useOptimistic:function(e,r){var a=Ee();return ry(a,Xt,e,r)},useMemoCache:ed,useCacheRefresh:Cy},K1={readContext:Ye,use:uc,useCallback:Ty,useContext:Ye,useEffect:gy,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ay,useReducer:id,useRef:my,useState:function(){return id(Li)},useDebugValue:ad,useDeferredValue:function(e,r){var a=Ee();return Xt===null?od(a,e,r):by(a,Xt.memoizedState,e,r)},useTransition:function(){var e=id(Li)[0],r=Ee().memoizedState;return[typeof e=="boolean"?e:ol(e),r]},useSyncExternalStore:Jg,useId:Iy,useHostTransitionStatus:ud,useFormState:dy,useActionState:dy,useOptimistic:function(e,r){var a=Ee();return Xt!==null?ry(a,Xt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Cy},Pa=null,cl=0;function pc(e){var r=cl;return cl+=1,Pa===null&&(Pa=[]),Fg(Pa,e,r)}function hl(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function gc(e,r){throw r.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function My(e){var r=e._init;return r(e._payload)}function Py(e){function r(L,k){if(e){var H=L.deletions;H===null?(L.deletions=[k],L.flags|=16):H.push(k)}}function a(L,k){if(!e)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=Vi(L,k),L.index=0,L.sibling=null,L}function d(L,k,H){return L.index=H,e?(H=L.alternate,H!==null?(H=H.index,H<k?(L.flags|=67108866,k):H):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,H,J){return k===null||k.tag!==6?(k=Of(H,L.mode,J),k.return=L,k):(k=h(k,H),k.return=L,k)}function N(L,k,H,J){var dt=H.type;return dt===O?Z(L,k,H.props.children,J,H.key):k!==null&&(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&My(dt)===k.type)?(k=h(k,H.props),hl(k,H),k.return=L,k):(k=Ju(H.type,H.key,H.props,null,L.mode,J),hl(k,H),k.return=L,k)}function G(L,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=xf(H,L.mode,J),k.return=L,k):(k=h(k,H.children||[]),k.return=L,k)}function Z(L,k,H,J,dt){return k===null||k.tag!==7?(k=Cs(H,L.mode,J,dt),k.return=L,k):(k=h(k,H),k.return=L,k)}function $(L,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Of(""+k,L.mode,H),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return H=Ju(k.type,k.key,k.props,null,L.mode,H),hl(H,k),H.return=L,H;case V:return k=xf(k,L.mode,H),k.return=L,k;case S:var J=k._init;return k=J(k._payload),$(L,k,H)}if(Jt(k)||P(k))return k=Cs(k,L.mode,H,null),k.return=L,k;if(typeof k.then=="function")return $(L,pc(k),H);if(k.$$typeof===X)return $(L,nc(L,k),H);gc(L,k)}return null}function Q(L,k,H,J){var dt=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return dt!==null?null:T(L,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===dt?N(L,k,H,J):null;case V:return H.key===dt?G(L,k,H,J):null;case S:return dt=H._init,H=dt(H._payload),Q(L,k,H,J)}if(Jt(H)||P(H))return dt!==null?null:Z(L,k,H,J,null);if(typeof H.then=="function")return Q(L,k,pc(H),J);if(H.$$typeof===X)return Q(L,k,nc(L,H),J);gc(L,H)}return null}function K(L,k,H,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,T(k,L,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return L=L.get(J.key===null?H:J.key)||null,N(k,L,J,dt);case V:return L=L.get(J.key===null?H:J.key)||null,G(k,L,J,dt);case S:var Ot=J._init;return J=Ot(J._payload),K(L,k,H,J,dt)}if(Jt(J)||P(J))return L=L.get(H)||null,Z(k,L,J,dt,null);if(typeof J.then=="function")return K(L,k,H,pc(J),dt);if(J.$$typeof===X)return K(L,k,H,nc(k,J),dt);gc(k,J)}return null}function At(L,k,H,J){for(var dt=null,Ot=null,pt=k,vt=k=0,ke=null;pt!==null&&vt<H.length;vt++){pt.index>vt?(ke=pt,pt=null):ke=pt.sibling;var zt=Q(L,pt,H[vt],J);if(zt===null){pt===null&&(pt=ke);break}e&&pt&&zt.alternate===null&&r(L,pt),k=d(zt,k,vt),Ot===null?dt=zt:Ot.sibling=zt,Ot=zt,pt=ke}if(vt===H.length)return a(L,pt),qt&&Ns(L,vt),dt;if(pt===null){for(;vt<H.length;vt++)pt=$(L,H[vt],J),pt!==null&&(k=d(pt,k,vt),Ot===null?dt=pt:Ot.sibling=pt,Ot=pt);return qt&&Ns(L,vt),dt}for(pt=l(pt);vt<H.length;vt++)ke=K(pt,L,vt,H[vt],J),ke!==null&&(e&&ke.alternate!==null&&pt.delete(ke.key===null?vt:ke.key),k=d(ke,k,vt),Ot===null?dt=ke:Ot.sibling=ke,Ot=ke);return e&&pt.forEach(function(Pr){return r(L,Pr)}),qt&&Ns(L,vt),dt}function _t(L,k,H,J){if(H==null)throw Error(s(151));for(var dt=null,Ot=null,pt=k,vt=k=0,ke=null,zt=H.next();pt!==null&&!zt.done;vt++,zt=H.next()){pt.index>vt?(ke=pt,pt=null):ke=pt.sibling;var Pr=Q(L,pt,zt.value,J);if(Pr===null){pt===null&&(pt=ke);break}e&&pt&&Pr.alternate===null&&r(L,pt),k=d(Pr,k,vt),Ot===null?dt=Pr:Ot.sibling=Pr,Ot=Pr,pt=ke}if(zt.done)return a(L,pt),qt&&Ns(L,vt),dt;if(pt===null){for(;!zt.done;vt++,zt=H.next())zt=$(L,zt.value,J),zt!==null&&(k=d(zt,k,vt),Ot===null?dt=zt:Ot.sibling=zt,Ot=zt);return qt&&Ns(L,vt),dt}for(pt=l(pt);!zt.done;vt++,zt=H.next())zt=K(pt,L,vt,zt.value,J),zt!==null&&(e&&zt.alternate!==null&&pt.delete(zt.key===null?vt:zt.key),k=d(zt,k,vt),Ot===null?dt=zt:Ot.sibling=zt,Ot=zt);return e&&pt.forEach(function(Yb){return r(L,Yb)}),qt&&Ns(L,vt),dt}function Zt(L,k,H,J){if(typeof H=="object"&&H!==null&&H.type===O&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:t:{for(var dt=H.key;k!==null;){if(k.key===dt){if(dt=H.type,dt===O){if(k.tag===7){a(L,k.sibling),J=h(k,H.props.children),J.return=L,L=J;break t}}else if(k.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&My(dt)===k.type){a(L,k.sibling),J=h(k,H.props),hl(J,H),J.return=L,L=J;break t}a(L,k);break}else r(L,k);k=k.sibling}H.type===O?(J=Cs(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=Ju(H.type,H.key,H.props,null,L.mode,J),hl(J,H),J.return=L,L=J)}return v(L);case V:t:{for(dt=H.key;k!==null;){if(k.key===dt)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(L,k.sibling),J=h(k,H.children||[]),J.return=L,L=J;break t}else{a(L,k);break}else r(L,k);k=k.sibling}J=xf(H,L.mode,J),J.return=L,L=J}return v(L);case S:return dt=H._init,H=dt(H._payload),Zt(L,k,H,J)}if(Jt(H))return At(L,k,H,J);if(P(H)){if(dt=P(H),typeof dt!="function")throw Error(s(150));return H=dt.call(H),_t(L,k,H,J)}if(typeof H.then=="function")return Zt(L,k,pc(H),J);if(H.$$typeof===X)return Zt(L,k,nc(L,H),J);gc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(L,k.sibling),J=h(k,H),J.return=L,L=J):(a(L,k),J=Of(H,L.mode,J),J.return=L,L=J),v(L)):a(L,k)}return function(L,k,H,J){try{cl=0;var dt=Zt(L,k,H,J);return Pa=null,dt}catch(pt){if(pt===el||pt===rc)throw pt;var Ot=yn(29,pt,null,L.mode);return Ot.lanes=J,Ot.return=L,Ot}finally{}}}var ka=Py(!0),ky=Py(!1),Mn=it(null),li=null;function Er(e){var r=e.alternate;ot(Ie,Ie.current&1),ot(Mn,e),li===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(li=e)}function Uy(e){if(e.tag===22){if(ot(Ie,Ie.current),ot(Mn,e),li===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(li=e)}}else Tr()}function Tr(){ot(Ie,Ie.current),ot(Mn,Mn.current)}function Bi(e){ct(Mn),li===e&&(li=null),ct(Ie)}var Ie=it(0);function yc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||tm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function hd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var fd={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=Tn(),h=yr(l);h.payload=r,a!=null&&(h.callback=a),r=_r(e,h,l),r!==null&&(An(r,e,l),il(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=Tn(),h=yr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=_r(e,h,l),r!==null&&(An(r,e,l),il(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=Tn(),l=yr(a);l.tag=2,r!=null&&(l.callback=r),r=_r(e,l,a),r!==null&&(An(r,e,a),il(r,e,a))}};function Ly(e,r,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function By(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&fd.enqueueReplaceState(r,r.state,null)}function Us(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var _c=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function zy(e){_c(e)}function jy(e){console.error(e)}function qy(e){_c(e)}function vc(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(e,r,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(e,r)},a}function Fy(e){return e=yr(e),e.tag=3,e}function Gy(e,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Hy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Hy(r,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Y1(e,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return li===null?Ud():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===qf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Bd(e,l,h)),!1;case 22:return a.flags|=65536,l===qf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Bd(e,l,h)),!1}throw Error(s(435,a.tag))}return Bd(e,l,h),Ud(),!1}if(qt)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Pf&&(e=Error(s(422),{cause:l}),Zo(Nn(e,a)))):(l!==Pf&&(r=Error(s(423),{cause:l}),Zo(Nn(r,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=dd(e.stateNode,l,h),Gf(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),_l===null?_l=[d]:_l.push(d),fe!==4&&(fe=2),r===null)return!0;l=Nn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=dd(a.stateNode,l,e),Gf(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,e,a,l),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var Qy=Error(s(461)),Me=!1;function ze(e,r,a,l){r.child=e===null?ky(r,null,a,l):ka(r,e.child,a,l)}function Ky(e,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ms(r),l=Wf(e,r,a,v,d,h),T=Zf(),e!==null&&!Me?(Jf(e,r,h),zi(e,r,h)):(qt&&T&&Vf(r),r.flags|=1,ze(e,r,l,h),r.child)}function Yy(e,r,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Xy(e,r,d,l,h)):(e=Ju(a.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Td(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(v,l)&&e.ref===r.ref)return zi(e,r,h)}return r.flags|=1,e=Vi(d,l),e.ref=r.ref,e.return=r,r.child=e}function Xy(e,r,a,l,h){if(e!==null){var d=e.memoizedProps;if(Ko(d,l)&&e.ref===r.ref)if(Me=!1,r.pendingProps=l=d,Td(e,h))(e.flags&131072)!==0&&(Me=!0);else return r.lanes=e.lanes,zi(e,r,h)}return md(e,r,a,l,h)}function Wy(e,r,a){var l=r.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=r.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Zy(e,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&ic(r,d!==null?d.cachePool:null),d!==null?Xg(r,d):Kf(),Uy(r);else return r.lanes=r.childLanes=536870912,Zy(e,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ic(r,d.cachePool),Xg(r,d),Tr(),r.memoizedState=null):(e!==null&&ic(r,null),Kf(),Tr());return ze(e,r,h,a),r.child}function Zy(e,r,a,l){var h=jf();return h=h===null?null:{parent:Re._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},e!==null&&ic(r,null),Kf(),Uy(r),e!==null&&Jo(e,r,l,!0),null}function Ec(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function md(e,r,a,l,h){return Ms(r),a=Wf(e,r,a,l,void 0,h),l=Zf(),e!==null&&!Me?(Jf(e,r,h),zi(e,r,h)):(qt&&l&&Vf(r),r.flags|=1,ze(e,r,a,h),r.child)}function Jy(e,r,a,l,h,d){return Ms(r),r.updateQueue=null,a=Zg(r,l,a,h),Wg(e),l=Zf(),e!==null&&!Me?(Jf(e,r,d),zi(e,r,d)):(qt&&l&&Vf(r),r.flags|=1,ze(e,r,a,d),r.child)}function $y(e,r,a,l,h){if(Ms(r),r.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ye(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Hf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ye(v):Ra,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(hd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&fd.enqueueReplaceState(d,d.state,null),sl(r,l,d,h),rl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var T=r.memoizedProps,N=Us(a,T);d.props=N;var G=d.context,Z=a.contextType;v=Ra,typeof Z=="object"&&Z!==null&&(v=Ye(Z));var $=a.getDerivedStateFromProps;Z=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||G!==v)&&By(r,d,l,v),gr=!1;var Q=r.memoizedState;d.state=Q,sl(r,l,d,h),rl(),G=r.memoizedState,T||Q!==G||gr?(typeof $=="function"&&(hd(r,a,$,l),G=r.memoizedState),(N=gr||Ly(r,a,N,l,Q,G,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ff(e,r),v=r.memoizedProps,Z=Us(a,v),d.props=Z,$=r.pendingProps,Q=d.context,G=a.contextType,N=Ra,typeof G=="object"&&G!==null&&(N=Ye(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||Q!==N)&&By(r,d,l,N),gr=!1,Q=r.memoizedState,d.state=Q,sl(r,l,d,h),rl();var K=r.memoizedState;v!==$||Q!==K||gr||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof T=="function"&&(hd(r,a,T,l),K=r.memoizedState),(Z=gr||Ly(r,a,Z,l,Q,K,N)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Q===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ec(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=ka(r,e.child,null,h),r.child=ka(r,null,a,h)):ze(e,r,a,h),r.memoizedState=d.state,e=r.child):e=zi(e,r,h),e}function t_(e,r,a,l){return Wo(),r.flags|=256,ze(e,r,a,l),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:jg()}}function yd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=Pn),e}function e_(e,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,e===null){if(qt){if(h?Er(r):Tr(),qt){var T=he,N;if(N=T){t:{for(N=T,T=oi;N.nodeType!==8;){if(!T){T=null;break t}if(N=Fn(N.nextSibling),N===null){T=null;break t}}T=N}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:Mi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},N=yn(18,null,null,0),N.stateNode=T,N.return=r,r.child=N,an=r,he=null,N=!0):N=!1}N||xs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return tm(T)?r.lanes=32:r.lanes=536870912,null;Bi(r)}return T=l.children,l=l.fallback,h?(Tr(),h=r.mode,T=Tc({mode:"hidden",children:T},h),l=Cs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=gd(a),h.childLanes=yd(e,v,a),r.memoizedState=pd,l):(Er(r),_d(r,T))}if(N=e.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)r.flags&256?(Er(r),r.flags&=-257,r=vd(e,r,a)):r.memoizedState!==null?(Tr(),r.child=e.child,r.flags|=128,r=null):(Tr(),h=l.fallback,T=r.mode,l=Tc({mode:"visible",children:l.children},T),h=Cs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ka(r,e.child,null,a),l=r.child,l.memoizedState=gd(a),l.childLanes=yd(e,v,a),r.memoizedState=pd,r=h);else if(Er(r),tm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),r=vd(e,r,a)}else if(Me||Jo(e,r,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:lr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,wa(e,l),An(v,e,l),Qy;T.data==="$?"||Ud(),r=vd(e,r,a)}else T.data==="$?"?(r.flags|=192,r.child=e.child,r=null):(e=N.treeContext,he=Fn(T.nextSibling),an=r,qt=!0,Os=null,oi=!1,e!==null&&(xn[Vn++]=Mi,xn[Vn++]=Pi,xn[Vn++]=Ds,Mi=e.id,Pi=e.overflow,Ds=r),r=_d(r,l.children),r.flags|=4096);return r}return h?(Tr(),h=l.fallback,T=r.mode,N=e.child,G=N.sibling,l=Vi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?h=Vi(G,h):(h=Cs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=e.child.memoizedState,T===null?T=gd(a):(N=T.cachePool,N!==null?(G=Re._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=jg(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=yd(e,v,a),r.memoizedState=pd,l):(Er(r),a=e.child,e=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(v=r.deletions,v===null?(r.deletions=[e],r.flags|=16):v.push(e)),r.child=a,r.memoizedState=null,a)}function _d(e,r){return r=Tc({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Tc(e,r){return e=yn(22,e,null,r),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vd(e,r,a){return ka(r,e.child,null,a),e=_d(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function n_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Uf(e.return,r,a)}function Ed(e,r,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function i_(e,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,r,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,a,r);else if(e.tag===19)n_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ot(Ie,l),h){case"forwards":for(a=r.child,h=null;a!==null;)e=a.alternate,e!==null&&yc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ed(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&yc(e)===null){r.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ed(r,!0,a,null,d);break;case"together":Ed(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zi(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Rr|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(Jo(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Vi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Vi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Td(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function X1(e,r,a){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),pr(r,Re,e.memoizedState.cache),Wo();break;case 27:case 5:or(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(r),r.flags|=128,null):(a&r.child.childLanes)!==0?e_(e,r,a):(Er(r),e=zi(e,r,a),e!==null?e.sibling:null);Er(r);break;case 19:var h=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Jo(e,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return i_(e,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Ie,Ie.current),l)break;return null;case 22:case 23:return r.lanes=0,Wy(e,r,a);case 24:pr(r,Re,e.memoizedState.cache)}return zi(e,r,a)}function r_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Me=!0;else{if(!Td(e,a)&&(r.flags&128)===0)return Me=!1,X1(e,r,a);Me=(e.flags&131072)!==0}else Me=!1,qt&&(r.flags&1048576)!==0&&Mg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:t:{e=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Nf(l)?(e=Us(l,e),r.tag=1,r=$y(null,r,l,e,a)):(r.tag=0,r=md(null,r,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===rt){r.tag=11,r=Ky(null,r,l,e,a);break t}else if(h===I){r.tag=14,r=Yy(null,r,l,e,a);break t}}throw r=re(l)||l,Error(s(306,r,""))}}return r;case 0:return md(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Us(l,r.pendingProps),$y(e,r,l,h,a);case 3:t:{if(te(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Ff(e,r),sl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,pr(r,Re,l),l!==d.cache&&Lf(r,[Re],a,!0),rl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=t_(e,r,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),r),Zo(h),r=t_(e,r,l,a);break t}else{switch(e=r.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(he=Fn(e.firstChild),an=r,qt=!0,Os=null,oi=!0,a=ky(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){r=zi(e,r,a);break t}ze(e,r,l,a)}r=r.child}return r;case 26:return Ec(e,r),e===null?(a=lv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qt||(a=r.type,e=r.pendingProps,l=Pc(St.current).createElement(a),l[be]=r,l[ye]=e,qe(l,a,e),de(l),r.stateNode=l):r.memoizedState=lv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return or(r),e===null&&qt&&(l=r.stateNode=sv(r.type,r.pendingProps,St.current),an=r,oi=!0,h=he,Nr(r.type)?(em=h,he=Fn(l.firstChild)):he=h),ze(e,r,r.pendingProps.children,a),Ec(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&qt&&((h=l=he)&&(l=bb(l,r.type,r.pendingProps,oi),l!==null?(r.stateNode=l,an=r,he=Fn(l.firstChild),oi=!1,h=!0):h=!1),h||xs(r)),or(r),h=r.type,d=r.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Zd(h,d)?l=null:v!==null&&Zd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Wf(e,r,j1,null,null,a),Il._currentValue=h),Ec(e,r),ze(e,r,l,a),r.child;case 6:return e===null&&qt&&((e=a=he)&&(a=Sb(a,r.pendingProps,oi),a!==null?(r.stateNode=a,an=r,he=null,e=!0):e=!1),e||xs(r)),null;case 13:return e_(e,r,a);case 4:return te(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=ka(r,null,l,a):ze(e,r,l,a),r.child;case 11:return Ky(e,r,r.type,r.pendingProps,a);case 7:return ze(e,r,r.pendingProps,a),r.child;case 8:return ze(e,r,r.pendingProps.children,a),r.child;case 12:return ze(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,pr(r,r.type,l.value),ze(e,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ms(r),h=Ye(h),l=l(h),r.flags|=1,ze(e,r,l,a),r.child;case 14:return Yy(e,r,r.type,r.pendingProps,a);case 15:return Xy(e,r,r.type,r.pendingProps,a);case 19:return i_(e,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},e===null?(a=Tc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vi(e.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Wy(e,r,a);case 24:return Ms(r),l=Ye(Re),e===null?(h=jf(),h===null&&(h=ee,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Hf(r),pr(r,Re,h)):((e.lanes&a)!==0&&(Ff(e,r),sl(r,null,null,a),rl()),h=e.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),pr(r,Re,l)):(l=d.cache,pr(r,Re,l),l!==h.cache&&Lf(r,[Re],a,!0))),ze(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ji(e){e.flags|=4}function s_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dv(r)){if(r=Mn.current,r!==null&&((Lt&4194048)===Lt?li!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==li))throw nl=qf,qg;e.flags|=8192}}function Ac(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?Do():536870912,e.lanes|=r,za|=r)}function fl(e,r){if(!qt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function W1(e,r,a){var l=r.pendingProps;switch(Mf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(r),null;case 1:return oe(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ui(Re),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xo(r)?ji(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ug())),oe(r),null;case 26:return a=r.memoizedState,e===null?(ji(r),a!==null?(oe(r),s_(r,a)):(oe(r),r.flags&=-16777217)):a?a!==e.memoizedState?(ji(r),oe(r),s_(r,a)):(oe(r),r.flags&=-16777217):(e.memoizedProps!==l&&ji(r),oe(r),r.flags&=-16777217),null;case 27:Ei(r),a=St.current;var h=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==l&&ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}e=yt.current,Xo(r)?Pg(r):(e=sv(h,l,a),r.stateNode=e,ji(r))}return oe(r),null;case 5:if(Ei(r),a=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return oe(r),null}if(e=yt.current,Xo(r))Pg(r);else{switch(h=Pc(St.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[be]=r,e[ye]=l;t:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break t;for(;h.sibling===null;){if(h.return===null||h.return===r)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=e;t:switch(qe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(r)}}return oe(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=St.current,Xo(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[be]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||J_(e.nodeValue,a)),e||xs(r)}else e=Pc(e).createTextNode(l),e[be]=r,r.stateNode=e}return oe(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Xo(r),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[be]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;oe(r),h=!1}else h=Ug(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),oe(r),null;case 4:return Xn(),e===null&&Qd(r.stateNode.containerInfo),oe(r),null;case 10:return Ui(r.type),oe(r),null;case 19:if(ct(Ie),h=r.memoizedState,h===null)return oe(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)fl(h,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=yc(e),d!==null){for(r.flags|=128,fl(h,!1),e=d.updateQueue,r.updateQueue=e,Ac(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Vg(a,e),a=a.sibling;return ot(Ie,Ie.current&1|2),r.child}e=e.sibling}h.tail!==null&&Sn()>wc&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304)}else{if(!l)if(e=yc(d),e!==null){if(r.flags|=128,l=!0,e=e.updateQueue,r.updateQueue=e,Ac(r,e),fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return oe(r),null}else 2*Sn()-h.renderingStartTime>wc&&a!==536870912&&(r.flags|=128,l=!0,fl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(e=h.last,e!==null?e.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Sn(),r.sibling=null,e=Ie.current,ot(Ie,l?e&1|2:e&1),r):(oe(r),null);case 22:case 23:return Bi(r),Yf(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(oe(r),r.subtreeFlags&6&&(r.flags|=8192)):oe(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&ct(Ps),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ui(Re),oe(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Z1(e,r){switch(Mf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Ui(Re),Xn(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ei(r),null;case 13:if(Bi(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return ct(Ie),null;case 4:return Xn(),null;case 10:return Ui(r.type),null;case 22:case 23:return Bi(r),Yf(),e!==null&&ct(Ps),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Ui(Re),null;case 25:return null;default:return null}}function a_(e,r){switch(Mf(r),r.tag){case 3:Ui(Re),Xn();break;case 26:case 27:case 5:Ei(r);break;case 4:Xn();break;case 13:Bi(r);break;case 19:ct(Ie);break;case 10:Ui(r.type);break;case 22:case 23:Bi(r),Yf(),e!==null&&ct(Ps);break;case 24:Ui(Re)}}function dl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(r,r.return,T)}}function Ar(e,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var N=a,G=T;try{G()}catch(Z){$t(h,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){$t(r,r.return,Z)}}function o_(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{Yg(r,a)}catch(l){$t(e,e.return,l)}}}function l_(e,r,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,r,l)}}function ml(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,r,h)}}function ui(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,r,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,r,h)}else a.current=null}function u_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Ad(e,r,a){try{var l=e.stateNode;_b(l,e.type,a,r),l[ye]=r}catch(h){$t(e,e.return,h)}}function c_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Nr(e.type)||e.tag===4}function bd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||c_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Mc));else if(l!==4&&(l===27&&Nr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Sd(e,r,a),e=e.sibling;e!==null;)Sd(e,r,a),e=e.sibling}function bc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Nr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bc(e,r,a),e=e.sibling;e!==null;)bc(e,r,a),e=e.sibling}function h_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qe(r,l,a),r[be]=e,r[ye]=a}catch(d){$t(e,e.return,d)}}var qi=!1,pe=!1,wd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function J1(e,r){if(e=e.containerInfo,Xd=jc,e=bg(e),bf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,N=-1,G=0,Z=0,$=e,Q=null;e:for(;;){for(var K;$!==a||h!==0&&$.nodeType!==3||(T=v+h),$!==d||l!==0&&$.nodeType!==3||(N=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(K=$.firstChild)!==null;)Q=$,$=K;for(;;){if($===e)break e;if(Q===a&&++G===h&&(T=v),Q===d&&++Z===l&&(N=v),(K=$.nextSibling)!==null)break;$=Q,Q=$.parentNode}$=K}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:e,selectionRange:a},jc=!1,Pe=r;Pe!==null;)if(r=Pe,e=r.child,(r.subtreeFlags&1024)!==0&&e!==null)e.return=r,Pe=e;else for(;Pe!==null;){switch(r=Pe,d=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=Us(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)$d(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,Pe=e;break}Pe=r.return}}function d_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),l&4&&dl(5,a);break;case 1:if(br(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Us(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(h,r,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&o_(a),l&512&&ml(a,a.return);break;case 3:if(br(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Yg(e,r)}catch(v){$t(a,a.return,v)}}break;case 27:r===null&&l&4&&h_(a);case 26:case 5:br(e,a),r===null&&l&4&&u_(a),l&512&&ml(a,a.return);break;case 12:br(e,a);break;case 13:br(e,a),l&4&&g_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ob.bind(null,a),wb(e,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){r=r!==null&&r.memoizedState!==null||pe,h=qi;var d=pe;qi=l,(pe=r)&&!d?Sr(e,a,(a.subtreeFlags&8772)!==0):br(e,a),qi=h,pe=d}break;case 30:break;default:br(e,a)}}function m_(e){var r=e.alternate;r!==null&&(e.alternate=null,m_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&hr(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,cn=!1;function Hi(e,r,a){for(a=a.child;a!==null;)p_(e,r,a),a=a.sibling}function p_(e,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:pe||ui(a,r),Hi(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||ui(a,r);var l=ae,h=cn;Nr(a.type)&&(ae=a.stateNode,cn=!1),Hi(e,r,a),bl(a.stateNode),ae=l,cn=h;break;case 5:pe||ui(a,r);case 6:if(l=ae,h=cn,ae=null,Hi(e,r,a),ae=l,cn=h,ae!==null)if(cn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){$t(a,r,d)}else try{ae.removeChild(a.stateNode)}catch(d){$t(a,r,d)}break;case 18:ae!==null&&(cn?(e=ae,iv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ol(e)):iv(ae,a.stateNode));break;case 4:l=ae,h=cn,ae=a.stateNode.containerInfo,cn=!0,Hi(e,r,a),ae=l,cn=h;break;case 0:case 11:case 14:case 15:pe||Ar(2,a,r),pe||Ar(4,a,r),Hi(e,r,a);break;case 1:pe||(ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,r,l)),Hi(e,r,a);break;case 21:Hi(e,r,a);break;case 22:pe=(l=pe)||a.memoizedState!==null,Hi(e,r,a),pe=l;break;default:Hi(e,r,a)}}function g_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ol(e)}catch(a){$t(r,r.return,a)}}function $1(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new f_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new f_),r;default:throw Error(s(435,e.tag))}}function Rd(e,r){var a=$1(e);r.forEach(function(l){var h=lb.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function _n(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=r,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){ae=T.stateNode,cn=!1;break t}break;case 5:ae=T.stateNode,cn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,cn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));p_(d,v,h),ae=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)y_(r,e),r=r.sibling}var Hn=null;function y_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(r,e),vn(e),l&4&&(Ar(3,e,e.return),dl(3,e),Ar(5,e,e.return));break;case 1:_n(r,e),vn(e),l&512&&(pe||a===null||ui(a,a.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(_n(r,e),vn(e),l&512&&(pe||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[fs]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,l,a),d[be]=e,de(d),l=d;break t;case"link":var v=hv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),qe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=hv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),qe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[be]=e,de(d),l=d}e.stateNode=l}else fv(h,e.type,e.stateNode);else e.stateNode=cv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?fv(h,e.type,e.stateNode):cv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,a.memoizedProps)}break;case 27:_n(r,e),vn(e),l&512&&(pe||a===null||ui(a,a.return)),a!==null&&l&4&&Ad(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,e),vn(e),l&512&&(pe||a===null||ui(a,a.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(K){$t(e,e.return,K)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ad(e,h,a!==null?a.memoizedProps:h)),l&1024&&(wd=!0);break;case 6:if(_n(r,e),vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){$t(e,e.return,K)}}break;case 3:if(Lc=null,h=Hn,Hn=kc(r.containerInfo),_n(r,e),Hn=h,vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(r.containerInfo)}catch(K){$t(e,e.return,K)}wd&&(wd=!1,__(e));break;case 4:l=Hn,Hn=kc(e.stateNode.containerInfo),_n(r,e),vn(e),Hn=l;break;case 12:_n(r,e),vn(e);break;case 13:_n(r,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xd=Sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rd(e,l)));break;case 22:h=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=qi,Z=pe;if(qi=G||h,pe=Z||N,_n(r,e),pe=Z,qi=G,vn(e),l&8192)t:for(r=e.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||N||qi||pe||Ls(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var $=N.memoizedProps.style,Q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(K){$t(N,N.return,K)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(K){$t(N,N.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rd(e,a))));break;case 19:_n(r,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Rd(e,l)));break;case 30:break;case 21:break;default:_n(r,e),vn(e)}}function vn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(e);bc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Rn(v,""),a.flags&=-33);var T=bd(e);bc(e,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,G=bd(e);Sd(e,G,N);break;default:throw Error(s(161))}}catch(Z){$t(e,e.return,Z)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function __(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;__(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function br(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d_(e,r.alternate,r),r=r.sibling}function Ls(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),Ls(r);break;case 1:ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&l_(r,r.return,a),Ls(r);break;case 27:bl(r.stateNode);case 26:case 5:ui(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}e=e.sibling}}function Sr(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=e,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Sr(h,d,a),dl(4,d);break;case 1:if(Sr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){$t(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Kg(N[h],T)}catch(G){$t(l,l.return,G)}}a&&v&64&&o_(d),ml(d,d.return);break;case 27:h_(d);case 26:case 5:Sr(h,d,a),a&&l===null&&v&4&&u_(d),ml(d,d.return);break;case 12:Sr(h,d,a);break;case 13:Sr(h,d,a),a&&v&4&&g_(h,d);break;case 22:d.memoizedState===null&&Sr(h,d,a),ml(d,d.return);break;case 30:break;default:Sr(h,d,a)}r=r.sibling}}function Id(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function Cd(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&$o(e))}function ci(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)v_(e,r,a,l),r=r.sibling}function v_(e,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ci(e,r,a,l),h&2048&&dl(9,r);break;case 1:ci(e,r,a,l);break;case 3:ci(e,r,a,l),h&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){ci(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){$t(r,r.return,N)}}else ci(e,r,a,l);break;case 13:ci(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ci(e,r,a,l):pl(e,r):d._visibility&2?ci(e,r,a,l):(d._visibility|=2,Ua(e,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Id(v,r);break;case 24:ci(e,r,a,l),h&2048&&Cd(r.alternate,r);break;default:ci(e,r,a,l)}}function Ua(e,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=e,v=r,T=a,N=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:Ua(d,v,T,N,h),dl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Ua(d,v,T,N,h):pl(d,v):(Z._visibility|=2,Ua(d,v,T,N,h)),h&&G&2048&&Id(v.alternate,v);break;case 24:Ua(d,v,T,N,h),h&&G&2048&&Cd(v.alternate,v);break;default:Ua(d,v,T,N,h)}r=r.sibling}}function pl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,h=l.flags;switch(l.tag){case 22:pl(a,l),h&2048&&Id(l.alternate,l);break;case 24:pl(a,l),h&2048&&Cd(l.alternate,l);break;default:pl(a,l)}r=r.sibling}}var gl=8192;function La(e){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)E_(e),e=e.sibling}function E_(e){switch(e.tag){case 26:La(e),e.flags&gl&&e.memoizedState!==null&&Lb(Hn,e.memoizedState,e.memoizedProps);break;case 5:La(e);break;case 3:case 4:var r=Hn;Hn=kc(e.stateNode.containerInfo),La(e),Hn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,La(e),gl=r):La(e));break;default:La(e)}}function T_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function yl(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,b_(l,e)}T_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)A_(e),e=e.sibling}function A_(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Sc(e)):yl(e);break;default:yl(e)}}function Sc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pe=l,b_(l,e)}T_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(r));break;default:Sc(r)}e=e.sibling}}function b_(e,r){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(m_(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var tb={getCacheForType:function(e){var r=Ye(Re),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a}},eb=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,xt=null,Lt=0,Kt=0,En=null,wr=!1,Ba=!1,Dd=!1,Fi=0,fe=0,Rr=0,Bs=0,Nd=0,Pn=0,za=0,_l=null,hn=null,Od=!1,xd=0,wc=1/0,Rc=null,Ir=null,je=0,Cr=null,ja=null,qa=0,Vd=0,Md=null,S_=null,vl=0,Pd=null;function Tn(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(W.T!==null){var e=Da;return e!==0?e:qd()}return ur()}function w_(){Pn===0&&(Pn=(Lt&536870912)===0||qt?Co():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),Pn}function An(e,r,a){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Dr(e,Lt,Pn,!1)),Ai(e,a),((Qt&2)===0||e!==ee)&&(e===ee&&((Qt&2)===0&&(Bs|=a),fe===4&&Dr(e,Lt,Pn,!1)),hi(e))}function R_(e,r,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&e.expiredLanes)===0||hs(e,r),h=l?rb(e,r):Ld(e,r,!0),d=l;do{if(h===0){Ba&&!l&&Dr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!nb(a)){h=Ld(e,r,!1),d=!1;continue}if(h===2){if(d=r,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var T=e;h=_l;var N=T.current.memoizedState.isDehydrated;if(N&&(Ha(T,v).flags|=256),v=Ld(T,v,!1),v!==2){if(Dd&&!N){T.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break t}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(e,0),Dr(e,r,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,Pn,!wr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=xd+300-Sn(),10<h)){if(Dr(l,r,Pn,!wr),aa(l,0,!0)!==0)break t;l.timeoutHandle=ev(I_.bind(null,l,a,hn,Rc,Od,r,Pn,Bs,za,wr,d,2,-0,0),h);break t}I_(l,a,hn,Rc,Od,r,Pn,Bs,za,wr,d,0,-0,0)}}break}while(!0);hi(e)}function I_(e,r,a,l,h,d,v,T,N,G,Z,$,Q,K){if(e.timeoutHandle=-1,$=r.subtreeFlags,($&8192||($&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:Ub},E_(r),$=Bb(),$!==null)){e.cancelPendingCommit=$(M_.bind(null,e,r,d,a,l,h,v,T,N,Z,1,Q,K)),Dr(e,d,v,!G);return}M_(e,r,d,a,l,h,v,T,N)}function nb(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(e,r,a,l){r&=~Nd,r&=~Bs,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var h=r;0<h;){var d=31-Ke(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(e,a,r)}function Ic(){return(Qt&6)===0?(El(0),!1):!0}function kd(){if(xt!==null){if(Kt===0)var e=xt.return;else e=xt,ki=Vs=null,$f(e),Pa=null,cl=0,e=xt;for(;e!==null;)a_(e.alternate,e),e=e.return;xt=null}}function Ha(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Eb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),kd(),ee=e,xt=a=Vi(e.current,null),Lt=r,Kt=0,En=null,wr=!1,Ba=hs(e,r),Dd=!1,za=Pn=Nd=Bs=Rr=fe=0,hn=_l=null,Od=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var h=31-Ke(l),d=1<<h;r|=e[h],l&=~d}return Fi=r,Xu(),a}function C_(e,r){Ct=null,W.H=mc,r===el||r===rc?(r=Gg(),Kt=3):r===qg?(r=Gg(),Kt=4):Kt=r===Qy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,En=r,xt===null&&(fe=1,vc(e,Nn(r,e.current)))}function D_(){var e=W.H;return W.H=mc,e===null?mc:e}function N_(){var e=W.A;return W.A=tb,e}function Ud(){fe=4,wr||(Lt&4194048)!==Lt&&Mn.current!==null||(Ba=!0),(Rr&134217727)===0&&(Bs&134217727)===0||ee===null||Dr(ee,Lt,Pn,!1)}function Ld(e,r,a){var l=Qt;Qt|=2;var h=D_(),d=N_();(ee!==e||Lt!==r)&&(Rc=null,Ha(e,r)),r=!1;var v=fe;t:do try{if(Kt!==0&&xt!==null){var T=xt,N=En;switch(Kt){case 8:kd(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var G=Kt;if(Kt=0,En=null,Fa(e,T,N,G),a&&Ba){v=0;break t}break;default:G=Kt,Kt=0,En=null,Fa(e,T,N,G)}}ib(),v=fe;break}catch(Z){C_(e,Z)}while(!0);return r&&e.shellSuspendCounter++,ki=Vs=null,Qt=l,W.H=h,W.A=d,xt===null&&(ee=null,Lt=0,Xu()),v}function ib(){for(;xt!==null;)O_(xt)}function rb(e,r){var a=Qt;Qt|=2;var l=D_(),h=N_();ee!==e||Lt!==r?(Rc=null,wc=Sn()+500,Ha(e,r)):Ba=hs(e,r);t:do try{if(Kt!==0&&xt!==null){r=xt;var d=En;e:switch(Kt){case 1:Kt=0,En=null,Fa(e,r,d,1);break;case 2:case 9:if(Hg(d)){Kt=0,En=null,x_(r);break}r=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),hi(e)},d.then(r,r);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Hg(d)?(Kt=0,En=null,x_(r)):(Kt=0,En=null,Fa(e,r,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var T=xt;if(!v||dv(v)){Kt=0,En=null;var N=T.sibling;if(N!==null)xt=N;else{var G=T.return;G!==null?(xt=G,Cc(G)):xt=null}break e}}Kt=0,En=null,Fa(e,r,d,5);break;case 6:Kt=0,En=null,Fa(e,r,d,6);break;case 8:kd(),fe=6;break t;default:throw Error(s(462))}}sb();break}catch(Z){C_(e,Z)}while(!0);return ki=Vs=null,W.H=l,W.A=h,Qt=a,xt!==null?0:(ee=null,Lt=0,Xu(),fe)}function sb(){for(;xt!==null&&!So();)O_(xt)}function O_(e){var r=r_(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,r===null?Cc(e):xt=r}function x_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=Jy(a,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Jy(a,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:$f(r);default:a_(a,r),r=xt=Vg(r,Fi),r=r_(a,r,Fi)}e.memoizedProps=e.pendingProps,r===null?Cc(e):xt=r}function Fa(e,r,a,l){ki=Vs=null,$f(r),Pa=null,cl=0;var h=r.return;try{if(Y1(e,h,r,a,Lt)){fe=1,vc(e,Nn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;fe=1,vc(e,Nn(a,e.current)),xt=null;return}r.flags&32768?(qt||l===1?e=!0:Ba||(Lt&536870912)!==0?e=!1:(wr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V_(r,e)):Cc(r)}function Cc(e){var r=e;do{if((r.flags&32768)!==0){V_(r,wr);return}e=r.return;var a=W1(r.alternate,r,Fi);if(a!==null){xt=a;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=e}while(r!==null);fe===0&&(fe=5)}function V_(e,r){do{var a=Z1(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);fe=6,xt=null}function M_(e,r,a,l,h,d,v,T,N){e.cancelPendingCommit=null;do Dc();while(je!==0);if((Qt&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Cf,No(e,a,d,v,T,N),e===ee&&(xt=ee=null,Lt=0),ja=r,Cr=e,qa=a,Vd=d,Md=h,S_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ub(os,function(){return B_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ut.p,ut.p=2,v=Qt,Qt|=4;try{J1(e,r,a)}finally{Qt=v,ut.p=h,W.T=l}}je=1,P_(),k_(),U_()}}function P_(){if(je===1){je=0;var e=Cr,r=ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ut.p;ut.p=2;var h=Qt;Qt|=4;try{y_(r,e);var d=Wd,v=bg(e.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ag(T.ownerDocument.documentElement,T)){if(N!==null&&bf(T)){var G=N.start,Z=N.end;if(Z===void 0&&(Z=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(Z,T.value.length);else{var $=T.ownerDocument||document,Q=$&&$.defaultView||window;if(Q.getSelection){var K=Q.getSelection(),At=T.textContent.length,_t=Math.min(N.start,At),Zt=N.end===void 0?_t:Math.min(N.end,At);!K.extend&&_t>Zt&&(v=Zt,Zt=_t,_t=v);var L=Tg(T,_t),k=Tg(T,Zt);if(L&&k&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var H=$.createRange();H.setStart(L.node,L.offset),K.removeAllRanges(),_t>Zt?(K.addRange(H),K.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),K.addRange(H))}}}}for($=[],K=T;K=K.parentNode;)K.nodeType===1&&$.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var J=$[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}jc=!!Xd,Wd=Xd=null}finally{Qt=h,ut.p=l,W.T=a}}e.current=r,je=2}}function k_(){if(je===2){je=0;var e=Cr,r=ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ut.p;ut.p=2;var h=Qt;Qt|=4;try{d_(e,r.alternate,r)}finally{Qt=h,ut.p=l,W.T=a}}je=3}}function U_(){if(je===4||je===3){je=0,Su();var e=Cr,r=ja,a=qa,l=S_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?je=5:(je=0,ja=Cr=null,L_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),oa(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ce,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,h=ut.p,ut.p=2,W.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{W.T=r,ut.p=h}}(qa&3)!==0&&Dc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Pd?vl++:(vl=0,Pd=e):vl=0,El(0)}}function L_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,$o(r)))}function Dc(e){return P_(),k_(),U_(),B_()}function B_(){if(je!==5)return!1;var e=Cr,r=Vd;Vd=0;var a=oa(qa),l=W.T,h=ut.p;try{ut.p=32>a?32:a,W.T=null,a=Md,Md=null;var d=Cr,v=qa;if(je=0,ja=Cr=null,qa=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,A_(d.current),v_(d,d.current,v,a),Qt=T,El(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ce,d)}catch{}return!0}finally{ut.p=h,W.T=l,L_(e,r)}}function z_(e,r,a){r=Nn(a,r),r=dd(e.stateNode,r,2),e=_r(e,r,2),e!==null&&(Ai(e,2),hi(e))}function $t(e,r,a){if(e.tag===3)z_(e,e,a);else for(;r!==null;){if(r.tag===3){z_(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){e=Nn(a,e),a=Fy(2),l=_r(r,a,2),l!==null&&(Gy(a,l,r,e),Ai(l,2),hi(l));break}}r=r.return}}function Bd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new eb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Dd=!0,h.add(a),e=ab.bind(null,e,r,a),r.then(e,e))}function ab(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Lt&a)===a&&(fe===4||fe===3&&(Lt&62914560)===Lt&&300>Sn()-xd?(Qt&2)===0&&Ha(e,0):Nd|=a,za===Lt&&(za=0)),hi(e)}function j_(e,r){r===0&&(r=Do()),e=wa(e,r),e!==null&&(Ai(e,r),hi(e))}function ob(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),j_(e,a)}function lb(e,r){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),j_(e,a)}function ub(e,r){return ss(e,r)}var Nc=null,Ga=null,zd=!1,Oc=!1,jd=!1,zs=0;function hi(e){e!==Ga&&e.next===null&&(Ga===null?Nc=Ga=e:Ga=Ga.next=e),Oc=!0,zd||(zd=!0,hb())}function El(e,r){if(!jd&&Oc){jd=!0;do for(var a=!1,l=Nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ke(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,G_(l,d))}else d=Lt,d=aa(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hs(l,d)||(a=!0,G_(l,d));l=l.next}while(a);jd=!1}}function cb(){q_()}function q_(){Oc=zd=!1;var e=0;zs!==0&&(vb()&&(e=zs),zs=0);for(var r=Sn(),a=null,l=Nc;l!==null;){var h=l.next,d=H_(l,r);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(Ga=a)):(a=l,(e!==0||(d&3)!==0)&&(Oc=!0)),l=h}El(e)}function H_(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ke(d),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Io(T,r)):N<=r&&(e.expiredLanes|=T),d&=~T}if(r=ee,a=Lt,a=aa(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&as(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||hs(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&as(l),oa(a)){case 2:case 8:a=ra;break;case 32:a=os;break;case 268435456:a=sa;break;default:a=os}return l=F_.bind(null,e),a=ss(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&as(l),e.callbackPriority=2,e.callbackNode=null,2}function F_(e,r){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dc()&&e.callbackNode!==a)return null;var l=Lt;return l=aa(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(R_(e,l,r),H_(e,Sn()),e.callbackNode!=null&&e.callbackNode===a?F_.bind(null,e):null)}function G_(e,r){if(Dc())return null;R_(e,r,!0)}function hb(){Tb(function(){(Qt&6)!==0?ss(wo,cb):q_()})}function qd(){return zs===0&&(zs=Co()),zs}function Q_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function K_(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function fb(e,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Q_((h[ye]||null).action),v=l.submitter;v&&(r=(r=v[ye]||null)?Q_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ma("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zs!==0){var N=v?K_(h,v):new FormData(h);ld(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?K_(h,v):new FormData(h),ld(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Hd=0;Hd<If.length;Hd++){var Fd=If[Hd],db=Fd.toLowerCase(),mb=Fd[0].toUpperCase()+Fd.slice(1);qn(db,"on"+mb)}qn(Rg,"onAnimationEnd"),qn(Ig,"onAnimationIteration"),qn(Cg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(O1,"onTransitionRun"),qn(x1,"onTransitionStart"),qn(V1,"onTransitionCancel"),qn(Dg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Y_(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,G=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(Z){_c(Z)}h.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,G=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=G;try{d(h)}catch(Z){_c(Z)}h.currentTarget=null,d=N}}}}function Vt(e,r){var a=r[xo];a===void 0&&(a=r[xo]=new Set);var l=e+"__bubble";a.has(l)||(X_(r,e,2,!1),a.add(l))}function Gd(e,r,a){var l=0;r&&(l|=4),X_(a,e,l,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[xc]){e[xc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(pb.has(a)||Gd(a,!1,e),Gd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[xc]||(r[xc]=!0,Gd("selectionchange",!1,r))}}function X_(e,r,a,l){switch(vv(r)){case 2:var h=qb;break;case 8:h=Hb;break;default:h=am}a=h.bind(null,r,a,e),h=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,a,{capture:!0,passive:h}):e.addEventListener(r,a,!0):h!==void 0?e.addEventListener(r,a,{passive:h}):e.addEventListener(r,a,!1)}function Kd(e,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=bi(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Mu(function(){var G=d,Z=In(a),$=[];t:{var Q=Ng.get(e);if(Q!==void 0){var K=ma,At=e;switch(e){case"keypress":if(ni(a)===0)break t;case"keydown":case"keyup":K=Ea;break;case"focusin":At="focus",K=ya;break;case"focusout":At="blur",K=ya;break;case"beforeblur":case"afterblur":K=ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qu;break;case Rg:case Ig:case Cg:K=_a;break;case Dg:K=Fu;break;case"scroll":case"scrollend":K=Pu;break;case"wheel":K=Ta;break;case"copy":case"cut":case"paste":K=va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Go;break;case"toggle":case"beforetoggle":K=Qu}var _t=(r&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),L=_t?Q!==null?Q+"Capture":null:Q;_t=[];for(var k=G,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=vs(k,L),J!=null&&_t.push(Al(k,J,H))),Zt)break;k=k.return}0<_t.length&&(Q=new K(Q,At,null,a,Z),$.push({event:Q,listeners:_t}))}}if((r&7)===0){t:{if(Q=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",Q&&a!==Ii&&(At=a.relatedTarget||a.fromElement)&&(bi(At)||At[wn]))break t;if((K||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,K?(At=a.relatedTarget||a.toElement,K=G,At=At?bi(At):null,At!==null&&(Zt=u(At),_t=At.tag,At!==Zt||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(K=null,At=G),K!==At)){if(_t=Dn,J="onMouseLeave",L="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Go,J="onPointerLeave",L="onPointerEnter",k="pointer"),Zt=K==null?Q:Jn(K),H=At==null?Q:Jn(At),Q=new _t(J,k+"leave",K,a,Z),Q.target=Zt,Q.relatedTarget=H,J=null,bi(Z)===G&&(_t=new _t(L,k+"enter",At,a,Z),_t.target=H,_t.relatedTarget=Zt,J=_t),Zt=J,K&&At)e:{for(_t=K,L=At,k=0,H=_t;H;H=Qa(H))k++;for(H=0,J=L;J;J=Qa(J))H++;for(;0<k-H;)_t=Qa(_t),k--;for(;0<H-k;)L=Qa(L),H--;for(;k--;){if(_t===L||L!==null&&_t===L.alternate)break e;_t=Qa(_t),L=Qa(L)}_t=null}else _t=null;K!==null&&W_($,Q,K,_t,!1),At!==null&&Zt!==null&&W_($,Zt,At,_t,!0)}}t:{if(Q=G?Jn(G):window,K=Q.nodeName&&Q.nodeName.toLowerCase(),K==="select"||K==="input"&&Q.type==="file")var dt=pg;else if(we(Q))if(gg)dt=C1;else{dt=R1;var Ot=w1}else K=Q.nodeName,!K||K.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Lo(G.elementType)&&(dt=pg):dt=I1;if(dt&&(dt=dt(e,G))){xi($,dt,a,Z);break t}Ot&&Ot(e,Q,G),e==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&dr(Q,"number",Q.value)}switch(Ot=G?Jn(G):window,e){case"focusin":(we(Ot)||Ot.contentEditable==="true")&&(Aa=Ot,Sf=G,Yo=null);break;case"focusout":Yo=Sf=Aa=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Sg($,a,Z);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":Sg($,a,Z)}var pt;if(si)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?Y(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(pt=zo()):(ei=Z,mr="value"in ei?ei.value:ei.textContent,kt=!0)),Ot=Vc(G,vt),0<Ot.length&&(vt=new Ho(vt,e,null,a,Z),$.push({event:vt,listeners:Ot}),pt?vt.data=pt:(pt=lt(a),pt!==null&&(vt.data=pt)))),(pt=y?Se(e,a):Ut(e,a))&&(vt=Vc(G,"onBeforeInput"),0<vt.length&&(Ot=new Ho("onBeforeInput","beforeinput",null,a,Z),$.push({event:Ot,listeners:vt}),Ot.data=pt)),fb($,e,G,a,Z)}Y_($,r)})}function Al(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Vc(e,r){for(var a=r+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vs(e,a),h!=null&&l.unshift(Al(e,h,d)),h=vs(e,r),h!=null&&l.push(Al(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function W_(e,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,N=T.alternate,G=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||G===null||(N=G,h?(G=vs(a,d),G!=null&&v.unshift(Al(a,G,N))):h||(G=vs(a,d),G!=null&&v.push(Al(a,G,N)))),a=a.return}v.length!==0&&e.push({event:r,listeners:v})}var gb=/\r\n?/g,yb=/\u0000|\uFFFD/g;function Z_(e){return(typeof e=="string"?e:""+e).replace(gb,`
`).replace(yb,"")}function J_(e,r){return r=Z_(r),Z_(e)===r}function Mc(){}function Wt(e,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Rn(e,""+l);break;case"className":$n(e,"class",l);break;case"tabIndex":$n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(e,a,l);break;case"style":Uo(e,l,d);break;case"data":if(r!=="object"){$n(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Wt(e,r,"name",h.name,h,null),Wt(e,r,"formEncType",h.formEncType,h,null),Wt(e,r,"formMethod",h.formMethod,h,null),Wt(e,r,"formTarget",h.formTarget,h,null)):(Wt(e,r,"encType",h.encType,h,null),Wt(e,r,"method",h.method,h,null),Wt(e,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=da(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Mc);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=da(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),fr(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yf.get(a)||a,fr(e,a,l))}}function Yd(e,r,a,l,h,d){switch(a){case"style":Uo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rn(e,l):(typeof l=="number"||typeof l=="bigint")&&Rn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=e[ye]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fr(e,a,l)}}}function qe(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(e,r,d,v,a,null)}}h&&Wt(e,r,"srcSet",a.srcSet,a,null),l&&Wt(e,r,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":N=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Wt(e,r,l,Z,a,null)}}gs(e,d,T,N,G,v,h,!1),fa(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Wt(e,r,h,T,a,null)}r=d,a=v,e.multiple=!!l,r!=null?Ri(e,!!l,r,!1):a!=null&&Ri(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(e,r,v,T,a,null)}ys(e,l,h,d),fa(e);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,r,N,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(e,r,G,l,a,null)}return;default:if(Lo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Yd(e,r,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,r,T,l,a,null))}function _b(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,G=null,Z=null;for(K in a){var $=a[K];if(a.hasOwnProperty(K)&&$!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=$;default:l.hasOwnProperty(K)||Wt(e,r,K,null,l,$)}}for(var Q in l){var K=l[Q];if($=a[Q],l.hasOwnProperty(Q)&&(K!=null||$!=null))switch(Q){case"type":d=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==$&&Wt(e,r,Q,K,l,$)}}pn(e,v,T,N,G,Z,d,h);return;case"select":K=v=T=Q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Wt(e,r,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":Q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&Wt(e,r,h,d,l,N)}r=T,a=v,l=K,Q!=null?Ri(e,!!a,Q,!1):!!l!=!!a&&(r!=null?Ri(e,!!a,r,!0):Ri(e,!!a,a?[]:"",!1));return;case"textarea":K=Q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":Q=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,r,v,h,l,d)}Yt(e,Q,K);return;case"option":for(var At in a)if(Q=a[At],a.hasOwnProperty(At)&&Q!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Wt(e,r,At,null,l,Q)}for(N in l)if(Q=l[N],K=a[N],l.hasOwnProperty(N)&&Q!==K&&(Q!=null||K!=null))switch(N){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Wt(e,r,N,Q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)Q=a[_t],a.hasOwnProperty(_t)&&Q!=null&&!l.hasOwnProperty(_t)&&Wt(e,r,_t,null,l,Q);for(G in l)if(Q=l[G],K=a[G],l.hasOwnProperty(G)&&Q!==K&&(Q!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Wt(e,r,G,Q,l,K)}return;default:if(Lo(r)){for(var Zt in a)Q=a[Zt],a.hasOwnProperty(Zt)&&Q!==void 0&&!l.hasOwnProperty(Zt)&&Yd(e,r,Zt,void 0,l,Q);for(Z in l)Q=l[Z],K=a[Z],!l.hasOwnProperty(Z)||Q===K||Q===void 0&&K===void 0||Yd(e,r,Z,Q,l,K);return}}for(var L in a)Q=a[L],a.hasOwnProperty(L)&&Q!=null&&!l.hasOwnProperty(L)&&Wt(e,r,L,null,l,Q);for($ in l)Q=l[$],K=a[$],!l.hasOwnProperty($)||Q===K||Q==null&&K==null||Wt(e,r,$,Q,l,K)}var Xd=null,Wd=null;function Pc(e){return e.nodeType===9?e:e.ownerDocument}function $_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function Zd(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Jd=null;function vb(){var e=window.event;return e&&e.type==="popstate"?e===Jd?!1:(Jd=e,!0):(Jd=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(e){return nv.resolve(null).then(e).catch(Ab)}:ev;function Ab(e){setTimeout(function(){throw e})}function Nr(e){return e==="head"}function iv(e,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&bl(v.documentElement),a&2&&bl(v.body),a&4)for(a=v.head,bl(a),v=a.firstChild;v;){var T=v.nextSibling,N=v.nodeName;v[fs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Ol(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ol(r)}function $d(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$d(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function bb(e,r,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fs])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Sb(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function tm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function wb(e,r){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}var em=null;function rv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return e;r--}else a==="/$"&&r++}e=e.previousSibling}return null}function sv(e,r,a){switch(r=Pc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function bl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);hr(e)}var kn=new Map,av=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gi=ut.d;ut.d={f:Rb,r:Ib,D:Cb,C:Db,L:Nb,m:Ob,X:Vb,S:xb,M:Mb};function Rb(){var e=Gi.f(),r=Ic();return e||r}function Ib(e){var r=Zn(e);r!==null&&r.tag===5&&r.type==="form"?Ry(r):Gi.r(e)}var Ka=typeof document>"u"?null:document;function ov(e,r,a){var l=Ka;if(l&&typeof r=="string"&&r){var h=_e(r);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),av.has(h)||(av.add(h),e={rel:e,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qe(r,"link",e),de(r),l.head.appendChild(r)))}}function Cb(e){Gi.D(e),ov("dns-prefetch",e,null)}function Db(e,r){Gi.C(e,r),ov("preconnect",e,r)}function Nb(e,r,a){Gi.L(e,r,a);var l=Ka;if(l&&e&&r){var h='link[rel="preload"][as="'+_e(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_e(a.imageSizes)+'"]')):h+='[href="'+_e(e)+'"]';var d=h;switch(r){case"style":d=Ya(e);break;case"script":d=Xa(e)}kn.has(d)||(e=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),kn.set(d,e),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),qe(r,"link",e),de(r),l.head.appendChild(r)))}}function Ob(e,r){Gi.m(e,r);var a=Ka;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_e(l)+'"][href="'+_e(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(e)}if(!kn.has(d)&&(e=E({rel:"modulepreload",href:e},r),kn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),qe(l,"link",e),de(l),a.head.appendChild(l)}}}function xb(e,r,a){Gi.S(e,r,a);var l=Ka;if(l&&e){var h=nn(l).hoistableStyles,d=Ya(e);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Sl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":r},a),(a=kn.get(d))&&nm(e,a);var N=v=l.createElement("link");de(N),qe(N,"link",e),N._p=new Promise(function(G,Z){N.onload=G,N.onerror=Z}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function Vb(e,r){Gi.X(e,r);var a=Ka;if(a&&e){var l=nn(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(e=E({src:e,async:!0},r),(r=kn.get(h))&&im(e,r),d=a.createElement("script"),de(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Mb(e,r){Gi.M(e,r);var a=Ka;if(a&&e){var l=nn(a).hoistableScripts,h=Xa(e),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(e=E({src:e,async:!0,type:"module"},r),(r=kn.get(h))&&im(e,r),d=a.createElement("script"),de(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lv(e,r,a,l){var h=(h=St.current)?kc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ya(a.href),a=nn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ya(a.href);var d=nn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Sl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),d||Pb(h,e,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=nn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ya(e){return'href="'+_e(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function uv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Pb(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qe(r,"link",a),de(r),e.head.appendChild(r))}function Xa(e){return'[src="'+_e(e)+'"]'}function wl(e){return"script[async]"+e}function cv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+_e(a.href)+'"]');if(l)return r.instance=l,de(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),de(l),qe(l,"style",h),Uc(l,a.precedence,e),r.instance=l;case"stylesheet":h=Ya(a.href);var d=e.querySelector(Sl(h));if(d)return r.state.loading|=4,r.instance=d,de(d),d;l=uv(a),(h=kn.get(h))&&nm(l,h),d=(e.ownerDocument||e).createElement("link"),de(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),qe(d,"link",l),r.state.loading|=4,Uc(d,a.precedence,e),r.instance=d;case"script":return d=Xa(a.src),(h=e.querySelector(wl(d)))?(r.instance=h,de(h),h):(l=a,(h=kn.get(d))&&(l=E({},a),im(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),qe(h,"link",l),e.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Uc(l,a.precedence,e));return r.instance}function Uc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function nm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function im(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Lc=null;function hv(e,r,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[fs]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function fv(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function kb(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function dv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Rl=null;function Ub(){}function Lb(e,r,a){if(Rl===null)throw Error(s(475));var l=Rl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ya(a.href),d=e.querySelector(Sl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Bc.bind(l),e.then(l,l)),r.state.loading|=4,r.instance=d,de(d);return}d=e.ownerDocument||e,a=uv(a),(h=kn.get(h))&&nm(a,h),d=d.createElement("link"),de(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),qe(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Bc.bind(l),e.addEventListener("load",r),e.addEventListener("error",r))}}function Bb(){if(Rl===null)throw Error(s(475));var e=Rl;return e.stylesheets&&e.count===0&&rm(e,e.stylesheets),0<e.count?function(r){var a=setTimeout(function(){if(e.stylesheets&&rm(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function rm(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,r.forEach(zb,e),zc=null,Bc.call(e))}function zb(e,r){if(!(r.state.loading&4)){var a=zc.get(e);if(a)var l=a.get(null);else{a=new Map,zc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),r.state.loading|=4}}var Il={$$typeof:X,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function jb(e,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function mv(e,r,a,l,h,d,v,T,N,G,Z,$){return e=new jb(e,r,a,v,T,N,G,$),r=1,d===!0&&(r|=24),d=yn(3,null,null,r),e.current=d,d.stateNode=e,r=Bf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Hf(d),e}function pv(e){return e?(e=Ra,e):Ra}function gv(e,r,a,l,h,d){h=pv(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(e,l,r),a!==null&&(An(a,e,r),il(a,e,r))}function yv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function sm(e,r){yv(e,r),(e=e.alternate)&&yv(e,r)}function _v(e){if(e.tag===13){var r=wa(e,67108864);r!==null&&An(r,e,67108864),sm(e,67108864)}}var jc=!0;function qb(e,r,a,l){var h=W.T;W.T=null;var d=ut.p;try{ut.p=2,am(e,r,a,l)}finally{ut.p=d,W.T=h}}function Hb(e,r,a,l){var h=W.T;W.T=null;var d=ut.p;try{ut.p=8,am(e,r,a,l)}finally{ut.p=d,W.T=h}}function am(e,r,a,l){if(jc){var h=om(l);if(h===null)Kd(e,r,l,qc,a),Ev(e,l);else if(Gb(h,e,r,a,l))l.stopPropagation();else if(Ev(e,l),r&4&&-1<Fb.indexOf(e)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-Ke(v);T.entanglements[1]|=N,v&=~N}hi(d),(Qt&6)===0&&(wc=Sn()+500,El(0))}}break;case 13:T=wa(d,2),T!==null&&An(T,d,2),Ic(),sm(d,2)}if(d=om(l),d===null&&Kd(e,r,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(e,r,l,null,a)}}function om(e){return e=In(e),lm(e)}var qc=null;function lm(e){if(qc=null,e=bi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=f(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return qc=e,null}function vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hf()){case wo:return 2;case ra:return 8;case os:case ff:return 32;case sa:return 268435456;default:return 32}default:return 32}}var um=!1,Or=null,xr=null,Vr=null,Cl=new Map,Dl=new Map,Mr=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(e,r){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Nl(e,r,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&_v(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function Gb(e,r,a,l,h){switch(r){case"focusin":return Or=Nl(Or,e,r,a,l,h),!0;case"dragenter":return xr=Nl(xr,e,r,a,l,h),!0;case"mouseover":return Vr=Nl(Vr,e,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Nl(Cl.get(d)||null,e,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Nl(Dl.get(d)||null,e,r,a,l,h)),!0}return!1}function Tv(e){var r=bi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){e.blockedOn=r,Iu(e.priority,function(){if(a.tag===13){var l=Tn();l=lr(l);var h=wa(a,l);h!==null&&An(h,a,l),sm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=om(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ii=l,a.target.dispatchEvent(l),Ii=null}else return r=Zn(a),r!==null&&_v(r),e.blockedOn=a,!1;r.shift()}return!0}function Av(e,r,a){Hc(e)&&a.delete(r)}function Qb(){um=!1,Or!==null&&Hc(Or)&&(Or=null),xr!==null&&Hc(xr)&&(xr=null),Vr!==null&&Hc(Vr)&&(Vr=null),Cl.forEach(Av),Dl.forEach(Av)}function Fc(e,r){e.blockedOn===r&&(e.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qb)))}var Gc=null;function bv(e){Gc!==e&&(Gc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],h=e[r+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Zn(a);d!==null&&(e.splice(r,3),r-=3,ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ol(e){function r(N){return Fc(N,e)}Or!==null&&Fc(Or,e),xr!==null&&Fc(xr,e),Vr!==null&&Fc(Vr,e),Cl.forEach(r),Dl.forEach(r);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&Mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ye]||null;if(typeof d=="function")v||bv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ye]||null)T=v.formAction;else if(lm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),bv(a)}}}function cm(e){this._internalRoot=e}Qc.prototype.render=cm.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Tn();gv(a,l,e,r,null,null)},Qc.prototype.unmount=cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;gv(e.current,2,null,e,null,null),Ic(),r[wn]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var r=ur();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Mr.length&&r!==0&&r<Mr[a].priority;a++);Mr.splice(a,0,e),a===0&&Tv(e)}};var Sv=t.version;if(Sv!=="19.1.0")throw Error(s(527,Sv,"19.1.0"));ut.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(r),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Kb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{ce=Kc.inject(Kb),Gt=Kc}catch{}}return Vl.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",h=zy,d=jy,v=qy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=mv(e,1,!1,null,null,a,l,h,d,v,T,null),e[wn]=r.current,Qd(e),new cm(r)},Vl.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=zy,v=jy,T=qy,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=mv(e,1,!0,r,a??null,l,h,d,v,T,N,G),r.context=pv(null),a=r.current,l=Tn(),l=lr(l),h=yr(l),h.callback=null,_r(a,h,l),a=l,r.current.lanes=a,Ai(r,a),hi(r),e[wn]=r.current,Qd(e),new Qc(r)},Vl.version="19.1.0",Vl}var Mv;function iS(){if(Mv)return dm.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),dm.exports=nS(),dm.exports}var rS=iS();const sS=TE(rS);var Ml={},Pv;function aS(){if(Pv)return Ml;Pv=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=f,Ml.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,V){const O=new u,z=A.length;if(z<2)return O;const U=(V==null?void 0:V.decode)||E;let q=0;do{const F=A.indexOf("=",q);if(F===-1)break;const X=A.indexOf(";",q),rt=X===-1?z:X;if(F>rt){q=A.lastIndexOf(";",F-1)+1;continue}const at=m(A,q,F),st=p(A,F,at),I=A.slice(at,st);if(O[I]===void 0){let S=m(A,F+1,rt),R=p(A,rt,S);const C=U(A.slice(S,R));O[I]=C}q=rt+1}while(q<z);return O}function m(A,V,O){do{const z=A.charCodeAt(V);if(z!==32&&z!==9)return V}while(++V<O);return O}function p(A,V,O){for(;V>O;){const z=A.charCodeAt(--V);if(z!==32&&z!==9)return V+1}return O}function g(A,V,O){const z=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=z(V);if(!t.test(U))throw new TypeError(`argument val is invalid: ${V}`);let q=A+"="+U;if(!O)return q;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);q+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);q+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);q+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);q+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(q+="; HttpOnly"),O.secure&&(q+="; Secure"),O.partitioned&&(q+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return Ml}aS();var kv="popstate";function oS(i={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Zs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Nm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Yl(u))}function s(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return uS(t,n,s,i)}function le(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Qn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lS(){return Math.random().toString(36).substring(2,10)}function Uv(i,t){return{usr:i.state,key:i.key,idx:t}}function Nm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Zs(t):t,state:n,key:t&&t.key||s||lS()}}function Yl({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Zs(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function uS(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let U=E(),q=U==null?null:U-g;g=U,p&&p({action:m,location:z.location,delta:q})}function A(U,q){m="PUSH";let F=Nm(z.location,U,q);n&&n(F,U),g=E()+1;let X=Uv(F,g),rt=z.createHref(F);try{f.pushState(X,"",rt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(rt)}u&&p&&p({action:m,location:z.location,delta:1})}function V(U,q){m="REPLACE";let F=Nm(z.location,U,q);n&&n(F,U),g=E();let X=Uv(F,g),rt=z.createHref(F);f.replaceState(X,"",rt),u&&p&&p({action:m,location:z.location,delta:0})}function O(U){return cS(U)}let z={get action(){return m},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(kv,b),p=U,()=>{o.removeEventListener(kv,b),p=null}},createHref(U){return t(o,U)},createURL:O,encodeLocation(U){let q=O(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:V,go(U){return f.go(U)}};return z}function cS(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Yl(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function AE(i,t,n="/"){return hS(i,t,n,!1)}function hS(i,t,n,s){let o=typeof t=="string"?Zs(t):t,u=Zi(o.pathname||"/",n);if(u==null)return null;let f=bE(i);fS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=bS(u);m=TS(f[p],g,s)}return m}function bE(i,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(le(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Yi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(le(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bE(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:vS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of SE(u.path))o(u,f,p)}),t}function SE(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=SE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function fS(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:ES(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dS=/^:[\w-]+$/,mS=3,pS=2,gS=1,yS=10,_S=-2,Lv=i=>i==="*";function vS(i,t){let n=i.split("/"),s=n.length;return n.some(Lv)&&(s+=_S),t&&(s+=pS),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(dS.test(u)?mS:u===""?gS:yS),s)}function ES(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function TS(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Yi([u,b.pathname]),pathnameBase:IS(Yi([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=Yi([u,b.pathnameBase]))}return f}function mh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=AS(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},A)=>{if(E==="*"){let O=m[A]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const V=m[A];return b&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function AS(i,t=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function bS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Zi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function SS(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Zs(i):i;return{pathname:n?n.startsWith("/")?n:wS(n,t):t,search:CS(s),hash:DS(o)}}function wS(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RS(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wE(i){let t=RS(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function RE(i,t,n,s=!1){let o;typeof i=="string"?o=Zs(i):(o={...i},le(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?t[b]:"/"}let p=SS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Yi=i=>i.join("/").replace(/\/\/+/g,"/"),IS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),CS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,DS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function NS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var IE=["POST","PUT","PATCH","DELETE"];new Set(IE);var OS=["GET",...IE];new Set(OS);var go=B.createContext(null);go.displayName="DataRouter";var kh=B.createContext(null);kh.displayName="DataRouterState";var CE=B.createContext({isTransitioning:!1});CE.displayName="ViewTransition";var xS=B.createContext(new Map);xS.displayName="Fetchers";var VS=B.createContext(null);VS.displayName="Await";var vi=B.createContext(null);vi.displayName="Navigation";var su=B.createContext(null);su.displayName="Location";var ir=B.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var dp=B.createContext(null);dp.displayName="RouteError";function MS(i,{relative:t}={}){le(au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(vi),{hash:o,pathname:u,search:f}=lu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Yi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function au(){return B.useContext(su)!=null}function Js(){return le(au(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(su).location}var DE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NE(i){B.useContext(vi).static||B.useLayoutEffect(i)}function ou(){let{isDataRoute:i}=B.useContext(ir);return i?KS():PS()}function PS(){le(au(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(go),{basename:t,navigator:n}=B.useContext(vi),{matches:s}=B.useContext(ir),{pathname:o}=Js(),u=JSON.stringify(wE(s)),f=B.useRef(!1);return NE(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(Qn(f.current,DE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=RE(p,JSON.parse(u),o,g.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Yi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,i])}B.createContext(null);function lu(i,{relative:t}={}){let{matches:n}=B.useContext(ir),{pathname:s}=Js(),o=JSON.stringify(wE(n));return B.useMemo(()=>RE(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function kS(i,t){return OE(i,t)}function OE(i,t,n,s){var q;le(au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(vi),{matches:u}=B.useContext(ir),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let F=E&&E.path||"";xE(p,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Js(),A;if(t){let F=typeof t=="string"?Zs(t):t;le(g==="/"||((q=F.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),A=F}else A=b;let V=A.pathname||"/",O=V;if(g!=="/"){let F=g.replace(/^\//,"").split("/");O="/"+V.replace(/^\//,"").split("/").slice(F.length).join("/")}let z=AE(i,{pathname:O});Qn(E||z!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Qn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=jS(z&&z.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Yi([g,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Yi([g,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,s);return t&&U?B.createElement(su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function US(){let i=QS(),t=NS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:o},n):null,f)}var LS=B.createElement(US,null),BS=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?B.createElement(ir.Provider,{value:this.props.routeContext},B.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zS({routeContext:i,match:t,children:n}){let s=B.useContext(go);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(ir.Provider,{value:i},n)}function jS(i,t=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);le(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,A=!1,V=null,O=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||LS,f&&(m<0&&E===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,O=null):m===E&&(A=!0,O=g.route.hydrateFallbackElement||null)));let z=t.concat(o.slice(0,E+1)),U=()=>{let q;return b?q=V:A?q=O:g.route.Component?q=B.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,B.createElement(zS,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?B.createElement(BS,{location:n.location,revalidation:n.revalidation,component:V,error:b,children:U(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):U()},null)}function mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qS(i){let t=B.useContext(go);return le(t,mp(i)),t}function HS(i){let t=B.useContext(kh);return le(t,mp(i)),t}function FS(i){let t=B.useContext(ir);return le(t,mp(i)),t}function pp(i){let t=FS(i),n=t.matches[t.matches.length-1];return le(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function GS(){return pp("useRouteId")}function QS(){var s;let i=B.useContext(dp),t=HS("useRouteError"),n=pp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[n]}function KS(){let{router:i}=qS("useNavigate"),t=pp("useNavigate"),n=B.useRef(!1);return NE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Qn(n.current,DE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var Bv={};function xE(i,t,n){!t&&!Bv[i]&&(Bv[i]=!0,Qn(!1,n))}B.memo(YS);function YS({routes:i,future:t,state:n}){return OE(i,void 0,n,t)}function eh(i){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XS({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){le(!au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Zs(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:A="default"}=n,V=B.useMemo(()=>{let O=Zi(p,f);return O==null?null:{location:{pathname:O,search:g,hash:E,state:b,key:A},navigationType:s}},[f,p,g,E,b,A,s]);return Qn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:B.createElement(vi.Provider,{value:m},B.createElement(su.Provider,{children:t,value:V}))}function WS({children:i,location:t}){return kS(Om(i),t)}function Om(i,t=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...t,o];if(s.type===B.Fragment){n.push.apply(n,Om(s.props.children,u));return}le(s.type===eh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Om(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Uh(i){return i!=null&&typeof i.tagName=="string"}function ZS(i){return Uh(i)&&i.tagName.toLowerCase()==="button"}function JS(i){return Uh(i)&&i.tagName.toLowerCase()==="form"}function $S(i){return Uh(i)&&i.tagName.toLowerCase()==="input"}function tw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ew(i,t){return i.button===0&&(!t||t==="_self")&&!tw(i)}var Yc=null;function nw(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(i){return i!=null&&!iw.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):i}function rw(i,t){let n,s,o,u,f;if(JS(i)){let m=i.getAttribute("action");s=m?Zi(m,t):null,n=i.getAttribute("method")||nh,o=_m(i.getAttribute("enctype"))||ih,u=new FormData(i)}else if(ZS(i)||$S(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zi(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||nh,o=_m(i.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||ih,u=new FormData(m,i),!nw()){let{name:g,type:E,value:b}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(Uh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function gp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function sw(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ow(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await sw(u,n);return f.links?f.links():[]}return[]}));return hw(s.flat(1).filter(aw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(i,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function lw(i,t,{includeHydrateFallback:n}={}){return uw(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function uw(i){return[...new Set(i)]}function cw(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function hw(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(cw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fw=new Set([100,101,204,205]);function dw(i,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":t&&Zi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function VE(){let i=B.useContext(go);return gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function mw(){let i=B.useContext(kh);return gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var yp=B.createContext(void 0);yp.displayName="FrameworkContext";function ME(){let i=B.useContext(yp);return gp(i,"You must render this element inside a <HydratedRouter> element"),i}function pw(i,t){let n=B.useContext(yp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=t,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let z=q=>{q.forEach(F=>{f(F.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),B.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let V=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Pl(m,V),onBlur:Pl(p,O),onMouseEnter:Pl(g,V),onMouseLeave:Pl(E,O),onTouchStart:Pl(b,V)}]:[!1,A,{}]}function Pl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function gw({page:i,...t}){let{router:n}=VE(),s=B.useMemo(()=>AE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(_w,{page:i,matches:s,...t}):null}function yw(i){let{manifest:t,routeModules:n}=ME(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return ow(i,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,t,n]),s}function _w({page:i,matches:t,...n}){let s=Js(),{manifest:o,routeModules:u}=ME(),{basename:f}=VE(),{loaderData:m,matches:p}=mw(),g=B.useMemo(()=>zv(i,t,p,o,s,"data"),[i,t,p,o,s]),E=B.useMemo(()=>zv(i,t,p,o,s,"assets"),[i,t,p,o,s]),b=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,z=!1;if(t.forEach(q=>{var X;let F=o.routes[q.route.id];!F||!F.hasLoader||(!g.some(rt=>rt.route.id===q.route.id)&&q.route.id in m&&((X=u[q.route.id])!=null&&X.shouldRevalidate)||F.hasClientLoader?z=!0:O.add(q.route.id))}),O.size===0)return[];let U=dw(i,f);return z&&O.size>0&&U.searchParams.set("_routes",t.filter(q=>O.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,t,i,u]),A=B.useMemo(()=>lw(E,o),[E,o]),V=yw(E);return B.createElement(B.Fragment,null,b.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),V.map(({key:O,link:z})=>B.createElement("link",{key:O,...z})))}function vw(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PE&&(window.__reactRouterVersion="7.6.1")}catch{}function Ew({basename:i,children:t,window:n}){let s=B.useRef();s.current==null&&(s.current=oS({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(XS,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:o})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UE=B.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...A},V){let{basename:O}=B.useContext(vi),z=typeof g=="string"&&kE.test(g),U,q=!1;if(typeof g=="string"&&z&&(U=g,PE))try{let R=new URL(window.location.href),C=g.startsWith("//")?new URL(R.protocol+g):new URL(g),x=Zi(C.pathname,O);C.origin===R.origin&&x!=null?g=x+C.search+C.hash:q=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=MS(g,{relative:o}),[X,rt,at]=pw(s,A),st=Sw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function I(R){t&&t(R),R.defaultPrevented||st(R)}let S=B.createElement("a",{...A,...at,href:U||F,onClick:q||u?t:I,ref:vw(V,rt),target:p,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?B.createElement(B.Fragment,null,S,B.createElement(gw,{page:F})):S});UE.displayName="Link";var Tw=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=lu(f,{relative:g.relative}),A=Js(),V=B.useContext(kh),{navigator:O,basename:z}=B.useContext(vi),U=V!=null&&Dw(b)&&m===!0,q=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,F=A.pathname,X=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(F=F.toLowerCase(),X=X?X.toLowerCase():null,q=q.toLowerCase()),X&&z&&(X=Zi(X,z)||X);const rt=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let at=F===q||!o&&F.startsWith(q)&&F.charAt(rt)==="/",st=X!=null&&(X===q||!o&&X.startsWith(q)&&X.charAt(q.length)==="/"),I={isActive:at,isPending:st,isTransitioning:U},S=at?t:void 0,R;typeof s=="function"?R=s(I):R=[s,at?"active":null,st?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(I):u;return B.createElement(UE,{...g,"aria-current":S,className:R,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(I):p)});Tw.displayName="NavLink";var Aw=B.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...A},V)=>{let O=Iw(),z=Cw(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&kE.test(m),F=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let rt=X.nativeEvent.submitter,at=(rt==null?void 0:rt.getAttribute("formmethod"))||f;O(rt||X.currentTarget,{fetcherKey:t,method:at,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return B.createElement("form",{ref:V,method:U,action:z,onSubmit:s?p:F,...A,"data-discover":!q&&i==="render"?"true":void 0})});Aw.displayName="Form";function bw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LE(i){let t=B.useContext(go);return le(t,bw(i)),t}function Sw(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ou(),p=Js(),g=lu(i,{relative:u});return B.useCallback(E=>{if(ew(E,t)){E.preventDefault();let b=n!==void 0?n:Yl(p)===Yl(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,i,o,u,f])}var ww=0,Rw=()=>`__${String(++ww)}__`;function Iw(){let{router:i}=LE("useSubmit"),{basename:t}=B.useContext(vi),n=GS();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=rw(s,t);if(o.navigate===!1){let E=o.fetcherKey||Rw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,t,n])}function Cw(i,{relative:t}={}){let{basename:n}=B.useContext(vi),s=B.useContext(ir);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(i||".",{relative:t})},f=Js();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Yi([n,u.pathname])),Yl(u)}function Dw(i,t={}){let n=B.useContext(CE);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=LE("useViewTransitionState"),o=lu(i,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Zi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}[...fw];const Nw=()=>{};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Ow=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(A=64)),s.push(n[E],n[b],n[A],n[V])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(BE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Ow(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new xw;const A=u<<2|m>>4;if(s.push(A),g!==64){const V=m<<4&240|g>>2;if(s.push(V),b!==64){const O=g<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(i){const t=BE(i);return zE.encodeByteArray(t,!0)},ph=function(i){return Vw(i).replace(/\./g,"")},jE=function(i){try{return zE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=()=>Mw().__FIREBASE_DEFAULTS__,kw=()=>{if(typeof process>"u"||typeof jv>"u")return;const i=jv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Uw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&jE(i[1]);return t&&JSON.parse(t)},Lh=()=>{try{return Nw()||Pw()||kw()||Uw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qE=i=>{var t,n;return(n=(t=Lh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[i]},Lw=i=>{const t=qE(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},HE=()=>{var i;return(i=Lh())===null||i===void 0?void 0:i.config},FE=i=>{var t;return(t=Lh())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){return i.endsWith(".cloudworkstations.dev")}async function GE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const ql={};function jw(){const i={prod:[],emulator:[]};for(const t of Object.keys(ql))ql[t]?i.emulator.push(t):i.prod.push(t);return i}function qw(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let qv=!1;function QE(i,t){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||ql[i]===t||ql[i]||qv)return;ql[i]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=jw().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{qv=!0,f()},A}function E(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=qw(s),V=n("text"),O=document.getElementById(V)||document.createElement("span"),z=n("learnmore"),U=document.getElementById(z)||document.createElement("a"),q=n("preprendIcon"),F=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const X=A.element;m(X),E(U,z);const rt=g();p(F,q),X.append(F,O,U,rt),document.body.appendChild(X)}u?(O.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Fw(){var i;const t=(i=Lh())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yw(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Xw(){return!Fw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ww(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Jw,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?$w(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new rr(o,m,s)}}function $w(i,t){return i.replace(tR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const tR=/\{\$([^}]+)}/g;function eR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Kr(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=t[o];if(Hv(u)&&Hv(f)){if(!Kr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Hv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kl(i){const t={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Ul(i){const t=i.indexOf("?");if(!t)return"";const n=i.indexOf("#",t);return i.substring(t,n>0?n:void 0)}function nR(i,t){const n=new iR(i,t);return n.subscribe.bind(n)}class iR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rR(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i){return i&&i._delegate?i._delegate:i}class Fs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Bw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oR(t))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=js){return this.instances.has(t)}getOptions(t=js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=js){return this.component?this.component.multipleInstances?t:js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(i){return i===js?void 0:i}function oR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Mt||(Mt={}));const uR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},cR=Mt.INFO,hR={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},fR=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=hR[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _p{constructor(t){this.name=t,this._logLevel=cR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const dR=(i,t)=>t.some(n=>i instanceof n);let Fv,Gv;function mR(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,xm=new WeakMap,YE=new WeakMap,Em=new WeakMap,vp=new WeakMap;function gR(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(qr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&KE.set(n,i)}).catch(()=>{}),vp.set(t,i),t}function yR(i){if(xm.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});xm.set(i,t)}let Vm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return xm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||YE.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function _R(i){Vm=i(Vm)}function vR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Tm(this),t,...n);return YE.set(s,t.sort?t.sort():[t]),qr(s)}:pR().includes(i)?function(...t){return i.apply(Tm(this),t),qr(KE.get(this))}:function(...t){return qr(i.apply(Tm(this),t))}}function ER(i){return typeof i=="function"?vR(i):(i instanceof IDBTransaction&&yR(i),dR(i,mR())?new Proxy(i,Vm):i)}function qr(i){if(i instanceof IDBRequest)return gR(i);if(Em.has(i))return Em.get(i);const t=ER(i);return t!==i&&(Em.set(i,t),vp.set(t,i)),t}const Tm=i=>vp.get(i);function TR(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,t),m=qr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qr(f.result),p.oldVersion,p.newVersion,qr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const AR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],Am=new Map;function Qv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Am.get(t))return Am.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=bR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Am.set(t,u),u}_R(i=>({...i,get:(t,n,s)=>Qv(t,n)||i.get(t,n,s),has:(t,n)=>!!Qv(t,n)||i.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function wR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mm="@firebase/app",Kv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new _p("@firebase/app"),RR="@firebase/app-compat",IR="@firebase/analytics-compat",CR="@firebase/analytics",DR="@firebase/app-check-compat",NR="@firebase/app-check",OR="@firebase/auth",xR="@firebase/auth-compat",VR="@firebase/database",MR="@firebase/data-connect",PR="@firebase/database-compat",kR="@firebase/functions",UR="@firebase/functions-compat",LR="@firebase/installations",BR="@firebase/installations-compat",zR="@firebase/messaging",jR="@firebase/messaging-compat",qR="@firebase/performance",HR="@firebase/performance-compat",FR="@firebase/remote-config",GR="@firebase/remote-config-compat",QR="@firebase/storage",KR="@firebase/storage-compat",YR="@firebase/firestore",XR="@firebase/ai",WR="@firebase/firestore-compat",ZR="firebase",JR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",$R={[Mm]:"fire-core",[RR]:"fire-core-compat",[CR]:"fire-analytics",[IR]:"fire-analytics-compat",[NR]:"fire-app-check",[DR]:"fire-app-check-compat",[OR]:"fire-auth",[xR]:"fire-auth-compat",[VR]:"fire-rtdb",[MR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[kR]:"fire-fn",[UR]:"fire-fn-compat",[LR]:"fire-iid",[BR]:"fire-iid-compat",[zR]:"fire-fcm",[jR]:"fire-fcm-compat",[qR]:"fire-perf",[HR]:"fire-perf-compat",[FR]:"fire-rc",[GR]:"fire-rc-compat",[QR]:"fire-gcs",[KR]:"fire-gcs-compat",[YR]:"fire-fst",[WR]:"fire-fst-compat",[XR]:"fire-vertex","fire-js":"fire-js",[ZR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,tI=new Map,km=new Map;function Yv(i,t){try{i.container.addComponent(t)}catch(n){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function so(i){const t=i.name;if(km.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;km.set(t,i);for(const n of gh.values())Yv(n,i);for(const n of tI.values())Yv(n,i);return!0}function Ep(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function Un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new cu("app","Firebase",eI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=JR;function XE(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Pm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=HE()),!n)throw Hr.create("no-options");const u=gh.get(o);if(u){if(Kr(n,u.options)&&Kr(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const f=new lR(o);for(const p of km.values())f.addComponent(p);const m=new nI(n,s,f);return gh.set(o,m),m}function WE(i=Pm){const t=gh.get(i);if(!t&&i===Pm&&HE())return XE();if(!t)throw Hr.create("no-app",{appName:i});return t}function Fr(i,t,n){var s;let o=(s=$R[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}so(new Fs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebase-heartbeat-database",rI=1,Xl="firebase-heartbeat-store";let bm=null;function ZE(){return bm||(bm=TR(iI,rI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),bm}async function sI(i){try{const n=(await ZE()).transaction(Xl),s=await n.objectStore(Xl).get(JE(i));return await n.done,s}catch(t){if(t instanceof rr)Ji.warn(t.message);else{const n=Hr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ji.warn(n.message)}}}async function Xv(i,t){try{const s=(await ZE()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(t,JE(i)),await s.done}catch(n){if(n instanceof rr)Ji.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function JE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1024,oI=30;class lI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Wv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>oI){const f=hI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Wv(),{heartbeatsToSend:s,unsentEntries:o}=uI(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function Wv(){return new Date().toISOString().substring(0,10)}function uI(i,t=aI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Zv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Zv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class cI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ww()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Zv(i){return ph(JSON.stringify({version:2,heartbeats:i})).length}function hI(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(i){so(new Fs("platform-logger",t=>new SR(t),"PRIVATE")),so(new Fs("heartbeat",t=>new lI(t),"PRIVATE")),Fr(Mm,Kv,i),Fr(Mm,Kv,"esm2017"),Fr("fire-js","")}fI("");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,$E;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,S){function R(){}R.prototype=S.prototype,I.D=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(C,x,P){for(var D=Array(arguments.length-2),re=2;re<arguments.length;re++)D[re-2]=arguments[re];return S.prototype[x].apply(C,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,R){R||(R=0);var C=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)C[x]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(x=0;16>x;++x)C[x]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],x=I.g[2];var P=I.g[3],D=S+(P^R&(x^P))+C[0]+3614090360&4294967295;S=R+(D<<7&4294967295|D>>>25),D=P+(x^S&(R^x))+C[1]+3905402710&4294967295,P=S+(D<<12&4294967295|D>>>20),D=x+(R^P&(S^R))+C[2]+606105819&4294967295,x=P+(D<<17&4294967295|D>>>15),D=R+(S^x&(P^S))+C[3]+3250441966&4294967295,R=x+(D<<22&4294967295|D>>>10),D=S+(P^R&(x^P))+C[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(x^S&(R^x))+C[5]+1200080426&4294967295,P=S+(D<<12&4294967295|D>>>20),D=x+(R^P&(S^R))+C[6]+2821735955&4294967295,x=P+(D<<17&4294967295|D>>>15),D=R+(S^x&(P^S))+C[7]+4249261313&4294967295,R=x+(D<<22&4294967295|D>>>10),D=S+(P^R&(x^P))+C[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(x^S&(R^x))+C[9]+2336552879&4294967295,P=S+(D<<12&4294967295|D>>>20),D=x+(R^P&(S^R))+C[10]+4294925233&4294967295,x=P+(D<<17&4294967295|D>>>15),D=R+(S^x&(P^S))+C[11]+2304563134&4294967295,R=x+(D<<22&4294967295|D>>>10),D=S+(P^R&(x^P))+C[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=P+(x^S&(R^x))+C[13]+4254626195&4294967295,P=S+(D<<12&4294967295|D>>>20),D=x+(R^P&(S^R))+C[14]+2792965006&4294967295,x=P+(D<<17&4294967295|D>>>15),D=R+(S^x&(P^S))+C[15]+1236535329&4294967295,R=x+(D<<22&4294967295|D>>>10),D=S+(x^P&(R^x))+C[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^x&(S^R))+C[6]+3225465664&4294967295,P=S+(D<<9&4294967295|D>>>23),D=x+(S^R&(P^S))+C[11]+643717713&4294967295,x=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(x^P))+C[0]+3921069994&4294967295,R=x+(D<<20&4294967295|D>>>12),D=S+(x^P&(R^x))+C[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^x&(S^R))+C[10]+38016083&4294967295,P=S+(D<<9&4294967295|D>>>23),D=x+(S^R&(P^S))+C[15]+3634488961&4294967295,x=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(x^P))+C[4]+3889429448&4294967295,R=x+(D<<20&4294967295|D>>>12),D=S+(x^P&(R^x))+C[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^x&(S^R))+C[14]+3275163606&4294967295,P=S+(D<<9&4294967295|D>>>23),D=x+(S^R&(P^S))+C[3]+4107603335&4294967295,x=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(x^P))+C[8]+1163531501&4294967295,R=x+(D<<20&4294967295|D>>>12),D=S+(x^P&(R^x))+C[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=P+(R^x&(S^R))+C[2]+4243563512&4294967295,P=S+(D<<9&4294967295|D>>>23),D=x+(S^R&(P^S))+C[7]+1735328473&4294967295,x=P+(D<<14&4294967295|D>>>18),D=R+(P^S&(x^P))+C[12]+2368359562&4294967295,R=x+(D<<20&4294967295|D>>>12),D=S+(R^x^P)+C[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^x)+C[8]+2272392833&4294967295,P=S+(D<<11&4294967295|D>>>21),D=x+(P^S^R)+C[11]+1839030562&4294967295,x=P+(D<<16&4294967295|D>>>16),D=R+(x^P^S)+C[14]+4259657740&4294967295,R=x+(D<<23&4294967295|D>>>9),D=S+(R^x^P)+C[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^x)+C[4]+1272893353&4294967295,P=S+(D<<11&4294967295|D>>>21),D=x+(P^S^R)+C[7]+4139469664&4294967295,x=P+(D<<16&4294967295|D>>>16),D=R+(x^P^S)+C[10]+3200236656&4294967295,R=x+(D<<23&4294967295|D>>>9),D=S+(R^x^P)+C[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^x)+C[0]+3936430074&4294967295,P=S+(D<<11&4294967295|D>>>21),D=x+(P^S^R)+C[3]+3572445317&4294967295,x=P+(D<<16&4294967295|D>>>16),D=R+(x^P^S)+C[6]+76029189&4294967295,R=x+(D<<23&4294967295|D>>>9),D=S+(R^x^P)+C[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=P+(S^R^x)+C[12]+3873151461&4294967295,P=S+(D<<11&4294967295|D>>>21),D=x+(P^S^R)+C[15]+530742520&4294967295,x=P+(D<<16&4294967295|D>>>16),D=R+(x^P^S)+C[2]+3299628645&4294967295,R=x+(D<<23&4294967295|D>>>9),D=S+(x^(R|~P))+C[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~x))+C[7]+1126891415&4294967295,P=S+(D<<10&4294967295|D>>>22),D=x+(S^(P|~R))+C[14]+2878612391&4294967295,x=P+(D<<15&4294967295|D>>>17),D=R+(P^(x|~S))+C[5]+4237533241&4294967295,R=x+(D<<21&4294967295|D>>>11),D=S+(x^(R|~P))+C[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~x))+C[3]+2399980690&4294967295,P=S+(D<<10&4294967295|D>>>22),D=x+(S^(P|~R))+C[10]+4293915773&4294967295,x=P+(D<<15&4294967295|D>>>17),D=R+(P^(x|~S))+C[1]+2240044497&4294967295,R=x+(D<<21&4294967295|D>>>11),D=S+(x^(R|~P))+C[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~x))+C[15]+4264355552&4294967295,P=S+(D<<10&4294967295|D>>>22),D=x+(S^(P|~R))+C[6]+2734768916&4294967295,x=P+(D<<15&4294967295|D>>>17),D=R+(P^(x|~S))+C[13]+1309151649&4294967295,R=x+(D<<21&4294967295|D>>>11),D=S+(x^(R|~P))+C[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=P+(R^(S|~x))+C[11]+3174756917&4294967295,P=S+(D<<10&4294967295|D>>>22),D=x+(S^(P|~R))+C[2]+718787259&4294967295,x=P+(D<<15&4294967295|D>>>17),D=R+(P^(x|~S))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+P&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var R=S-this.blockSize,C=this.B,x=this.h,P=0;P<S;){if(x==0)for(;P<=R;)o(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<S;)if(C[x++]=I.charCodeAt(P++),x==this.blockSize){o(this,C),x=0;break}}else for(;P<S;)if(C[x++]=I[P++],x==this.blockSize){o(this,C),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var R=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.u(I),I=Array(16),S=R=0;4>S;++S)for(var C=0;32>C;C+=8)I[R++]=this.g[S]>>>C&255;return I};function u(I,S){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function f(I,S){this.h=S;for(var R=[],C=!0,x=I.length-1;0<=x;x--){var P=I[x]|0;C&&P==S||(R[x]=P,C=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(S){return new f([S|0],0>S?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return U(g(-I));for(var S=[],R=1,C=0;I>=R;C++)S[C]=I/R|0,R*=4294967296;return new f(S,0)}function E(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return U(E(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),C=b,x=0;x<I.length;x+=8){var P=Math.min(8,I.length-x),D=parseInt(I.substring(x,x+P),S);8>P?(P=g(Math.pow(S,P)),C=C.j(P).add(g(D))):(C=C.j(R),C=C.add(g(D)))}return C}var b=p(0),A=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(z(this))return-U(this).m();for(var I=0,S=1,R=0;R<this.g.length;R++){var C=this.i(R);I+=(0<=C?C:4294967296+C)*S,S*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(z(this))return"-"+U(this).toString(I);for(var S=g(Math.pow(I,6)),R=this,C="";;){var x=rt(R,S).g;R=q(R,x.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=x,O(R))return P+C;for(;6>P.length;)P="0"+P;C=P+C}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function z(I){return I.h==-1}i.l=function(I){return I=q(this,I),z(I)?-1:O(I)?0:1};function U(I){for(var S=I.g.length,R=[],C=0;C<S;C++)R[C]=~I.g[C];return new f(R,~I.h).add(A)}i.abs=function(){return z(this)?U(this):this},i.add=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],C=0,x=0;x<=S;x++){var P=C+(this.i(x)&65535)+(I.i(x)&65535),D=(P>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);C=D>>>16,P&=65535,D&=65535,R[x]=D<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function q(I,S){return I.add(U(S))}i.j=function(I){if(O(this)||O(I))return b;if(z(this))return z(I)?U(this).j(U(I)):U(U(this).j(I));if(z(I))return U(this.j(U(I)));if(0>this.l(V)&&0>I.l(V))return g(this.m()*I.m());for(var S=this.g.length+I.g.length,R=[],C=0;C<2*S;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<I.g.length;x++){var P=this.i(C)>>>16,D=this.i(C)&65535,re=I.i(x)>>>16,Jt=I.i(x)&65535;R[2*C+2*x]+=D*Jt,F(R,2*C+2*x),R[2*C+2*x+1]+=P*Jt,F(R,2*C+2*x+1),R[2*C+2*x+1]+=D*re,F(R,2*C+2*x+1),R[2*C+2*x+2]+=P*re,F(R,2*C+2*x+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new f(R,0)};function F(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function X(I,S){this.g=I,this.h=S}function rt(I,S){if(O(S))throw Error("division by zero");if(O(I))return new X(b,b);if(z(I))return S=rt(U(I),S),new X(U(S.g),U(S.h));if(z(S))return S=rt(I,U(S)),new X(U(S.g),S.h);if(30<I.g.length){if(z(I)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,C=S;0>=C.l(I);)R=at(R),C=at(C);var x=st(R,1),P=st(C,1);for(C=st(C,2),R=st(R,2);!O(C);){var D=P.add(C);0>=D.l(I)&&(x=x.add(R),P=D),C=st(C,1),R=st(R,1)}return S=q(I,x.j(S)),new X(x,S)}for(x=b;0<=I.l(S);){for(R=Math.max(1,Math.floor(I.m()/S.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),P=g(R),D=P.j(S);z(D)||0<D.l(I);)R-=C,P=g(R),D=P.j(S);O(P)&&(P=A),x=x.add(P),I=q(I,D)}return new X(x,I)}i.A=function(I){return rt(this,I).h},i.and=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)&I.i(C);return new f(R,this.h&I.h)},i.or=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)|I.i(C);return new f(R,this.h|I.h)},i.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)^I.i(C);return new f(R,this.h^I.h)};function at(I){for(var S=I.g.length+1,R=[],C=0;C<S;C++)R[C]=I.i(C)<<1|I.i(C-1)>>>31;return new f(R,I.h)}function st(I,S){var R=S>>5;S%=32;for(var C=I.g.length-R,x=[],P=0;P<C;P++)x[P]=0<S?I.i(P+R)>>>S|I.i(P+R+1)<<32-S:I.i(P+R);return new f(x,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$E=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Gr=f}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tT,Ll,eT,rh,Um,nT,iT,rT;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break t;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,Y){for(var lt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)lt[kt-2]=arguments[kt];return y.prototype[j].apply(w,lt)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const j=c.length||0,Y=w.length||0;c.length=j+Y;for(let lt=0;lt<Y;lt++)c[j+lt]=w[lt]}else c.push(w)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var at=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function st(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let Y=0;Y<R.length;Y++)_=R[Y],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function x(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function D(){var c=jt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,_){const w=Jt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Jt=new q(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,mt=!1,jt=new re,M=()=>{const c=m.Promise.resolve(void 0);ut=()=>{c.then(it)}};var it=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){P(_)}var y=Jt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Nt(c,y){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{rt(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Nt.aa.h.call(this)}}O(Nt,ot);var St={2:"touch",3:"pen",4:"mouse"};Nt.prototype.h=function(){Nt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),te=0;function Xn(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++te,this.da=this.fa=!1}function or(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,y,_,w,j){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var lt=ss(c,y,w,j);return-1<lt?(y=c[lt],_||(y.fa=!1)):(y=new Xn(y,this.src,Y,!!w,j),y.fa=_,c.push(y)),y};function rs(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=j)&&Array.prototype.splice.call(w,j,1),Y&&(or(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ss(c,y,_,w){for(var j=0;j<c.length;++j){var Y=c[j];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==w)return j}return-1}var as="closure_lm_"+(1e6*Math.random()|0),So={};function Su(c,y,_,w,j){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Su(c,y[Y],_,w,j);return null}return _=wu(_),c&&c[Oe]?c.K(y,_,g(w)?!!w.capture:!1,j):Sn(c,y,_,!1,w,j)}function Sn(c,y,_,w,j,Y){if(!y)throw Error("Invalid event type");var lt=g(j)?!!j.capture:!!j,kt=sa(c);if(kt||(c[as]=kt=new Ei(c)),_=kt.add(y,_,w,lt,Y),_.proxy)return _;if(w=hf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)yt||(j=lt),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(os(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hf(){function c(_){return y.call(c.src,c.listener,_)}const y=ff;return c}function wo(c,y,_,w,j){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)wo(c,y[Y],_,w,j);else w=g(w)?!!w.capture:!!w,_=wu(_),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=ss(Y,_,w,j),-1<_&&(or(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=sa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ss(y,_,w,j)),(_=-1<c?y[c]:null)&&ra(_))}function ra(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])rs(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(os(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=sa(y))?(rs(_,c),_.h==0&&(_.src=null,y[as]=null)):or(c)}}}function os(c){return c in So?So[c]:So[c]="on"+c}function ff(c,y){if(c.da)c=!0;else{y=new Nt(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ra(c),c=_.call(w,y)}return c}function sa(c){return c=c[as],c instanceof Ei?c:null}var Ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[Ro]||(c[Ro]=function(y){return c.handleEvent(y)}),c[Ro])}function ce(){ct.call(this),this.i=new Ei(this),this.M=this,this.F=null}O(ce,ct),ce.prototype[Oe]=!0,ce.prototype.removeEventListener=function(c,y,_,w){wo(this,c,y,_,w)};function Gt(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ot(y,c);else if(y instanceof ot)y.target=y.target||c;else{var j=y;y=new ot(w,c),C(y,j)}if(j=!0,_)for(var Y=_.length-1;0<=Y;Y--){var lt=y.g=_[Y];j=mn(lt,w,!0,y)&&j}if(lt=y.g=c,j=mn(lt,w,!0,y)&&j,j=mn(lt,w,!1,y)&&j,_)for(Y=0;Y<_.length;Y++)lt=y.g=_[Y],j=mn(lt,w,!1,y)&&j}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)or(_[w]);delete c.g[y],c.h--}}this.F=null},ce.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ce.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function mn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Y=0;Y<y.length;++Y){var lt=y[Y];if(lt&&!lt.da&&lt.capture==_){var kt=lt.listener,Se=lt.ha||lt.src;lt.fa&&rs(c.i,lt),j=kt.call(Se,w)!==!1&&j}}return j&&!w.defaultPrevented}function Ke(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ru(c){c.g=Ke(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class df extends ct{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(c){ct.call(this),this.h=c,this.g={}}O(ls,ct);var us=[];function cs(c){st(c.g,function(y,_){this.g.hasOwnProperty(_)&&ra(y)},c),c.g={}}ls.prototype.N=function(){ls.aa.N.call(this),cs(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=m.JSON.stringify,aa=m.JSON.parse,hs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Io(){}Io.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Do(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){ot.call(this,"d")}O(Ai,ot);function No(){ot.call(this,"c")}O(No,ot);var Wn={},Oo=null;function lr(){return Oo=Oo||new ce}Wn.La="serverreachability";function oa(c){ot.call(this,Wn.La,c)}O(oa,ot);function ur(c){const y=lr();Gt(y,new oa(y))}Wn.STAT_EVENT="statevent";function Iu(c,y){ot.call(this,Wn.STAT_EVENT,c),this.stat=y}O(Iu,ot);function se(c){const y=lr();Gt(y,new Iu(y,c))}Wn.Ma="timingevent";function be(c,y){ot.call(this,Wn.Ma,c),this.size=y}O(be,ot);function ye(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function xo(c,y,_,w,j,Y){c.info(function(){if(c.g)if(Y)for(var lt="",kt=Y.split("&"),Se=0;Se<kt.length;Se++){var Ut=kt[Se].split("=");if(1<Ut.length){var Ve=Ut[0];Ut=Ut[1];var we=Ve.split("_");lt=2<=we.length&&we[1]=="type"?lt+(Ve+"="+Ut+"&"):lt+(Ve+"=redacted&")}}else lt=null;else lt=Y;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+lt})}function mf(c,y,_,w,j,Y,lt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+Y+" "+lt})}function cr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+fs(c,_)+(w?" "+w:"")})}function Cu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function fs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var Y=j[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var lt=1;lt<j.length;lt++)j[lt]=""}}}}return Bn(_)}catch{return y}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}O(Jn,Io),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function nn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var Vo={},la={};function zn(c,y,_){c.L=1,c.v=ys(pn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),ds(c),c.A=pn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Bo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new de,c.g=Fu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new df(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(us[0]=j.toString()),j=us);for(var Y=0;Y<j.length;Y++){var lt=Su(_,j[Y],w||y.handleEvent,!1,y.h||y);if(!lt)break;y.g[lt.key]=lt}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ur(),xo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const we=Dn(this.g);var y=this.g.Ba();const xi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||we!=4||y==7||(y==8||0>=xi?ur(3):ur(2)),fr(this);var _=this.g.Z();this.X=_;e:if(Du(this)){var w=ku(this.g);c="";var j=w.length,Y=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),$n(this);var lt="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=_==200,mf(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Se=this.g;if((kt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(kt)){var Ut=kt;break e}}Ut=null}if(_=Ut)cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,_);else{this.o=!1,this.s=3,se(12),Le(this),$n(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<lt.length;)if(Be=Nu(this,lt),Be==la){we==4&&(this.s=4,se(14),_=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==Vo){this.s=4,se(15),cr(this.i,this.l,lt,"[Invalid Chunk]"),_=!1;break}else cr(this.i,this.l,Be,null),ms(this,Be);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||lt.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)cr(this.i,this.l,lt,"[Invalid Chunked Response]"),Le(this),$n(this);else if(0<lt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),ws(Ve),Ve.M=!0,se(11))}}else cr(this.i,this.l,lt,null),ms(this,lt);we==4&&Le(this),this.o&&!this.J&&(we==4?ju(this.j,this):(this.o=!1,ds(this)))}else vf(this.g),_==400&&0<lt.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Le(this),$n(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?la:(_=Number(y.substring(_,w)),isNaN(_)?Vo:(w+=1,w+_>y.length?la:(y=y.slice(w,w+_),c.C=w+_,y)))}nn.prototype.cancel=function(){this.J=!0,Le(this)};function ds(c){c.S=Date.now()+c.I,Ou(c,c.I)}function Ou(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ye(A(c.ba,c),y)}function fr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Cu(this.i,this.A),this.L!=2&&(ur(),se(17)),Le(this),this.s=2,$n(this)):Ou(this,this.S-c)};function $n(c){c.j.G==0||c.J||ju(c.j,c)}function Le(c){fr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,cs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ms(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mo(_.h,c))){if(!c.K&&Mo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ea(_),_a(_);else break t;Fo(_),se(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=ye(A(_.Za,_),6e3));if(1>=ca(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&Ea(_),!F(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Ut=j[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ve=Ut[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const we=Ut[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const xi=Ut[5];xi!=null&&typeof xi=="number"&&0<xi&&(w=1.5*xi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Be=c.g;if(Be){const ai=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var Y=w.h;Y.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ha(Y,Y.h),Y.h=null))}if(w.D){const Qo=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(w.ya=Qo,Yt(w.I,w.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var lt=c;if(w.qa=Hu(w,w.J?w.ia:null,w.W),lt.K){rn(w.h,lt);var kt=lt,Se=w.L;Se&&(kt.I=Se),kt.B&&(fr(kt),ds(kt)),w.g=lt}else Bu(w);0<_.i.length&&va(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Oi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Oi(_,7):qo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}ur(4)}catch{}}var xu=class{constructor(c,y){this.g=c,this.map=y}};function wi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ua(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ca(c){return c.h?1:c.g?c.g.size:0}function Mo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ha(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wi.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function pf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=fa(c),w=pf(c),j=w.length,Y=0;Y<j;Y++)y.call(void 0,w[Y],_&&_[Y],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var Y=c[_].substring(0,w);j=c[_].substring(w+1)}else Y=c[_];y(Y,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _e(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _e){this.h=c.h,gs(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.s),this.l=c.l;var y=c.i,_=new Ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(ps))?(this.h=!1,gs(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),dr(this,y[4]),this.l=Rn(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}_e.prototype.toString=function(){var c=[],y=this.j;y&&c.push(_s(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(_s(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(_s(_,_.charAt(0)=="/"?yf:Lo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",_s(_,da)),c.join("")};function pn(c){return new _e(c)}function gs(c,y,_){c.j=_?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ii?(c.i=y,Mu(c.i,c.h)):(_||(y=_s(y,_f)),c.i=new Ii(y,c.h))}function Yt(c,y,_){c.i.set(y,_)}function ys(c){return Yt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,Lo=/[#\?:]/g,yf=/[#\?]/g,_f=/[#\?@]/g,da=/#/g;function Ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&gf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ii.prototype,i.add=function(c,y){In(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ci(c,y){In(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return In(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let Y=0;Y<j.length;Y++)_.push(y[w])}return _},i.V=function(c){In(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return In(this),this.i=null,c=ti(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,_){Ci(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),z(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Y=encodeURIComponent(String(w)),lt=this.V(w);for(w=0;w<lt.length;w++){var j=Y;lt[w]!==""&&(j+="="+encodeURIComponent(String(lt[w]))),c.push(j)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Mu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(Ci(this,w),Bo(this,j,_))},c)),c.j=y}function vs(c,y){const _=new wn;if(m.Image){const w=new Image;w.onload=V(Cn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=V(Cn,_,"TestLoadImage: error",!1,y,w),w.onabort=V(Cn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(Cn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function jn(c,y){const _=new wn,w=new AbortController,j=setTimeout(()=>{w.abort(),Cn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(j),Y.ok?Cn(_,"TestPingServer: ok",!0,y):Cn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Cn(_,"TestPingServer: error",!1,y)})}function Cn(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function Es(){this.g=new hs}function ei(c,y,_){const w=_||"";try{ko(c,function(j,Y){let lt=j;g(j)&&(lt=Bn(j)),y.push(w+Y+"="+encodeURIComponent(lt))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(mr,Io),mr.prototype.g=function(){return new Ni(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Ni(c,y){ce.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ni,ce),i=Ni.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ii(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ni(this):ii(this),this.readyState==3&&zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},i.Qa=function(c){this.g&&(this.response=c,ni(this))},i.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return st(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function xe(c,y,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Yt(c,y,_))}function Ht(c){ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ht,ce);var ma=/^https?$/i,Ts=["POST","PUT"];i=Ht.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Co(this.o):Co(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Pu(this,Y);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())_.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,lt]of _)this.g.setRequestHeader(Y,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Pu(this,Y)}};function Pu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,pa(c),ri(c)}function pa(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},i.bb=function(){ga(this)};function ga(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Ke(c.Ea,0,c);else if(Gt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const lt=c.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var w;if(w=lt===0){var j=String(c.D).match(ps)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!ma.test(j?j.toLowerCase():"")}_=w}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var Y=2<Dn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",pa(c)}}finally{ri(c)}}}}function ri(c,y){if(c.g){As(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=w}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),aa(y)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(F(c[w]))continue;var _=x(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[j]||[];y[j]=Y,Y.push(_)}I(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ya(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,c),this.cb=bs("retryDelaySeedMs",1e4,c),this.Wa=bs("forwardChannelMaxRetries",2,c),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ya.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){se(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Hu(this,null,this.W),va(this)};function qo(c){if(Uu(c),c.G==3){var y=c.U++,_=pn(c.I);if(Yt(_,"SID",c.K),Yt(_,"RID",y),Yt(_,"TYPE","terminate"),Ss(c,_),y=new nn(c,c.j,y),y.L=2,y.v=ys(pn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ds(y)}qu(c)}function _a(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function Uu(c){_a(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ea(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function va(c){if(!ua(c.h)&&!c.s){c.s=!0;var y=c.Ga;ut||M(),mt||(ut(),mt=!0),jt.add(y,c),c.B=0}}function Ef(c,y){return ca(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ye(A(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new nn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),C(Y,this.S)):Y=this.S),this.m!==null||this.O||(j.H=Y,Y=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Lu(this,j,y),_=pn(this.I),Yt(_,"RID",c),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),Ss(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(jo(Y)))+"&"+y:this.m&&xe(_,this.m,Y)),ha(this.h,j),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",y),Yt(_,"SID","null"),j.T=!0,zn(j,_,null)):zn(j,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||ua(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const w=pn(c.I);Yt(w,"SID",c.K),Yt(w,"RID",_),Yt(w,"AID",c.T),Ss(c,w),c.m&&c.o&&xe(w,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Lu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ha(c.h,_),zn(_,w,y)}function Ss(c,y){c.H&&st(c.H,function(_,w){Yt(y,w,_)}),c.l&&ko({},function(_,w){Yt(y,w,_)})}function Lu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;t:{var j=c.i;let Y=-1;for(;;){const lt=["count="+_];Y==-1?0<_?(Y=j[0].g,lt.push("ofs="+Y)):Y=0:lt.push("ofs="+Y);let kt=!0;for(let Se=0;Se<_;Se++){let Ut=j[Se].g;const Ve=j[Se].map;if(Ut-=Y,0>Ut)Y=Math.max(0,j[Se].g-100),kt=!1;else try{ei(Ve,lt,"req"+Ut+"_")}catch{w&&w(Ve)}}if(kt){w=lt.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,w}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ut||M(),mt||(ut(),mt=!0),jt.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ye(A(c.Fa,c),Go(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ye(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),_a(this),zu(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pn(c.qa);Yt(y,"RID","rpc"),Yt(y,"SID",c.K),Yt(y,"AID",c.T),Yt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Yt(y,"TO",c.ja),Yt(y,"TYPE","xmlhttp"),Ss(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ys(pn(y)),_.m=null,_.P=!0,Si(_,c)}i.Za=function(){this.C!=null&&(this.C=null,_a(this),Fo(this),se(19))};function Ea(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,y){var _=null;if(c.g==y){Ea(c),ws(c),c.g=null;var w=2}else if(Mo(c.h,y))_=y.D,rn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=lr(),Gt(w,new be(w,_)),va(c)}else Bu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&Ef(c,y)||w==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Go(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const j=!w;w=new _e(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||gs(w,"https"),ys(w),j?vs(w.toString(),_):jn(w.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(y),qu(c),Uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=Po(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,_){var w=_ instanceof _e?pn(_):new _e(_);if(w.g!="")y&&(w.g=y+"."+w.g),dr(w,w.s);else{var j=m.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Y=new _e(null);w&&gs(Y,w),y&&(Y.g=y),j&&dr(Y,j),_&&(Y.l=_),w=Y}return _=c.D,y=c.ya,_&&y&&Yt(w,_,y),Yt(w,"VER",c.la),Ss(c,w),w}function Fu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new mr({eb:_})):new Ht(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ta(){}Ta.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ce.call(this),this.g=new ya(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!F(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new si(this)}O(sn,ce),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){qo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bn(c),c=_);y.i.push(new xu(y.Ya++,c)),y.G==3&&va(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,sn.aa.N.call(this)};function Qu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Qu,Ai);function Ku(){No.call(this),this.status=1}O(Ku,No);function si(c){this.g=c}O(si,Gu),si.prototype.ua=function(){Gt(this.g,"a")},si.prototype.ta=function(c){Gt(this.g,new Qu(c))},si.prototype.sa=function(c){Gt(this.g,new Ku)},si.prototype.ra=function(){Gt(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,rT=function(){return new Ta},iT=function(){return lr()},nT=Wn,Um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,rh=hr,bi.COMPLETE="complete",eT=bi,Do.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Ll=Do,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,tT=Ht}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",t0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new _p("@firebase/firestore");function Wa(){return Gs.logLevel}function ht(i,...t){if(Gs.logLevel<=Mt.DEBUG){const n=t.map(Tp);Gs.debug(`Firestore (${_o}): ${i}`,...n)}}function $i(i,...t){if(Gs.logLevel<=Mt.ERROR){const n=t.map(Tp);Gs.error(`Firestore (${_o}): ${i}`,...n)}}function ao(i,...t){if(Gs.logLevel<=Mt.WARN){const n=t.map(Tp);Gs.warn(`Firestore (${_o}): ${i}`,...n)}}function Tp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,sT(i,s,n)}function sT(i,t,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $i(s),new Error(s)}function Ft(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||sT(t,o,s)}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class mI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pI{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new aT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class gI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new gI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _I{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Dt(i,t){return i<t?-1:i>t?1:0}function Lm(i,t){let n=0;for(;n<i.length&&n<t.length;){const s=i.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Dt(s,o);{const u=oT(),f=EI(u.encode(n0(i,n)),u.encode(n0(t,n)));return f!==0?f:Dt(s,o)}}n+=s>65535?2:1}return Dt(i.length,t.length)}function n0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function EI(i,t){for(let n=0;n<i.length&&n<t.length;++n)if(i[n]!==t[n])return Dt(i[n],t[n]);return Dt(i.length,t.length)}function oo(i,t,n){return i.length===t.length&&i.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=-62135596800,r0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*r0);return new Ce(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<i0)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-i0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new Ce(0,0))}static max(){return new wt(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class fi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return fi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Dt(t.length,n.length)}static compareSegments(t,n){const s=fi.isNumericId(t),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(t).compare(fi.extractNumericId(n)):Lm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ne extends fi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends fi{construct(t,n,s){return new Ge(t,n,s)}static isValidIdentifier(t){return TI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Ge([s0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ne.fromString(t))}static fromName(t){return new gt(ne.fromString(t).popFirst(5))}static empty(){return new gt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function AI(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(s===1e9?new Ce(n+1,0):new Ce(n,s));return new Yr(o,gt.empty(),t)}function bI(i){return new Yr(i.readTime,i.key,Wl)}class Yr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(wt.min(),gt.empty(),Wl)}static max(){return new Yr(wt.max(),gt.empty(),Wl)}}function SI(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(i.documentKey,t.documentKey),n!==0?n:Dt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==wI)throw i;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function II(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function zh(i){return i==null}function yh(i){return i===0&&1/i==-1/0}function CI(i){return typeof i=="number"&&Number.isInteger(i)&&!yh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="";function DI(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=a0(t)),t=NI(i.get(n),t);return a0(t)}function NI(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case uT:n+="";break;default:n+=u}}return n}function a0(i){return i+uT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function es(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function cT(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wc(this.root,t,this.comparator,!0)}}class Wc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(t){return new l0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class l0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new bn([])}unionWith(t){let n=new De(Ge.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new bn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return oo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hT("Invalid base64 string: "+u):u}}(t);return new Qe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const OI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(Ft(!!i,39018),typeof i=="string"){let t=0;const n=OI.exec(i);if(Ft(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(i.seconds),nanos:ge(i.nanos)}}function ge(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?Qe.fromBase64String(i):Qe.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="server_timestamp",dT="__type__",mT="__previous_value__",pT="__local_write_time__";function bp(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[dT])===null||n===void 0?void 0:n.stringValue)===fT}function jh(i){const t=i.mapValue.fields[mT];return bp(t)?jh(t):t}function Zl(i){const t=Xr(i.mapValue.fields[pT].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const _h="(default)";class Jl{constructor(t,n){this.projectId=t,this.database=n||_h}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===_h}isEqual(t){return t instanceof Jl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="__type__",VI="__max__",Zc={mapValue:{}},yT="__vector__",vh="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:PI(i)?9007199254740991:MI(i)?10:11:Tt(28295,{value:i})}function _i(i,t){if(i===t)return!0;const n=Zr(i);if(n!==Zr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Zl(i).isEqual(Zl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xr(o.timestampValue),m=Xr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(o,u){return Wr(o.bytesValue).isEqual(Wr(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)}(i,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return oo(i.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(o0(f)!==o0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(i,t);default:return Tt(52216,{left:i})}}function $l(i,t){return(i.values||[]).find(n=>_i(n,t))!==void 0}function lo(i,t){if(i===t)return 0;const n=Zr(i),s=Zr(t);if(n!==s)return Dt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dt(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ge(u.integerValue||u.doubleValue),p=ge(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return u0(i.timestampValue,t.timestampValue);case 4:return u0(Zl(i),Zl(t));case 5:return Lm(i.stringValue,t.stringValue);case 6:return function(u,f){const m=Wr(u),p=Wr(f);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Dt(m[g],p[g]);if(E!==0)return E}return Dt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Dt(ge(u.latitude),ge(f.latitude));return m!==0?m:Dt(ge(u.longitude),ge(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return c0(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const b=u.fields||{},A=f.fields||{},V=(m=b[vh])===null||m===void 0?void 0:m.arrayValue,O=(p=A[vh])===null||p===void 0?void 0:p.arrayValue,z=Dt(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:c0(V,O)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const A=Lm(p[b],E[b]);if(A!==0)return A;const V=lo(m[p[b]],g[E[b]]);if(V!==0)return V}return Dt(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function u0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Dt(i,t);const n=Xr(i),s=Xr(t),o=Dt(n.seconds,s.seconds);return o!==0?o:Dt(n.nanos,s.nanos)}function c0(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Dt(n.length,s.length)}function uo(i){return Bm(i)}function Bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Wr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return gt.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Bm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"}(i.mapValue):Tt(61005,{value:i})}function sh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jh(i);return t?16+sh(t):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+sh(f)}),o}(i.mapValue);default:throw Tt(13486,{value:i})}}function h0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function zm(i){return!!i&&"integerValue"in i}function Sp(i){return!!i&&"arrayValue"in i}function f0(i){return!!i&&"nullValue"in i}function d0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function MI(i){var t,n;return((n=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[gT])===null||n===void 0?void 0:n.stringValue)===yT}function Hl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Hl(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(i.arrayValue.values[n]);return t}return Object.assign({},i)}function PI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===VI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(n)}setAll(t){let n=Ge.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){es(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new dn(Hl(this.value))}}function _T(i){const t=[];return es(i.fields,(n,s)=>{const o=new Ge([n]);if(ah(s)){const u=_T(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,wt.min(),wt.min(),wt.min(),dn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,wt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,wt.min(),wt.min(),dn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,wt.min(),wt.min(),dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this.position=t,this.inclusive=n}}function m0(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],f=i.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!_i(i.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,n="asc"){this.field=t,this.dir=n}}function kI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{}class Ae extends vT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new LI(t,n,s):n==="array-contains"?new jI(t,s):n==="in"?new qI(t,s):n==="not-in"?new HI(t,s):n==="array-contains-any"?new FI(t,s):new Ae(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new BI(t,s):new zI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends vT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Kn(t,n)}matches(t){return ET(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ET(i){return i.op==="and"}function TT(i){return UI(i)&&ET(i)}function UI(i){for(const t of i.filters)if(t instanceof Kn)return!1;return!0}function jm(i){if(i instanceof Ae)return i.field.canonicalString()+i.op.toString()+uo(i.value);if(TT(i))return i.filters.map(t=>jm(t)).join(",");{const t=i.filters.map(n=>jm(n)).join(",");return`${i.op}(${t})`}}function AT(i,t){return i instanceof Ae?function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(i,t):i instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&AT(f,o.filters[m]),!0):!1}(i,t):void Tt(19439)}function bT(i){return i instanceof Ae?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(bT).join(" ,")+"}"}(i):"Filter"}class LI extends Ae{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class BI extends Ae{constructor(t,n){super(t,"in",n),this.keys=ST("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zI extends Ae{constructor(t,n){super(t,"not-in",n),this.keys=ST("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ST(i,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class jI extends Ae{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Sp(n)&&$l(n.arrayValue,this.value)}}class qI extends Ae{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class HI extends Ae{constructor(t,n){super(t,"not-in",n)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class FI extends Ae{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function g0(i,t=null,n=[],s=[],o=null,u=null,f=null){return new GI(i,t,n,s,o,u,f)}function wp(i){const t=Rt(i);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>jm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>uo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>uo(s)).join(",")),t.Ie=n}return t.Ie}function Rp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!kI(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!AT(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!p0(i.startAt,t.startAt)&&p0(i.endAt,t.endAt)}function qm(i){return gt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QI(i,t,n,s,o,u,f,m){return new fu(i,t,n,s,o,u,f,m)}function qh(i){return new fu(i)}function y0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function wT(i){return i.collectionGroup!==null}function Fl(i){const t=Rt(i);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(Ge.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new Th(u,s))}),n.has(Ge.keyField().canonicalString())||t.Ee.push(new Th(Ge.keyField(),s))}return t.Ee}function di(i){const t=Rt(i);return t.de||(t.de=KI(t,Fl(i))),t.de}function KI(i,t){if(i.limitType==="F")return g0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const n=i.endAt?new Eh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Eh(i.startAt.position,i.startAt.inclusive):null;return g0(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function Hm(i,t){const n=i.filters.concat([t]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Fm(i,t,n){return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function Hh(i,t){return Rp(di(i),di(t))&&i.limitType===t.limitType}function RT(i){return`${wp(di(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>bT(o)).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(di(i))}; limitType=${i.limitType})`}function Fh(i,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,t)&&function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=m0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Fl(s),o)||s.endAt&&!function(f,m,p){const g=m0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Fl(s),o))}(i,t)}function YI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function IT(i){return(t,n)=>{let s=!1;for(const o of Fl(i)){const u=XI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XI(i,t,n){const s=i.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?lo(p,g):Tt(42886)}(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){es(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return cT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new ue(gt.comparator);function tr(){return WI}const CT=new ue(gt.comparator);function Bl(...i){let t=CT;for(const n of i)t=t.insert(n.key,n);return t}function DT(i){let t=CT;return i.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function qs(){return Gl()}function NT(){return Gl()}function Gl(){return new $s(i=>i.toString(),(i,t)=>i.isEqual(t))}const ZI=new ue(gt.comparator),JI=new De(gt.comparator);function Pt(...i){let t=JI;for(const n of i)t=t.add(n);return t}const $I=new De(Dt);function tC(){return $I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(t)?"-0":t}}function OT(i){return{integerValue:""+i}}function eC(i,t){return CI(t)?OT(t):Ip(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function nC(i,t,n){return i instanceof tu?function(o,u){const f={fields:{[dT]:{stringValue:fT},[pT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=jh(u)),u&&(f.fields[mT]=u),{mapValue:f}}(n,t):i instanceof co?VT(i,t):i instanceof eu?MT(i,t):function(o,u){const f=xT(o,u),m=_0(f)+_0(o.Re);return zm(f)&&zm(o.Re)?OT(m):Ip(o.serializer,m)}(i,t)}function iC(i,t,n){return i instanceof co?VT(i,t):i instanceof eu?MT(i,t):n}function xT(i,t){return i instanceof Ah?function(s){return zm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class tu extends Gh{}class co extends Gh{constructor(t){super(),this.elements=t}}function VT(i,t){const n=PT(t);for(const s of i.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends Gh{constructor(t){super(),this.elements=t}}function MT(i,t){let n=PT(t);for(const s of i.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class Ah extends Gh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function _0(i){return ge(i.integerValue||i.doubleValue)}function PT(i){return Sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t,n){this.field=t,this.transform=n}}function rC(i,t){return i.field.isEqual(t.field)&&function(s,o){return s instanceof co&&o instanceof co||s instanceof eu&&o instanceof eu?oo(s.elements,o.elements,_i):s instanceof Ah&&o instanceof Ah?_i(s.Re,o.Re):s instanceof tu&&o instanceof tu}(i.transform,t.transform)}class sC{constructor(t,n){this.version=t,this.transformResults=n}}class mi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mi}static exists(t){return new mi(void 0,t)}static updateTime(t){return new mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Qh{}function UT(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new BT(i.key,mi.none()):new du(i.key,i.data,mi.none());{const n=i.data,s=dn.empty();let o=new De(Ge.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ns(i.key,s,new bn(o.toArray()),mi.none())}}function aC(i,t,n){i instanceof du?function(o,u,f){const m=o.value.clone(),p=E0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,n):i instanceof ns?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=E0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(LT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ql(i,t,n,s){return i instanceof du?function(u,f,m,p){if(!oh(u.precondition,f))return m;const g=u.value.clone(),E=T0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,t,n,s):i instanceof ns?function(u,f,m,p){if(!oh(u.precondition,f))return m;const g=T0(u.fieldTransforms,p,f),E=f.data;return E.setAll(LT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,t,n,s):function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,n)}function oC(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=xT(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function v0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>rC(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class du extends Qh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends Qh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function LT(i){const t=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}}),t}function E0(i,t,n){const s=new Map;Ft(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,iC(f,m,n[o]))}return s}function T0(i,t,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,nC(u,f,t))}return s}class BT extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends Qh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&aC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=NT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=UT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&oo(this.mutations,t.mutations,(n,s)=>v0(n,s))&&oo(this.baseMutations,t.baseMutations,(n,s)=>v0(n,s))}}class Cp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return ZI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Bt;function fC(i){switch(i){case et.OK:return Tt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Tt(15467,{code:i})}}function zT(i){if(i===void 0)return $i("GRPC error has no .code"),et.UNKNOWN;switch(i){case Te.OK:return et.OK;case Te.CANCELLED:return et.CANCELLED;case Te.UNKNOWN:return et.UNKNOWN;case Te.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Te.INTERNAL:return et.INTERNAL;case Te.UNAVAILABLE:return et.UNAVAILABLE;case Te.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Te.NOT_FOUND:return et.NOT_FOUND;case Te.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Te.ABORTED:return et.ABORTED;case Te.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Te.DATA_LOSS:return et.DATA_LOSS;default:return Tt(39323,{code:i})}}(Bt=Te||(Te={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new Gr([4294967295,4294967295],0);function A0(i){const t=oT().encode(i),n=new $E;return n.update(t),new Uint8Array(n.digest())}function b0(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Gr([n,s],0),new Gr([o,u],0)]}class Dp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Gr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Gr.fromNumber(s)));return o.compare(dC)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=A0(t),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.Se(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=A0(t),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,mu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Kh(wt.min(),o,new ue(Dt),tr(),Pt())}}class mu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new mu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class jT{constructor(t,n){this.targetId=t,this.Ce=n}}class qT{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class S0{constructor(){this.Fe=0,this.Me=w0(),this.xe=Qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),s=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new mu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=w0()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mC{constructor(t){this.ze=t,this.je=new Map,this.He=tr(),this.Je=Jc(),this.Ye=Jc(),this.Ze=new ue(Dt)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(qm(u))if(s===0){const f=new gt(u.path);this.tt(n,f,Je.newNoDocument(f,wt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Wr(s).toUint8Array()}catch(p){if(p instanceof hT)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return ao(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&qm(m.target)){const p=new gt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Je.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Pt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Kh(t,n,this.Ze,this.He,s);return this.He=tr(),this.Je=Jc(),this.Ye=Jc(),this.Ze=new ue(Dt),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new S0,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new De(Dt),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new De(Dt),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new S0),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new ue(gt.comparator)}function w0(){return new ue(gt.comparator)}const pC={asc:"ASCENDING",desc:"DESCENDING"},gC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yC={and:"AND",or:"OR"};class _C{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Gm(i,t){return i.useProto3Json||zh(t)?t:{value:t}}function bh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HT(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function vC(i,t){return bh(i,t.toTimestamp())}function pi(i){return Ft(!!i,49232),wt.fromTimestamp(function(n){const s=Xr(n);return new Ce(s.seconds,s.nanos)}(i))}function Np(i,t){return Qm(i,t).canonicalString()}function Qm(i,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(i).child("documents");return t===void 0?n:n.child(t)}function FT(i){const t=ne.fromString(i);return Ft(XT(t),10190,{key:t.toString()}),t}function Km(i,t){return Np(i.databaseId,t.path)}function Sm(i,t){const n=FT(t);if(n.get(1)!==i.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new gt(QT(n))}function GT(i,t){return Np(i.databaseId,t)}function EC(i){const t=FT(i);return t.length===4?ne.emptyPath():QT(t)}function Ym(i){return new ne(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function QT(i){return Ft(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function R0(i,t,n){return{name:Km(i,t),fields:n.value.mapValue.fields}}function TC(i,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?et.UNKNOWN:zT(g.code);return new ft(E,g.message||"")}(f);n=new qT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(i,s.document.name),u=pi(s.document.updateTime),f=s.document.createTime?pi(s.document.createTime):wt.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Je.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new lh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Sm(i,s.document),u=s.readTime?pi(s.readTime):wt.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Sm(i,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new hC(o,u),m=s.targetId;n=new jT(m,f)}}return n}function AC(i,t){let n;if(t instanceof du)n={update:R0(i,t.key,t.value)};else if(t instanceof BT)n={delete:Km(i,t.key)};else if(t instanceof ns)n={update:R0(i,t.key,t.data),updateMask:OC(t.fieldMask)};else{if(!(t instanceof lC))return Tt(16599,{ft:t.type});n={verify:Km(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof tu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof co)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(i,t.precondition)),n}function bC(i,t){return i&&i.length>0?(Ft(t!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?pi(o.updateTime):pi(u);return f.isEqual(wt.min())&&(f=pi(u)),new sC(f,o.transformResults||[])}(n,t))):[]}function SC(i,t){return{documents:[GT(i,t.path)]}}function wC(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=GT(i,o);const u=function(g){if(g.length!==0)return YT(Kn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Ja(A.field),direction:CC(A.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gm(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function RC(i){let t=EC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const A=KT(b);return A instanceof Kn&&TT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(A=>function(O){return new Th($a(O.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(b){let A;return A=typeof b=="object"?b.value:b,zh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(b){const A=!!b.before,V=b.values||[];return new Eh(V,A)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const A=!b.before,V=b.values||[];return new Eh(V,A)}(n.endAt)),QI(t,o,f,u,m,"F",p,g)}function IC(i,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function KT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return Ae.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return Ae.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(i):i.fieldFilter!==void 0?function(n){return Ae.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>KT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(i):Tt(30097,{filter:i})}function CC(i){return pC[i]}function DC(i){return gC[i]}function NC(i){return yC[i]}function Ja(i){return{fieldPath:i.canonicalString()}}function $a(i){return Ge.fromServerFormat(i.fieldPath)}function YT(i){return i instanceof Ae?function(n){if(n.op==="=="){if(d0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(f0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(f0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:DC(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(o=>YT(o));return s.length===1?s[0]:{compositeFilter:{op:NC(n.op),filters:s}}}(i):Tt(54877,{filter:i})}function OC(i){const t=[];return i.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function XT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t,n,s,o,u=wt.min(),f=wt.min(),m=Qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.wt=t}}function VC(i){const t=RC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.Cn=new PC}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(Yr.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(Yr.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class PC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WT=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(WT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new ho(0)}static lr(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LruGarbageCollector",kC=1048576;function D0([i,t],[n,s]){const o=Dt(i,n);return o===0?Dt(t,s):o}class UC{constructor(t){this.Er=t,this.buffer=new De(D0),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();D0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(C0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?ht(C0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.mr(3e5)})}}class BC{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Bh.le);const s=new UC(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(I0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I0):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(g=Date.now(),Wa()<=Mt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function zC(i,t){return new BC(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.changes=new $s(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Ql(s.mutation,o,bn.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=qs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Bl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=qs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=tr();const f=Gl(),m=function(){return Gl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ns)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Ql(E.mutation,g,E.mutation.getFieldMask(),Ce.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new qC(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Gl();let o=new ue((f,m)=>f-m),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=NT();E.forEach(A=>{if(!u.has(A)){const V=UT(n.get(A),s.get(A));V!==null&&b.set(A,V),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,b))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):wT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(qs());let m=Wl,p=u;return f.next(g=>tt.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Pt())).next(E=>({batchId:m,changes:DT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(t,u).next(m=>tt.forEach(m,p=>{const g=function(b,A){return new fu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((b,A)=>{f=f.insert(b,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))});let m=Bl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Ql(E.mutation,g,bn.empty(),Ce.now()),Fh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return tt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:VC(o.bundledQuery),readTime:pi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new ue(gt.comparator),this.Qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=qs();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.bt(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=qs(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return tt.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cC(n,s));let u=this.Qr.get(n);u===void 0&&(u=Pt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.$r=new De(Ue.Ur),this.Kr=new De(Ue.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ue(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new gt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new gt(new ne([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Pt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return gt.comparator(t.key,n.key)||Dt(t.Zr,n.Zr)}static Wr(t,n){return Dt(t.Zr,n.Zr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new De(Ue.Ur)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Xr=this.Xr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Ap:this.nr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const m=this.ei(f.Zr);u.push(m)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Dt);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],m=>{s=s.add(m.Zr)})}),tt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new gt(u),0);let m=new De(Dt);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},f),tt.resolve(this.ni(m))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return tt.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Xr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.ii=t,this.docs=function(){return new ue(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=tr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=tr();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||SI(bI(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}si(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new XC(this)}getSize(t){return tt.resolve(this.size)}}class XC extends jC{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.persistence=t,this.oi=new $s(n=>wp(n),Rp),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this._i=0,this.ai=new Op,this.targetCount=0,this.ui=ho.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),tt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new ho(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Tr(n),tt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new QC,this.referenceDelegate=t(this),this.Ti=new WC(this),this.indexManager=new MC,this.remoteDocumentCache=function(o){return new YC(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new xC(n),this.Ei=new FC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new GC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new KC(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new ZC(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return tt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class ZC extends RI{constructor(t){super(),this.currentSequenceNumber=t}}class xp{constructor(t){this.persistence=t,this.Vi=new Op,this.mi=null}static fi(t){return new xp(t)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,s=>{const o=gt.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,wt.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return tt.or([()=>tt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Sh{constructor(t,n){this.persistence=t,this.yi=new $s(s=>DI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=zC(this,n)}static fi(t,n){return new Sh(t,n)}di(){}Ai(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}Sr(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return tt.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,wt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),tt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=sh(t.data.value)),n}Dr(t,n,s){return tt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Xw()?8:II(en())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new JC;return this.bs(t,n,f).next(m=>{if(u.result=m,this.fs)return this.Ds(t,n,f,m.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(Wa()<=Mt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(Wa()<=Mt.DEBUG&&ht("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Wa()<=Mt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):tt.resolve())}ws(t,n){if(y0(n))return tt.resolve(null);let s=di(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Pt(...u);return this.ys.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,f,p.readTime)?this.ws(t,Fm(n,null,"F")):this.Fs(t,g,n,p)}))})))}Ss(t,n,s,o){return y0(n)||o.isEqual(wt.min())?tt.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?tt.resolve(null):(Wa()<=Mt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.Fs(t,f,n,AI(o,Wl)).next(m=>m))})}vs(t,n){let s=new De(IT(t));return n.forEach((o,u)=>{Fh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(t,n,s){return Wa()<=Mt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ys.getDocumentsMatchingQuery(t,n,Yr.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",t2=3e8;class e2{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new ue(Dt),this.Os=new $s(u=>wp(u),Rp),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function n2(i,t,n,s){return new e2(i,t,n,s)}async function JT(i,t){const n=Rt(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:f,addedBatchIds:m}))})})}function i2(i,t){const n=Rt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,A=b.keys();let V=tt.resolve();return A.forEach(O=>{V=V.next(()=>E.getEntry(p,O)).next(z=>{const U=g.docVersions.get(O);Ft(U!==null,48541),z.version.compareTo(U)<0&&(b.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function $T(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function r2(i,t){const n=Rt(i),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];t.targetChanges.forEach((E,b)=>{const A=o.get(b);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,b)));let V=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?V=V.withResumeToken(Qe.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(b,V),function(z,U,q){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=t2?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,V,E)&&m.push(n.Ti.updateTargetData(u,V))});let p=tr(),g=Pt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(s2(u,f,t.documentUpdates).next(E=>{p=E.qs,g=E.Qs})),!s.isEqual(wt.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return tt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function s2(i,t,n){let s=Pt(),o=Pt();return n.forEach(u=>s=s.add(u)),t.getEntries(i,s).next(u=>{let f=tr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(wt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(Mp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function a2(i,t){const n=Rt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function o2(i,t){const n=Rt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function Xm(i,t,n){const s=Rt(i),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eo(f))throw f;ht(Mp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function N0(i,t,n){const s=Rt(i);let o=wt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const b=Rt(p),A=b.Os.get(E);return A!==void 0?tt.resolve(b.xs.get(A)):b.Ti.getTargetData(g,E)}(s,f,di(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:wt.min(),n?u:Pt())).next(m=>(l2(s,YI(t),m),{documents:m,$s:u})))}function l2(i,t,n){let s=i.Ns.get(t)||wt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(t,s)}class O0{constructor(){this.activeTargetIds=tC()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class u2{constructor(){this.xo=new O0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new O0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class V0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(x0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(x0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Wm(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",h2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=Wm(),m=this.jo(t,n.toUriEncodedString());ht(wm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),E=uu(g);return this.Jo(t,m,p,s,E).then(b=>(ht(wm,`Received RPC '${t}' ${f}: `,b),b),b=>{throw ao(wm,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=h2[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class m2 extends f2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Wm();return new Promise((m,p)=>{const g=new tT;g.setWithCredentials(!0),g.listenOnce(eT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case rh.NO_ERROR:const b=g.getResponseJson();ht(We,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case rh.TIMEOUT:ht(We,`RPC '${t}' ${f} timed out`),p(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const A=g.getStatus();if(ht(We,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const O=V==null?void 0:V.error;if(O&&O.status&&O.message){const z=function(q){const F=q.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(F)>=0?F:et.UNKNOWN}(O.status);p(new ft(z,O.message))}else p(new ft(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ft(et.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ht(We,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ht(We,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Wm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=rT(),m=iT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(We,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let A=!1,V=!1;const O=new d2({Zo:U=>{V?ht(We,`Not sending because RPC '${t}' stream ${o} is closed:`,U):(A||(ht(We,`Opening RPC '${t}' stream ${o} transport.`),b.open(),A=!0),ht(We,`RPC '${t}' stream ${o} sending:`,U),b.send(U))},Xo:()=>b.close()}),z=(U,q,F)=>{U.listen(q,X=>{try{F(X)}catch(rt){setTimeout(()=>{throw rt},0)}})};return z(b,Ll.EventType.OPEN,()=>{V||(ht(We,`RPC '${t}' stream ${o} transport opened.`),O.__())}),z(b,Ll.EventType.CLOSE,()=>{V||(V=!0,ht(We,`RPC '${t}' stream ${o} transport closed`),O.u_())}),z(b,Ll.EventType.ERROR,U=>{V||(V=!0,ao(We,`RPC '${t}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),O.u_(new ft(et.UNAVAILABLE,"The operation could not be completed")))}),z(b,Ll.EventType.MESSAGE,U=>{var q;if(!V){const F=U.data[0];Ft(!!F,16349);const X=F,rt=(X==null?void 0:X.error)||((q=X[0])===null||q===void 0?void 0:q.error);if(rt){ht(We,`RPC '${t}' stream ${o} received error:`,rt);const at=rt.status;let st=function(R){const C=Te[R];if(C!==void 0)return zT(C)}(at),I=rt.message;st===void 0&&(st=et.INTERNAL,I="Unknown error status: "+at+" with message "+rt.message),V=!0,O.u_(new ft(st,I)),b.close()}else ht(We,`RPC '${t}' stream ${o} received:`,F),O.c_(F)}}),z(m,nT.STAT_EVENT,U=>{U.stat===Um.PROXY?ht(We,`RPC '${t}' stream ${o} detected buffering proxy`):U.stat===Um.NOPROXY&&ht(We,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.a_()},0),O}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i){return new _C(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="PersistentStream";class eA{constructor(t,n,s,o,u,f,m,p){this.xi=t,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new tA(t,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{t(()=>{const o=new ft(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(t,n){const s=this.U_(this.S_);this.stream=this.G_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return ht(M0,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return n=>{this.xi.enqueueAndForget(()=>this.S_===t?n():(ht(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p2 extends eA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}G_(t,n){return this.connection.T_("Listen",t,n)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const n=TC(this.serializer,t),s=function(u){if(!("targetChange"in u))return wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?wt.min():f.readTime?pi(f.readTime):wt.min()}(t);return this.listener.j_(n,s)}H_(t){const n={};n.database=Ym(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=qm(p)?{documents:SC(u,p)}:{query:wC(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=HT(u,f.resumeToken);const g=Gm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(wt.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const g=Gm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=IC(this.serializer,t);s&&(n.labels=s),this.L_(n)}J_(t){const n={};n.database=Ym(this.serializer),n.removeTarget=t,this.L_(n)}}class g2 extends eA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,n){return this.connection.T_("Write",t,n)}z_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const n=bC(t.writeResults,t.commitTime),s=pi(t.commitTime);return this.listener.ea(s,n)}ta(){const t={};t.database=Ym(this.serializer),this.L_(t)}Z_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>AC(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{}class _2 extends y2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,Qm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(et.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Yo(t,Qm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(et.UNKNOWN,f.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class v2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?($i(n),this.oa=!1):ht("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class E2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(f=>{s.enqueueAndForget(async()=>{ta(this)&&(ht(Qs,"Restarting streams for network reachability change."),await async function(p){const g=Rt(p);g.Ta.add(4),await pu(g),g.da.set("Unknown"),g.Ta.delete(4),await Xh(g)}(this))})}),this.da=new v2(s,o)}}async function Xh(i){if(ta(i))for(const t of i.Ia)await t(!0)}async function pu(i){for(const t of i.Ia)await t(!1)}function nA(i,t){const n=Rt(i);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),Lp(n)?Up(n):To(n).M_()&&kp(n,t))}function Pp(i,t){const n=Rt(i),s=To(n);n.Pa.delete(t),s.M_()&&iA(n,t),n.Pa.size===0&&(s.M_()?s.N_():ta(n)&&n.da.set("Unknown"))}function kp(i,t){if(i.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}To(i).H_(t)}function iA(i,t){i.Aa.Ke(t),To(i).J_(t)}function Up(i){i.Aa=new mC({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Pa.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),To(i).start(),i.da._a()}function Lp(i){return ta(i)&&!To(i).F_()&&i.Pa.size>0}function ta(i){return Rt(i).Ta.size===0}function rA(i){i.Aa=void 0}async function T2(i){i.da.set("Online")}async function A2(i){i.Pa.forEach((t,n)=>{kp(i,t)})}async function b2(i,t){rA(i),Lp(i)?(i.da.ca(t),Up(i)):i.da.set("Unknown")}async function S2(i,t,n){if(i.da.set("Online"),t instanceof qT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Pa.delete(m),o.Aa.removeTarget(m))}(i,t)}catch(s){ht(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await wh(i,s)}else if(t instanceof lh?i.Aa.Xe(t):t instanceof jT?i.Aa.ot(t):i.Aa.nt(t),!n.isEqual(wt.min()))try{const s=await $T(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Aa.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Pa.get(g);E&&u.Pa.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Pa.get(p);if(!E)return;u.Pa.set(p,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),iA(u,p);const b=new jr(E.target,p,g,E.sequenceNumber);kp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ht(Qs,"Failed to raise snapshot:",s),await wh(i,s)}}async function wh(i,t,n){if(!Eo(t))throw t;i.Ta.add(1),await pu(i),i.da.set("Offline"),n||(n=()=>$T(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ht(Qs,"Retrying IndexedDB access"),await n(),i.Ta.delete(1),await Xh(i)})}function sA(i,t){return t().catch(n=>wh(i,n,t))}async function Wh(i){const t=Rt(i),n=Jr(t);let s=t.ha.length>0?t.ha[t.ha.length-1].batchId:Ap;for(;w2(t);)try{const o=await a2(t.localStore,s);if(o===null){t.ha.length===0&&n.N_();break}s=o.batchId,R2(t,o)}catch(o){await wh(t,o)}aA(t)&&oA(t)}function w2(i){return ta(i)&&i.ha.length<10}function R2(i,t){i.ha.push(t);const n=Jr(i);n.M_()&&n.Y_&&n.Z_(t.mutations)}function aA(i){return ta(i)&&!Jr(i).F_()&&i.ha.length>0}function oA(i){Jr(i).start()}async function I2(i){Jr(i).ta()}async function C2(i){const t=Jr(i);for(const n of i.ha)t.Z_(n.mutations)}async function D2(i,t,n){const s=i.ha.shift(),o=Cp.from(s,t,n);await sA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Wh(i)}async function N2(i,t){t&&Jr(i).Y_&&await async function(s,o){if(function(f){return fC(f)&&f!==et.ABORTED}(o.code)){const u=s.ha.shift();Jr(s).O_(),await sA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Wh(s)}}(i,t),aA(i)&&oA(i)}async function P0(i,t){const n=Rt(i);n.asyncQueue.verifyOperationInProgress(),ht(Qs,"RemoteStore received new credentials");const s=ta(n);n.Ta.add(3),await pu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await Xh(n)}async function O2(i,t){const n=Rt(i);t?(n.Ta.delete(2),await Xh(n)):t||(n.Ta.add(2),await pu(n),n.da.set("Unknown"))}function To(i){return i.Ra||(i.Ra=function(n,s,o){const u=Rt(n);return u.ra(),new p2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:T2.bind(null,i),n_:A2.bind(null,i),i_:b2.bind(null,i),j_:S2.bind(null,i)}),i.Ia.push(async t=>{t?(i.Ra.O_(),Lp(i)?Up(i):i.da.set("Unknown")):(await i.Ra.stop(),rA(i))})),i.Ra}function Jr(i){return i.Va||(i.Va=function(n,s,o){const u=Rt(n);return u.ra(),new g2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:I2.bind(null,i),i_:N2.bind(null,i),X_:C2.bind(null,i),ea:D2.bind(null,i)}),i.Ia.push(async t=>{t?(i.Va.O_(),await Wh(i)):(await i.Va.stop(),i.ha.length>0&&(ht(Qs,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Bp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(i,t){if($i("AsyncQueue",`${t}: ${i}`),Eo(i))return new ft(et.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.ma=new ue(gt.comparator)}track(t){const n=t.doc.key,s=this.ma.get(n);s?t.type!==0&&s.type===3?this.ma=this.ma.insert(n,t):t.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ma=this.ma.remove(n):t.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,fa:s}):this.ma=this.ma.insert(n,t)}ga(){const t=[];return this.ma.inorderTraversal((n,s)=>{t.push(s)}),t}}class fo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(t,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class V2{constructor(){this.queries=U0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=U0(),u.forEach((f,m)=>{for(const p of m.ya)p.onError(s)})})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function U0(){return new $s(i=>RT(i),Hh)}async function jp(i,t){const n=Rt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.wa()&&t.Sa()&&(s=2):(u=new x2,s=t.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ya.push(t),t.Da(n.onlineState),u.pa&&t.va(u.pa)&&Hp(n)}async function qp(i,t){const n=Rt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ya.indexOf(t);f>=0&&(u.ya.splice(f,1),u.ya.length===0?o=t.Sa()?0:1:!u.wa()&&t.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function M2(i,t){const n=Rt(i);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ya)m.va(o)&&(s=!0);f.pa=o}}s&&Hp(n)}function P2(i,t,n){const s=Rt(i),o=s.queries.get(t);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(t)}function Hp(i){i.ba.forEach(t=>{t.next()})}var Zm,L0;(L0=Zm||(Zm={})).Ca="default",L0.Cache="cache";class Fp{constructor(t,n,s){this.query=t,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new fo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),n=!0):this.Na(t,this.onlineState)&&(this.Ba(t),n=!0),this.xa=t,n}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),n=!0),n}Na(t,n){if(!t.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.key=t}}class uA{constructor(t){this.key=t}}class k2{constructor(t,n){this.query=t,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pt(),this.mutatedKeys=Pt(),this.Ha=IT(t),this.Ja=new eo(this.Ha)}get Ya(){return this.Ga}Za(t,n){const s=n?n.Xa:new k0,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const A=o.get(E),V=Fh(this.query,b)?b:null,O=!!A&&this.mutatedKeys.has(A.key),z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let U=!1;A&&V?A.data.isEqual(V.data)?O!==z&&(s.track({type:3,doc:V}),U=!0):this.eu(A,V)||(s.track({type:2,doc:V}),U=!0,(p&&this.Ha(V,p)>0||g&&this.Ha(V,g)<0)&&(m=!0)):!A&&V?(s.track({type:0,doc:V}),U=!0):A&&!V&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(V?(f=f.add(V),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ja:f,Xa:s,Cs:m,mutatedKeys:u}}eu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const f=t.Xa.ga();f.sort((E,b)=>function(V,O){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:U})}};return z(V)-z(O)}(E.type,b.type)||this.Ha(E.doc,b.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,f.length!==0||g?{snapshot:new fo(this.query,t.Ja,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new k0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Pt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return t.forEach(s=>{this.ja.has(s)||n.push(new uA(s))}),this.ja.forEach(s=>{t.has(s)||n.push(new lA(s))}),n}su(t){this.Ga=t.$s,this.ja=Pt();const n=this.Za(t.documents);return this.applyChanges(n,!0)}ou(){return fo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Gp="SyncEngine";class U2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class L2{constructor(t){this.key=t,this._u=!1}}class B2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.au={},this.uu=new $s(m=>RT(m),Hh),this.cu=new Map,this.lu=new Set,this.hu=new ue(gt.comparator),this.Pu=new Map,this.Tu=new Op,this.Iu={},this.Eu=new Map,this.du=ho.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function z2(i,t,n=!0){const s=pA(i);let o;const u=s.uu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await cA(s,t,n,!0),o}async function j2(i,t){const n=pA(i);await cA(n,t,!0,!1)}async function cA(i,t,n,s){const o=await o2(i.localStore,di(t)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await q2(i,t,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&nA(i.remoteStore,o),m}async function q2(i,t,n,s,o){i.Ru=(b,A,V)=>async function(z,U,q,F){let X=U.view.Za(q);X.Cs&&(X=await N0(z.localStore,U.query,!1).then(({documents:I})=>U.view.Za(I,X)));const rt=F&&F.targetChanges.get(U.targetId),at=F&&F.targetMismatches.get(U.targetId)!=null,st=U.view.applyChanges(X,z.isPrimaryClient,rt,at);return z0(z,U.targetId,st.ru),st.snapshot}(i,b,A,V);const u=await N0(i.localStore,t,!0),f=new k2(t,u.$s),m=f.Za(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);z0(i,n,g.ru);const E=new U2(t,n,f);return i.uu.set(t,E),i.cu.has(n)?i.cu.get(n).push(t):i.cu.set(n,[t]),g.snapshot}async function H2(i,t,n){const s=Rt(i),o=s.uu.get(t),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(f=>!Hh(f,t))),void s.uu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),Jm(s,o.targetId)}).catch(vo)):(Jm(s,o.targetId),await Xm(s.localStore,o.targetId,!0))}async function F2(i,t){const n=Rt(i),s=n.uu.get(t),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function G2(i,t,n){const s=J2(i);try{const o=await function(f,m){const p=Rt(f),g=Ce.now(),E=m.reduce((V,O)=>V.add(O.key),Pt());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let O=tr(),z=Pt();return p.Bs.getEntries(V,E).next(U=>{O=U,O.forEach((q,F)=>{F.isValidDocument()||(z=z.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,O)).next(U=>{b=U;const q=[];for(const F of m){const X=oC(F,b.get(F.key).overlayedDocument);X!=null&&q.push(new ns(F.key,X,_T(X.value.mapValue),mi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,q,m)}).next(U=>{A=U;const q=U.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(V,U.batchId,q)})}).then(()=>({batchId:A.batchId,changes:DT(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Iu[f.currentUser.toKey()];g||(g=new ue(Dt)),g=g.insert(m,p),f.Iu[f.currentUser.toKey()]=g}(s,o.batchId,n),await gu(s,o.changes),await Wh(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function hA(i,t){const n=Rt(i);try{const s=await r2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Pu.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f._u=!0:o.modifiedDocuments.size>0?Ft(f._u,14607):o.removedDocuments.size>0&&(Ft(f._u,42227),f._u=!1))}),await gu(n,s,t)}catch(s){await vo(s)}}function B0(i,t,n){const s=Rt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,f)=>{const m=f.view.Da(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Rt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const A of b.ya)A.Da(m)&&(g=!0)}),g&&Hp(p)}(s.eventManager,t),o.length&&s.au.j_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Q2(i,t,n){const s=Rt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Pu.get(t),u=o&&o.key;if(u){let f=new ue(gt.comparator);f=f.insert(u,Je.newNoDocument(u,wt.min()));const m=Pt().add(u),p=new Kh(wt.min(),new Map,new ue(Dt),f,m);await hA(s,p),s.hu=s.hu.remove(u),s.Pu.delete(t),Qp(s)}else await Xm(s.localStore,t,!1).then(()=>Jm(s,t,n)).catch(vo)}async function K2(i,t){const n=Rt(i),s=t.batch.batchId;try{const o=await i2(n.localStore,t);dA(n,s,null),fA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await vo(o)}}async function Y2(i,t,n){const s=Rt(i);try{const o=await function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Ft(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);dA(s,t,n),fA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await gu(s,o)}catch(o){await vo(o)}}function fA(i,t){(i.Eu.get(t)||[]).forEach(n=>{n.resolve()}),i.Eu.delete(t)}function dA(i,t,n){const s=Rt(i);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Iu[s.currentUser.toKey()]=o}}function Jm(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.cu.get(t))i.uu.delete(s),n&&i.au.Vu(s,n);i.cu.delete(t),i.isPrimaryClient&&i.Tu.Hr(t).forEach(s=>{i.Tu.containsKey(s)||mA(i,s)})}function mA(i,t){i.lu.delete(t.path.canonicalString());const n=i.hu.get(t);n!==null&&(Pp(i.remoteStore,n),i.hu=i.hu.remove(t),i.Pu.delete(n),Qp(i))}function z0(i,t,n){for(const s of n)s instanceof lA?(i.Tu.addReference(s.key,t),X2(i,s)):s instanceof uA?(ht(Gp,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,t),i.Tu.containsKey(s.key)||mA(i,s.key)):Tt(19791,{mu:s})}function X2(i,t){const n=t.key,s=n.path.canonicalString();i.hu.get(n)||i.lu.has(s)||(ht(Gp,"New document in limbo: "+n),i.lu.add(s),Qp(i))}function Qp(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const t=i.lu.values().next().value;i.lu.delete(t);const n=new gt(ne.fromString(t)),s=i.du.next();i.Pu.set(s,new L2(n)),i.hu=i.hu.insert(n,s),nA(i.remoteStore,new jr(di(qh(n.path)),s,"TargetPurposeLimboResolution",Bh.le))}}async function gu(i,t,n){const s=Rt(i),o=[],u=[],f=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{f.push(s.Ru(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Vp.Rs(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.au.j_(o),await async function(p,g){const E=Rt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>tt.forEach(g,A=>tt.forEach(A.ds,V=>E.persistence.referenceDelegate.addReference(b,A.targetId,V)).next(()=>tt.forEach(A.As,V=>E.persistence.referenceDelegate.removeReference(b,A.targetId,V)))))}catch(b){if(!Eo(b))throw b;ht(Mp,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const V=E.xs.get(A),O=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(O);E.xs=E.xs.insert(A,z)}}}(s.localStore,u))}async function W2(i,t){const n=Rt(i);if(!n.currentUser.isEqual(t)){ht(Gp,"User change. New user:",t.toKey());const s=await JT(n.localStore,t);n.currentUser=t,function(u,f){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new ft(et.CANCELLED,f))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await gu(n,s.ks)}}function Z2(i,t){const n=Rt(i),s=n.Pu.get(t);if(s&&s._u)return Pt().add(s.key);{let o=Pt();const u=n.cu.get(t);if(!u)return o;for(const f of u){const m=n.uu.get(f);o=o.unionWith(m.view.Ya)}return o}}function pA(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,t),t.au.j_=M2.bind(null,t.eventManager),t.au.Vu=P2.bind(null,t.eventManager),t}function J2(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Y2.bind(null,t),t}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,n){return null}bu(t,n){return null}wu(t){return n2(this.persistence,new $C,t.initialUser,this.serializer)}yu(t){return new ZT(xp.fi,this.serializer)}pu(t){return new u2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class $2 extends Rh{constructor(t){super(),this.cacheSizeBytes=t}Su(t,n){Ft(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LC(s,t.asyncQueue,n)}yu(t){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ZT(s=>Sh.fi(s,n),this.serializer)}}class $m{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>B0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=W2.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new V2}()}createDatastore(t){const n=Yh(t.databaseInfo.databaseId),s=function(u){return new m2(u)}(t.databaseInfo);return function(u,f,m,p){return new _2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new E2(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>B0(this.syncEngine,n,0),function(){return V0.C()?new V0:new c2}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const b=new B2(o,u,f,m,p,g);return E&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Rt(o);ht(Qs,"RemoteStore shutting down."),u.Ta.add(5),await pu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class tD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=lT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Im(i,t){i.asyncQueue.verifyOperationInProgress(),ht($r,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await JT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function j0(i,t){i.asyncQueue.verifyOperationInProgress();const n=await eD(i);ht($r,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener(s=>P0(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>P0(t.remoteStore,o)),i._onlineComponents=t}async function eD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ht($r,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await Im(i,new Rh)}}else ht($r,"Using default OfflineComponentProvider"),await Im(i,new $2(void 0));return i._offlineComponents}async function gA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ht($r,"Using user provided OnlineComponentProvider"),await j0(i,i._uninitializedComponentsProvider._online)):(ht($r,"Using default OnlineComponentProvider"),await j0(i,new $m))),i._onlineComponents}function nD(i){return gA(i).then(t=>t.syncEngine)}async function Ih(i){const t=await gA(i),n=t.eventManager;return n.onListen=z2.bind(null,t.syncEngine),n.onUnlisten=H2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=j2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=F2.bind(null,t.syncEngine),n}function iD(i,t,n={}){const s=new Xi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Kp({next:A=>{E.Cu(),f.enqueueAndForget(()=>qp(u,b));const V=A.docs.has(m);!V&&A.fromCache?g.reject(new ft(et.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&p&&p.source==="server"?g.reject(new ft(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Fp(qh(m.path),E,{includeMetadataChanges:!0,La:!0});return jp(u,b)}(await Ih(i),i.asyncQueue,t,n,s)),s.promise}function rD(i,t,n={}){const s=new Xi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Kp({next:A=>{E.Cu(),f.enqueueAndForget(()=>qp(u,b)),A.fromCache&&p.source==="server"?g.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Fp(m,E,{includeMetadataChanges:!0,La:!0});return jp(u,b)}(await Ih(i),i.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(i,t,n){if(!n)throw new ft(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function sD(i,t,n,s){if(t===!0&&s===!0)throw new ft(et.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function H0(i){if(!gt.isDocumentKey(i))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function F0(i){if(gt.isDocumentKey(i))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Zh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Tt(12329,{type:typeof i})}function Ln(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(i);throw new ft(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="firestore.googleapis.com",G0=!0;class Q0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vA,this.ssl=G0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:G0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kC)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=q0.get(n);s&&(ht("ComponentProvider","Removing Datastore"),q0.delete(n),s.terminate())}(this),Promise.resolve()}}function aD(i,t,n,s={}){var o;i=Ln(i,Jh);const u=uu(t),f=i._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:i._getEmulatorOptions()}),p=`${t}:${n}`;u&&(GE(`https://${p}`),QE("Firestore",!0)),f.host!==vA&&f.host!==p&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Kr(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ze.MOCK_USER;else{E=zw(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(A)}i._authCredentials=new mI(new aT(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ea(this.firestore,t,this._query)}}class tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Qr extends ea{constructor(t,n,s){super(t,n,qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new gt(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function K0(i,t,...n){if(i=Ne(i),_A("collection","path",t),i instanceof Jh){const s=ne.fromString(t,...n);return F0(s),new Qr(i,null,s)}{if(!(i instanceof tn||i instanceof Qr))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ne.fromString(t,...n));return F0(s),new Qr(i.firestore,null,s)}}function on(i,t,...n){if(i=Ne(i),arguments.length===1&&(t=lT.newId()),_A("doc","path",t),i instanceof Jh){const s=ne.fromString(t,...n);return H0(s),new tn(i,null,new gt(s))}{if(!(i instanceof tn||i instanceof Qr))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ne.fromString(t,...n));return H0(s),new tn(i.firestore,i instanceof Qr?i.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class X0{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new tA(this,"async_queue_retry"),this.ec=()=>{const s=Rm();s&&ht(Y0,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=t;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Xi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!Eo(t))throw t;ht(Y0,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const n=this.tc.then(()=>(this.Yu=!0,t().catch(s=>{throw this.Ju=s,this.Yu=!1,$i("INTERNAL UNHANDLED ERROR: ",W0(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(t,n,s){this.nc(),this.Xu.indexOf(t)>-1&&(n=0);const o=Bp.createAndSchedule(this,t,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Tt(47125,{_c:W0(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const n of this.Hu)if(n.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const n=this.Hu.indexOf(t);this.Hu.splice(n,1)}}function W0(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ks extends Jh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new X0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X0(t),this._firestoreClient=void 0,await t}}}function oD(i,t){const n=typeof i=="object"?i:WE(),s=typeof i=="string"?i:_h,o=Ep(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Lw("firestore");u&&aD(o,...u)}return o}function $h(i){if(i._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lD(i),i._firestoreClient}function lD(i){var t,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new xI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new tD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mo(Qe.fromBase64String(t))}catch(n){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mo(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new du(t,this.data,n,this.fieldTransforms)}}class EA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ns(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function TA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{hc:i})}}class ef{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new ef(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tc({path:s,Ec:!1});return o.dc(t),o}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return Ch(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(TA(this.hc)&&uD.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class hD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(t)}gc(t,n,s,o=!1){return new ef({hc:t,methodName:n,fc:s,path:Ge.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(i){const t=i._freezeSettings(),n=Yh(i._databaseId);return new hD(i._databaseId,!!t.ignoreUndefinedProperties,n)}function fD(i,t,n,s,o,u={}){const f=i.gc(u.merge||u.mergeFields?2:0,t,n,o);$p("Data must be an object, but it was:",f,s);const m=AA(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=tp(t,b,n);if(!f.contains(A))throw new ft(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);SA(E,A)||E.push(A)}p=new bn(E),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new cD(new dn(m),p,g)}class nf extends yu{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nf}}function dD(i,t,n){return new ef({hc:3,fc:t.settings.fc,methodName:i._methodName,Ec:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Zp extends yu{_toFieldTransform(t){return new kT(t.path,new tu)}isEqual(t){return t instanceof Zp}}class Jp extends yu{constructor(t,n){super(t),this.yc=n}_toFieldTransform(t){const n=dD(this,t,!0),s=this.yc.map(u=>Ao(u,n)),o=new co(s);return new kT(t.path,o)}isEqual(t){return t instanceof Jp&&Kr(this.yc,t.yc)}}function mD(i,t,n,s){const o=i.gc(1,t,n);$p("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();es(s,(p,g)=>{const E=tg(t,p,n);g=Ne(g);const b=o.Ac(E);if(g instanceof nf)u.push(E);else{const A=Ao(g,b);A!=null&&(u.push(E),f.set(E,A))}});const m=new bn(u);return new EA(f,m,o.fieldTransforms)}function pD(i,t,n,s,o,u){const f=i.gc(1,t,n),m=[tp(t,s,n)],p=[o];if(u.length%2!=0)throw new ft(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(tp(t,u[A])),p.push(u[A+1]);const g=[],E=dn.empty();for(let A=m.length-1;A>=0;--A)if(!SA(g,m[A])){const V=m[A];let O=p[A];O=Ne(O);const z=f.Ac(V);if(O instanceof nf)g.push(V);else{const U=Ao(O,z);U!=null&&(g.push(V),E.set(V,U))}}const b=new bn(g);return new EA(E,b,f.fieldTransforms)}function gD(i,t,n,s=!1){return Ao(n,i.gc(s?4:3,t))}function Ao(i,t){if(bA(i=Ne(i)))return $p("Unsupported field value:",t,i),AA(i,t);if(i instanceof yu)return function(s,o){if(!TA(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Ao(m,o.Rc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,t)}return function(s,o){if((s=Ne(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof Yp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mo)return{bytesValue:HT(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Vc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xp)return function(f,m){return{mapValue:{fields:{[gT]:{stringValue:yT},[vh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return Ip(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Zh(s)}`)}(i,t)}function AA(i,t){const n={};return cT(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):es(i,(s,o)=>{const u=Ao(o,t.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function bA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ce||i instanceof Yp||i instanceof mo||i instanceof tn||i instanceof yu||i instanceof Xp)}function $p(i,t,n){if(!bA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Zh(n);throw s==="an object"?t.Vc(i+" a custom object"):t.Vc(i+" "+s)}}function tp(i,t,n){if((t=Ne(t))instanceof tf)return t._internalPath;if(typeof t=="string")return tg(i,t);throw Ch("Field path arguments must be of type string or ",i,!1,void 0,n)}const yD=new RegExp("[~\\*/\\[\\]]");function tg(i,t,n){if(t.search(yD)>=0)throw Ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new tf(...t.split("."))._internalPath}catch{throw Ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ch(i,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ft(et.INVALID_ARGUMENT,m+i+p)}function SA(i,t){return i.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _D extends wA{data(){return super.data()}}function eg(i,t){return typeof t=="string"?tg(i,t):t instanceof tf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class vD extends ng{}function IA(i,t,...n){let s=[];t instanceof ng&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ig).length,m=u.filter(p=>p instanceof rf).length;if(f>1||f>0&&m>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class rf extends vD{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new rf(t,n,s)}_apply(t){const n=this._parse(t);return CA(t._query,n),new ea(t.firestore,t.converter,Hm(t._query,n))}_parse(t){const n=Wp(t.firestore);return function(u,f,m,p,g,E,b){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){$0(b,E);const O=[];for(const z of b)O.push(J0(p,u,z));A={arrayValue:{values:O}}}else A=J0(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||$0(b,E),A=gD(m,f,b,E==="in"||E==="not-in");return Ae.create(g,E,A)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ep(i,t,n){const s=t,o=eg("where",i);return rf._create(o,s,n)}class ig extends ng{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new ig(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)CA(f,p),f=Hm(f,p)}(t._query,n),new ea(t.firestore,t.converter,Hm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function J0(i,t,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wT(t)&&n.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!gt.isDocumentKey(s))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h0(i,new gt(s))}if(n instanceof tn)return h0(i,n._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zh(n)}.`)}function $0(i,t){if(!Array.isArray(i)||i.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CA(i,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class ED{convertValue(t,n="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return es(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ge(f.doubleValue));return new Xp(u)}convertGeoPoint(t){return new Yp(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=jh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(t));default:return null}}convertTimestamp(t){const n=Xr(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(XT(s),9688,{name:t});const o=new Jl(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(i,t,n){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DA extends wA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(eg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uh extends DA{data(t={}){return super.data(t)}}class NA{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:AD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(i){i=Ln(i,tn);const t=Ln(i.firestore,Ks);return iD($h(t),i._key).then(n=>VA(t,i,n))}class rg extends ED{constructor(t){super(),this.firestore=t}convertBytes(t){return new mo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function OA(i){i=Ln(i,ea);const t=Ln(i.firestore,Ks),n=$h(t),s=new rg(t);return RA(i._query),rD(n,i._query).then(o=>new NA(t,s,i,o))}function np(i,t,n){i=Ln(i,tn);const s=Ln(i.firestore,Ks),o=TD(i.converter,t);return xA(s,[fD(Wp(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,mi.none())])}function ts(i,t,n,...s){i=Ln(i,tn);const o=Ln(i.firestore,Ks),u=Wp(o);let f;return f=typeof(t=Ne(t))=="string"||t instanceof tf?pD(u,"updateDoc",i._key,t,n,s):mD(u,"updateDoc",i._key,t),xA(o,[f.toMutation(i._key,mi.exists(!0))])}function sg(i,...t){var n,s,o;i=Ne(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Z0(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Z0(t[f])){const b=t[f];t[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),t[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),t[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(i instanceof tn)g=Ln(i.firestore,Ks),E=qh(i._key.path),p={next:b=>{t[f]&&t[f](VA(g,i,b))},error:t[f+1],complete:t[f+2]};else{const b=Ln(i,ea);g=Ln(b.firestore,Ks),E=b._query;const A=new rg(g);p={next:V=>{t[f]&&t[f](new NA(g,A,b,V))},error:t[f+1],complete:t[f+2]},RA(i._query)}return function(A,V,O,z){const U=new Kp(z),q=new Fp(V,U,O);return A.asyncQueue.enqueueAndForget(async()=>jp(await Ih(A),q)),()=>{U.Cu(),A.asyncQueue.enqueueAndForget(async()=>qp(await Ih(A),q))}}($h(g),E,m,p)}function xA(i,t){return function(s,o){const u=new Xi;return s.asyncQueue.enqueueAndForget(async()=>G2(await nD(s),o,u)),u.promise}($h(i),t)}function VA(i,t,n){const s=n.docs.get(t._key),o=new rg(i);return new DA(i,o,t._key,s,new jl(n.hasPendingWrites,n.fromCache),t.converter)}function ip(){return new Zp("serverTimestamp")}function rp(...i){return new Jp("arrayUnion",i)}(function(t,n=!0){(function(o){_o=o})(yo),so(new Fs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ks(new pI(s.getProvider("auth-internal")),new _I(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr($v,t0,t),Fr($v,t0,"esm2017")})();var bD="firebase",SD="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(bD,SD,"app");function ag(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function MA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=MA,PA=new cu("auth","Firebase",MA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new _p("@firebase/auth");function RD(i,...t){Dh.logLevel<=Mt.WARN&&Dh.warn(`Auth (${yo}): ${i}`,...t)}function ch(i,...t){Dh.logLevel<=Mt.ERROR&&Dh.error(`Auth (${yo}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...t){throw og(i,...t)}function gi(i,...t){return og(i,...t)}function kA(i,t,n){const s=Object.assign(Object.assign({},wD()),{[t]:n});return new cu("auth","Firebase",s).create(t,{appName:i.name})}function Wi(i){return kA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return PA.create(i,...t)}function Et(i,t,...n){if(!i)throw og(t,...n)}function Qi(i){const t="INTERNAL ASSERTION FAILED: "+i;throw ch(t),new Error(t)}function er(i,t){i||Qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function ID(){return tE()==="http:"||tE()==="https:"}function tE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ID()||Qw()||"connection"in navigator)?navigator.onLine:!0}function DD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n){this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile=Hw()||Kw()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,t){er(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xD=new _u(3e4,6e4);function sr(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function ar(i,t,n,s,o={}){return LA(i,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:t,headers:p},u);return Gw()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&uu(i.emulatorConfig.host)&&(g.credentials="include"),UA.fetch()(await BA(i,i.config.apiHost,n,m),g)})}async function LA(i,t,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},ND),t);try{const o=new MD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kA(i,E,g);Yn(i,E)}}catch(o){if(o instanceof rr)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function vu(i,t,n,s,o={}){const u=await ar(i,t,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function BA(i,t,n,s){const o=`${t}${n}?${s}`,u=i,f=u.config.emulator?lg(i.config,o):`${i.config.apiScheme}://${o}`;return OD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function VD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gi(this.auth,"network-request-failed")),xD.get())})}}function th(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gi(i,t,s);return o.customData._tokenResponse=n,o}function eE(i){return i!==void 0&&i.enterprise!==void 0}class PD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return VD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kD(i,t){return ar(i,"GET","/v2/recaptchaConfig",sr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(i,t){return ar(i,"POST","/v1/accounts:delete",t)}async function Nh(i,t){return ar(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LD(i,t=!1){const n=Ne(i),s=await n.getIdToken(t),o=ug(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Cm(o.auth_time)),issuedAtTime:Kl(Cm(o.iat)),expirationTime:Kl(Cm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Cm(i){return Number(i)*1e3}function ug(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=jE(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function nE(i){const t=ug(i);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&BD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function BD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(i){var t;const n=i.auth,s=await i.getIdToken(),o=await nu(i,Nh(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?zA(u.providerUserInfo):[],m=qD(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new ap(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function jD(i){const t=Ne(i);await Oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qD(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function zA(i){return i.map(t=>{var{providerId:n}=t,s=ag(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(i,t){const n=await LA(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await BA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",UA.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FD(i,t){return ar(i,"POST","/v2/accounts:revokeToken",sr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=nE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(i,t){Et(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Gn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new ap(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await nu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return LD(this,t)}reload(){return jD(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Gn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await nu(this,UD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,F=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:rt,isAnonymous:at,providerData:st,stsTokenManager:I}=n;Et(X&&I,t,"internal-error");const S=no.fromJSON(this.name,I);Et(typeof X=="string",t,"internal-error"),kr(b,t.name),kr(A,t.name),Et(typeof rt=="boolean",t,"internal-error"),Et(typeof at=="boolean",t,"internal-error"),kr(V,t.name),kr(O,t.name),kr(z,t.name),kr(U,t.name),kr(q,t.name),kr(F,t.name);const R=new Gn({uid:X,auth:t,email:A,emailVerified:rt,displayName:b,isAnonymous:at,photoURL:O,phoneNumber:V,tenantId:z,stsTokenManager:S,createdAt:q,lastLoginAt:F});return st&&Array.isArray(st)&&(R.providerData=st.map(C=>Object.assign({},C))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?zA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;function Ki(i){er(i instanceof Function,"Expected a class definition");let t=iE.get(i);return t?(er(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,iE.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}jA.type="NONE";const rE=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,t,n){return`firebase:${i}:${t}:${n}`}class io{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Nh(this.auth,{idToken:t}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,t):null}return Gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new io(Ki(rE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ki(rE);const f=hh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const A=await Nh(t,{idToken:E}).catch(()=>{});if(!A)break;b=await Gn._fromGetAccountInfoResponse(t,A,E)}else b=Gn._fromJSON(t,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(GA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KA(t))return"Blackberry";if(YA(t))return"Webos";if(HA(t))return"Safari";if((t.includes("chrome/")||FA(t))&&!t.includes("edge/"))return"Chrome";if(QA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function qA(i=en()){return/firefox\//i.test(i)}function HA(i=en()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FA(i=en()){return/crios\//i.test(i)}function GA(i=en()){return/iemobile/i.test(i)}function QA(i=en()){return/android/i.test(i)}function KA(i=en()){return/blackberry/i.test(i)}function YA(i=en()){return/webos/i.test(i)}function cg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function GD(i=en()){var t;return cg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QD(){return Yw()&&document.documentMode===10}function XA(i=en()){return cg(i)||QA(i)||YA(i)||KA(i)||/windows phone/i.test(i)||GA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i,t=[]){let n;switch(i){case"Browser":n=sE(en());break;case"Worker":n=`${sE(en())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(i,t={}){return ar(i,"GET","/v2/passwordPolicy",sr(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class WD{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:XD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Nh(this,{idToken:t}),s=await Gn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Oh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Wi(this));const n=t?Ne(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YD(this),n=new WD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ki(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&RD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(i){return Ne(i)}class aE{constructor(t){this.auth=t,this.observer=null,this.addObserver=nR(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JD(i){sf=i}function ZA(i){return sf.loadJS(i)}function $D(){return sf.recaptchaEnterpriseScript}function tN(){return sf.gapiScript}function eN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class nN{constructor(){this.enterprise=new iN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class iN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const rN="recaptcha-enterprise",JA="NO_RECAPTCHA";class sN{constructor(t){this.type=rN,this.auth=is(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{kD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new PD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;eE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(JA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&eE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$D();p.length!==0&&(p+=m),ZA(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function oE(i,t,n,s=!1,o=!1){const u=new sN(i);let f;if(o)f=JA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xh(i,t,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await oE(i,t,n,n==="getOobCode");return s(i,f)}else return s(i,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await oE(i,t,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(i,t){const n=Ep(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Kr(u,t??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:t})}function oN(i,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function lN(i,t,n){const s=is(i);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=$A(t),{host:f,port:m}=uN(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Kr(g,s.config.emulator)&&Kr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uu(f)?(GE(`${u}//${f}${p}`),QE("Auth",!0)):cN()}function $A(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function uN(i){const t=$A(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:lE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:lE(f)}}}function lE(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function cN(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,n){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function hN(i,t){return ar(i,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,t){return vu(i,"POST","/v1/accounts:signInWithPassword",sr(i,t))}async function dN(i,t){return ar(i,"POST","/v1/accounts:sendOobCode",sr(i,t))}async function mN(i,t){return dN(i,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(i,t){return vu(i,"POST","/v1/accounts:signInWithEmailLink",sr(i,t))}async function gN(i,t){return vu(i,"POST","/v1/accounts:signInWithEmailLink",sr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends hg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new iu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new iu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xh(t,n,"signInWithPassword",fN);case"emailLink":return pN(t,{email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xh(t,s,"signUpPassword",hN);case"emailLink":return gN(t,{idToken:n,email:this._email,oobCode:this._password});default:Yn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,t){return vu(i,"POST","/v1/accounts:signInWithIdp",sr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="http://localhost";class Ys extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ag(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ro(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ro(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ro(t,n)}buildRequest(){const t={requestUri:yN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=hu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vN(i){const t=kl(Ul(i)).link,n=t?kl(Ul(t)).deep_link_id:null,s=kl(Ul(i)).deep_link_id;return(s?kl(Ul(s)).link:null)||s||n||t||i}class fg{constructor(t){var n,s,o,u,f,m;const p=kl(Ul(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=_N((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=vN(t);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(t,n){return iu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=fg.parseLink(n);return Et(s,"argument-error"),iu._fromEmailAndCode(t,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends t1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Eu{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ys._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Eu{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Eu{constructor(){super("twitter.com")}static credential(t,n){return Ys._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(i,t){return vu(i,"POST","/v1/accounts:signUp",sr(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Gn._fromIdTokenResponse(t,s,o),f=uE(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=uE(s);return new Xs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function uE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends rr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Vh(t,n,s,o)}}function e1(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(i,u,t,s):u})}async function TN(i,t,n=!1){const s=await nu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Xs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,t,n=!1){const{auth:s}=i;if(Un(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await nu(i,e1(s,o,t,i),n);Et(u.idToken,s,"internal-error");const f=ug(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(i.uid===m,s,"user-mismatch"),Xs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(i,t,n=!1){if(Un(i.app))return Promise.reject(Wi(i));const s="signIn",o=await e1(i,s,t),u=await Xs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function bN(i,t){return n1(is(i),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(i){const t=is(i);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function SN(i,t,n){const s=is(i);await xh(s,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",mN)}async function wN(i,t,n){if(Un(i.app))return Promise.reject(Wi(i));const s=is(i),f=await xh(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&i1(i),p}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function RN(i,t,n){return Un(i.app)?Promise.reject(Wi(i)):bN(Ne(i),bo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&i1(i),s})}function IN(i,t,n,s){return Ne(i).onIdTokenChanged(t,n,s)}function CN(i,t,n){return Ne(i).beforeAuthStateChanged(t,n)}function r1(i,t,n,s){return Ne(i).onAuthStateChanged(t,n,s)}function DN(i){return Ne(i).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e3,ON=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);QD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ON):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}a1.type="LOCAL";const xN=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}o1.type="SESSION";const l1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new af(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await VN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=dg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function PN(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function kN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function LN(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",BN=1,Ph="firebaseLocalStorage",h1="fbase_key";class Tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(i,t){return i.transaction([Ph],t?"readwrite":"readonly").objectStore(Ph)}function zN(){const i=indexedDB.deleteDatabase(c1);return new Tu(i).toPromise()}function op(){const i=indexedDB.open(c1,BN);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ph,{keyPath:h1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ph)?t(s):(s.close(),await zN(),t(await op()))})})}async function cE(i,t,n){const s=of(i,!0).put({[h1]:t,value:n});return new Tu(s).toPromise()}async function jN(i,t){const n=of(i,!1).get(t),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function hE(i,t){const n=of(i,!0).delete(t);return new Tu(n).toPromise()}const qN=800,HN=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>HN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance(LN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await kN(),!this.activeServiceWorker)return;this.sender=new MN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await op();return await cE(t,Mh,"1"),await hE(t,Mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>jN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>hE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=of(o,!1).getAll();return new Tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const FN=f1;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(i,t){return t?Ki(t):(Et(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ro(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function QN(i){return n1(i.auth,new mg(i),i.bypassAuthState)}function KN(i){const{auth:t,user:n}=i;return Et(n,t,"internal-error"),AN(n,new mg(i),i.bypassAuthState)}async function YN(i){const{auth:t,user:n}=i;return Et(n,t,"internal-error"),TN(n,new mg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return KN;default:Yn(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new _u(2e3,1e4);class to extends d1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XN.get())};t()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="pendingRedirect",fh=new Map;class ZN extends d1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const s=await JN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JN(i,t){const n=eO(t),s=tO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $N(i,t){fh.set(i._key(),t)}function tO(i){return Ki(i._redirectPersistence)}function eO(i){return hh(WN,i.config.apiKey,i.name)}async function nO(i,t,n=!1){if(Un(i.app))return Promise.reject(Wi(i));const s=is(i),o=GN(s,t),f=await new ZN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=10*60*1e3;class rO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!m1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(fE(t))}saveEventToCache(t){this.cachedEventUids.add(fE(t)),this.lastProcessedEventTime=Date.now()}}function fE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function m1({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function sO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(i,t={}){return ar(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lO=/^https?/;async function uO(i){if(i.config.emulator)return;const{authorizedDomains:t}=await aO(i);for(const n of t)try{if(cO(n))return}catch{}Yn(i,"unauthorized-domain")}function cO(i){const t=sp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!lO.test(n))return!1;if(oO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new _u(3e4,6e4);function dE(){const i=yi().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function fO(i){return new Promise((t,n)=>{var s,o,u;function f(){dE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dE(),n(gi(i,"network-request-failed"))},timeout:hO.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=eN("iframefcb");return yi()[m]=()=>{gapi.load?f():n(gi(i,"network-request-failed"))},ZA(`${tN()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw dh=null,t})}let dh=null;function dO(i){return dh=dh||fO(i),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new _u(5e3,15e3),pO="__/auth/iframe",gO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vO(i){const t=i.config;Et(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?lg(t,gO):`https://${i.config.authDomain}/${pO}`,s={apiKey:t.apiKey,appName:i.name,v:yo},o=_O.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function EO(i){const t=await dO(i),n=yi().gapi;return Et(n,i,"internal-error"),t.open({where:document.body,url:vO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gi(i,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},mO.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AO=500,bO=600,SO="_blank",wO="http://localhost";class mE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RO(i,t,n,s=AO,o=bO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},TO),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=FA(g)?SO:n),qA(g)&&(t=t||wO,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[V,O])=>`${A}${V}=${O},`,"");if(GD(g)&&m!=="_self")return IO(t||"",m),new mE(null);const b=window.open(t||"",m,E);Et(b,i,"popup-blocked");try{b.focus()}catch{}return new mE(b)}function IO(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="__/auth/handler",DO="emulator/auth/handler",NO=encodeURIComponent("fac");async function pE(i,t,n,s,o,u){Et(i.config.authDomain,i,"auth-domain-config-required"),Et(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(t instanceof t1){t.setDefaultLanguage(i.languageCode),f.providerId=t.providerId||"",eR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof Eu){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${NO}=${encodeURIComponent(p)}`:"";return`${OO(i)}?${hu(m).slice(1)}${g}`}function OO({config:i}){return i.emulator?lg(i,DO):`https://${i.authDomain}/${CO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class xO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=nO,this._overrideRedirectResult=$N}async _openPopup(t,n,s,o){var u;er((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await pE(t,n,s,sp(),o);return RO(t,f,dg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await pE(t,n,s,sp(),o);return PN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await EO(t),s=new rO(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Dm,{type:Dm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];f!==void 0&&n(!!f),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||HA()||cg()}}const VO=xO;var gE="@firebase/auth",yE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kO(i){so(new Fs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(i)},g=new ZD(s,o,u,p);return oN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),so(new Fs("auth-internal",t=>{const n=is(t.getProvider("auth").getImmediate());return(s=>new MO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(gE,yE,PO(i)),Fr(gE,yE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=5*60,LO=FE("authIdTokenMaxAge")||UO;let _E=null;const BO=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LO)return;const o=n==null?void 0:n.token;_E!==o&&(_E=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zO(i=WE()){const t=Ep(i,"auth");if(t.isInitialized())return t.getImmediate();const n=aN(i,{popupRedirectResolver:VO,persistence:[FN,xN,l1]}),s=FE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BO(u.toString());CN(n,f,()=>f(n.currentUser)),IN(n,m=>f(m))}}const o=qE("auth");return o&&lN(n,`http://${o}`),n}function jO(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}JD({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kO("Browser");function p1(i){var t,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(t=0;t<o;t++)i[t]&&(n=p1(i[t]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Hs(){for(var i,t,n=0,s="",o=arguments.length;n<o;n++)(i=arguments[n])&&(t=p1(i))&&(s&&(s+=" "),s+=t);return s}function qO(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}qO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Au=i=>typeof i=="number"&&!isNaN(i),Ws=i=>typeof i=="string",nr=i=>typeof i=="function",HO=i=>Ws(i)||Au(i),lp=i=>Ws(i)||nr(i)?i:null,FO=(i,t)=>i===!1||Au(i)&&i>0?i:t,up=i=>B.isValidElement(i)||Ws(i)||nr(i)||Au(i);function GO(i,t,n=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function QO({enter:i,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:b}){let A=n?`${i}--${f}`:i,V=n?`${t}--${f}`:t,O=B.useRef(0);return B.useLayoutEffect(()=>{let z=g.current,U=A.split(" "),q=F=>{F.target===g.current&&(b(),z.removeEventListener("animationend",q),z.removeEventListener("animationcancel",q),O.current===0&&F.type!=="animationcancel"&&z.classList.remove(...U))};z.classList.add(...U),z.addEventListener("animationend",q),z.addEventListener("animationcancel",q)},[]),B.useEffect(()=>{let z=g.current,U=()=>{z.removeEventListener("animationend",U),s?GO(z,p,o):p()};E||(m?U():(O.current=1,z.className+=` ${V}`,z.addEventListener("animationend",U)))},[E]),ie.createElement(ie.Fragment,null,u)}}function vE(i,t){return{content:g1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function g1(i,t,n=!1){return B.isValidElement(i)&&!Ws(i.type)?B.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):nr(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):i}function KO({closeToast:i,theme:t,ariaLabel:n="close"}){return ie.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},ie.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ie.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function YO({delay:i,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let b=o||f&&m===0,A={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};f&&(A.transform=`scaleX(${m})`);let V=Hs("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),O=nr(u)?u({rtl:p,type:s,defaultClassName:V}):Hs(V,u),z={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return ie.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},ie.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),ie.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:O,style:A,...z}))}var XO=1,y1=()=>`${XO++}`;function WO(i,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=F=>(g.add(F),()=>g.delete(F)),b=()=>{f=Array.from(p.values()),g.forEach(F=>F())},A=({containerId:F,toastId:X,updateId:rt})=>{let at=F?F!==i:i!==1,st=p.has(X)&&rt==null;return at||st},V=(F,X)=>{p.forEach(rt=>{var at;(X==null||X===rt.props.toastId)&&((at=rt.toggle)==null||at.call(rt,F))})},O=F=>{var X,rt;(rt=(X=F.props)==null?void 0:X.onClose)==null||rt.call(X,F.removalReason),F.isActive=!1},z=F=>{if(F==null)p.forEach(O);else{let X=p.get(F);X&&O(X)}b()},U=()=>{o-=u.length,u=[]},q=F=>{var X,rt;let{toastId:at,updateId:st}=F.props,I=st==null;F.staleId&&p.delete(F.staleId),F.isActive=!0,p.set(at,F),b(),n(vE(F,I?"added":"updated")),I&&((rt=(X=F.props).onOpen)==null||rt.call(X))};return{id:i,props:m,observe:E,toggle:V,removeToast:z,toasts:p,clearQueue:U,buildToast:(F,X)=>{if(A(X))return;let{toastId:rt,updateId:at,data:st,staleId:I,delay:S}=X,R=at==null;R&&o++;let C={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(X).filter(([P,D])=>D!=null)),toastId:rt,updateId:at,data:st,isIn:!1,className:lp(X.className||m.toastClassName),progressClassName:lp(X.progressClassName||m.progressClassName),autoClose:X.isLoading?!1:FO(X.autoClose,m.autoClose),closeToast(P){p.get(rt).removalReason=P,z(rt)},deleteToast(){let P=p.get(rt);if(P!=null){if(n(vE(P,"removed")),p.delete(rt),o--,o<0&&(o=0),u.length>0){q(u.shift());return}b()}}};C.closeButton=m.closeButton,X.closeButton===!1||up(X.closeButton)?C.closeButton=X.closeButton:X.closeButton===!0&&(C.closeButton=up(m.closeButton)?m.closeButton:!0);let x={content:F,props:C,staleId:I};m.limit&&m.limit>0&&o>m.limit&&R?u.push(x):Au(S)?setTimeout(()=>{q(x)},S):q(x)},setProps(F){m=F},setToggle:(F,X)=>{let rt=p.get(F);rt&&(rt.toggle=X)},isToastActive:F=>{var X;return(X=p.get(F))==null?void 0:X.isActive},getSnapshot:()=>f}}var ln=new Map,ru=[],cp=new Set,ZO=i=>cp.forEach(t=>t(i)),_1=()=>ln.size>0;function JO(){ru.forEach(i=>E1(i.content,i.options)),ru=[]}var $O=(i,{containerId:t})=>{var n;return(n=ln.get(t||1))==null?void 0:n.toasts.get(i)};function v1(i,t){var n;if(t)return!!((n=ln.get(t))!=null&&n.isToastActive(i));let s=!1;return ln.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function tx(i){if(!_1()){ru=ru.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||HO(i))ln.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=ln.get(i.containerId);t?t.removeToast(i.id):ln.forEach(n=>{n.removeToast(i.id)})}}var ex=(i={})=>{ln.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function E1(i,t){up(i)&&(_1()||ru.push({content:i,options:t}),ln.forEach(n=>{n.buildToast(i,t)}))}function nx(i){var t;(t=ln.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function T1(i,t){ln.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(i,t==null?void 0:t.id)})}function ix(i){let t=i.containerId||1;return{subscribe(n){let s=WO(t,i,ZO);ln.set(t,s);let o=s.observe(n);return JO(),()=>{o(),ln.delete(t)}},setProps(n){var s;(s=ln.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=ln.get(t))==null?void 0:n.getSnapshot()}}}function rx(i){return cp.add(i),()=>{cp.delete(i)}}function sx(i){return i&&(Ws(i.toastId)||Au(i.toastId))?i.toastId:y1()}function bu(i,t){return E1(i,t),t.toastId}function lf(i,t){return{...t,type:t&&t.type||i,toastId:sx(t)}}function uf(i){return(t,n)=>bu(t,lf(i,n))}function bt(i,t){return bu(i,lf("default",t))}bt.loading=(i,t)=>bu(i,lf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function ax(i,{pending:t,error:n,success:s},o){let u;t&&(u=Ws(t)?bt.loading(t,o):bt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,b)=>{if(E==null){bt.dismiss(u);return}let A={type:g,...f,...o,data:b},V=Ws(E)?{render:E}:E;return u?bt.update(u,{...A,...V}):bt(V.render,{...A,...V}),b},p=nr(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}bt.promise=ax;bt.success=uf("success");bt.info=uf("info");bt.error=uf("error");bt.warning=uf("warning");bt.warn=bt.warning;bt.dark=(i,t)=>bu(i,lf("default",{theme:"dark",...t}));function ox(i){tx(i)}bt.dismiss=ox;bt.clearWaitingQueue=ex;bt.isActive=v1;bt.update=(i,t={})=>{let n=$O(i,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||i,updateId:y1()};u.toastId!==i&&(u.staleId=i);let f=u.render||o;delete u.render,bu(f,u)}};bt.done=i=>{bt.update(i,{progress:1})};bt.onChange=rx;bt.play=i=>T1(!0,i);bt.pause=i=>T1(!1,i);function lx(i){var t;let{subscribe:n,getSnapshot:s,setProps:o}=B.useRef(ix(i)).current;o(i);let u=(t=B.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return i.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:v1,count:u==null?void 0:u.length}}function ux(i){let[t,n]=B.useState(!1),[s,o]=B.useState(!1),u=B.useRef(null),f=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:b}=i;nx({id:i.toastId,containerId:i.containerId,fn:n}),B.useEffect(()=>{if(i.pauseOnFocusLoss)return A(),()=>{V()}},[i.pauseOnFocusLoss]);function A(){document.hasFocus()||q(),window.addEventListener("focus",U),window.addEventListener("blur",q)}function V(){window.removeEventListener("focus",U),window.removeEventListener("blur",q)}function O(I){if(i.draggable===!0||i.draggable===I.pointerType){F();let S=u.current;f.canCloseOnClick=!0,f.canDrag=!0,S.style.transition="none",i.draggableDirection==="x"?(f.start=I.clientX,f.removalDistance=S.offsetWidth*(i.draggablePercent/100)):(f.start=I.clientY,f.removalDistance=S.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function z(I){let{top:S,bottom:R,left:C,right:x}=u.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&i.pauseOnHover&&I.clientX>=C&&I.clientX<=x&&I.clientY>=S&&I.clientY<=R?q():U()}function U(){n(!0)}function q(){n(!1)}function F(){f.didMove=!1,document.addEventListener("pointermove",rt),document.addEventListener("pointerup",at)}function X(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",at)}function rt(I){let S=u.current;if(f.canDrag&&S){f.didMove=!0,t&&q(),i.draggableDirection==="x"?f.delta=I.clientX-f.start:f.delta=I.clientY-f.start,f.start!==I.clientX&&(f.canCloseOnClick=!1);let R=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function at(){X();let I=u.current;if(f.canDrag&&f.didMove&&I){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let st={onPointerDown:O,onPointerUp:z};return m&&p&&(st.onMouseEnter=q,i.stacked||(st.onMouseLeave=U)),b&&(st.onClick=I=>{E&&E(I),f.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:q,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:st}}var cx=typeof window<"u"?B.useLayoutEffect:B.useEffect,cf=({theme:i,type:t,isLoading:n,...s})=>ie.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function hx(i){return ie.createElement(cf,{...i},ie.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function fx(i){return ie.createElement(cf,{...i},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function dx(i){return ie.createElement(cf,{...i},ie.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function mx(i){return ie.createElement(cf,{...i},ie.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function px(){return ie.createElement("div",{className:"Toastify__spinner"})}var hp={info:fx,warning:hx,success:dx,error:mx,spinner:px},gx=i=>i in hp;function yx({theme:i,type:t,isLoading:n,icon:s}){let o=null,u={theme:i,type:t};return s===!1||(nr(s)?o=s({...u,isLoading:n}):B.isValidElement(s)?o=B.cloneElement(s,u):n?o=hp.spinner():gx(t)&&(o=hp[t](u))),o}var _x=i=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=ux(i),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:b,closeToast:A,transition:V,position:O,className:z,style:U,progressClassName:q,updateId:F,role:X,progress:rt,rtl:at,toastId:st,deleteToast:I,isIn:S,isLoading:R,closeOnClick:C,theme:x,ariaLabel:P}=i,D=Hs("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":at},{"Toastify__toast--close-on-click":C}),re=nr(z)?z({rtl:at,position:O,type:E,defaultClassName:D}):Hs(D,z),Jt=yx(i),W=!!rt||!p,ut={closeToast:A,type:E,theme:x},mt=null;return f===!1||(nr(f)?mt=f(ut):B.isValidElement(f)?mt=B.cloneElement(f,ut):mt=KO(ut)),ie.createElement(V,{isIn:S,done:I,position:O,preventExitTransition:n,nodeRef:s,playToast:u},ie.createElement("div",{id:st,tabIndex:0,onClick:g,"data-in":S,className:re,...o,style:U,ref:s,...S&&{role:X,"aria-label":P}},Jt!=null&&ie.createElement("div",{className:Hs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Jt),g1(m,i,!t),mt,!i.customProgressBar&&ie.createElement(YO,{...F&&!W?{key:`p-${F}`}:{},rtl:at,theme:x,delay:p,isRunning:t,isIn:S,closeToast:A,hide:b,type:E,className:q,controlledProgress:W,progress:rt||0})))},vx=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),Ex=QO(vx("bounce",!0)),Tx={position:"top-right",transition:Ex,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function Ax(i){let t={...Tx,...i},n=i.stacked,[s,o]=B.useState(!0),u=B.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=lx(t),{className:g,style:E,rtl:b,containerId:A,hotKeys:V}=t;function O(U){let q=Hs("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":b});return nr(g)?g({position:U,rtl:b,defaultClassName:q}):Hs(q,lp(g))}function z(){n&&(o(!0),bt.play())}return cx(()=>{var U;if(n){let q=u.current.querySelectorAll('[data-in="true"]'),F=12,X=(U=t.position)==null?void 0:U.includes("top"),rt=0,at=0;Array.from(q).reverse().forEach((st,I)=>{let S=st;S.classList.add("Toastify__toast--stacked"),I>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=X?"top":"bot");let R=rt*(s?.2:1)+(s?0:F*I);S.style.setProperty("--y",`${X?R:R*-1}px`),S.style.setProperty("--g",`${F}`),S.style.setProperty("--s",`${1-(s?at:0)}`),rt+=S.offsetHeight,at+=.025})}},[s,p,n]),B.useEffect(()=>{function U(q){var F;let X=u.current;V(q)&&((F=X.querySelector('[tabIndex="0"]'))==null||F.focus(),o(!1),bt.pause()),q.key==="Escape"&&(document.activeElement===X||X!=null&&X.contains(document.activeElement))&&(o(!0),bt.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[V]),ie.createElement("section",{ref:u,className:"Toastify",id:A,onMouseEnter:()=>{n&&(o(!1),bt.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((U,q)=>{let F=q.length?{...E}:{...E,pointerEvents:"none"};return ie.createElement("div",{tabIndex:-1,className:O(U),"data-stacked":n,style:F,key:`c-${U}`},q.map(({content:X,props:rt})=>ie.createElement(_x,{...rt,stacked:n,collapseAll:z,isIn:m(rt.toastId,rt.containerId),key:`t-${rt.key}`},X)))}))}const bx={apiKey:"AIzaSyDDDYDixZ9hyI71p3_1XNUY9-hVw-saPFY",authDomain:"xzalchat-d515b.firebaseapp.com",projectId:"xzalchat-d515b",storageBucket:"xzalchat-d515b.firebasestorage.app",messagingSenderId:"731213793282",appId:"1:731213793282:web:eb4aa01d7a532fdf047f1b"},A1=XE(bx),na=zO(A1),Fe=oD(A1),Sx=async(i,t,n)=>{try{const o=(await wN(na,t,n)).user;await np(on(Fe,"users",o.uid),{id:o.uid,username:i.toLowerCase(),email:t.toLowerCase(),name:"",avatar:"",bio:"Hey, I am using Xzalchat",lastSeen:new Date}),await np(on(Fe,"chats",o.uid),{chatData:[]}),bt.success("User registered successfully!")}catch(s){console.error("Error signing up:",s),bt.error(s.code.split("/")[1].split("-").join(" "))}},wx=async(i,t)=>{try{await RN(na,i,t),bt.success("Login successful!")}catch(n){console.error("Error logging in:",n),bt.error(n.code.split("/")[1].split("-").join(" "))}},b1=async()=>{try{await DN(na),bt.success("Logged out successfully!")}catch(i){console.error("Error logging out:",i),bt.error(i.code.split("/")[1].split("-").join(" "))}},Rx=async i=>{if(!i)return bt.error("Enter your email"),null;try{const t=collection(Fe,"users"),n=IA(t,ep("email","==",i));(await OA(n)).empty?bt.error("Email doesn't exists"):(await SN(na,i),bt.success("Reset Email Sent"))}catch(t){console.error(t),bt.error(t.message)}},ia=B.createContext(),Ix=i=>{const[t,n]=B.useState(null),[s,o]=B.useState(null),u=ou(),[f,m]=B.useState([]),[p,g]=B.useState(null),[E,b]=B.useState(null),[A,V]=B.useState(!1),[O,z]=B.useState(!1),[U,q]=B.useState(window.innerWidth<=768),F=()=>{console.log("Toggling sidebar. Current state:",O),z(at=>!at)};B.useEffect(()=>{const at=()=>{q(window.innerWidth<=768),window.innerWidth>768&&V(!1)};return window.addEventListener("resize",at),()=>window.removeEventListener("resize",at)},[]),B.useEffect(()=>{if(!(t!=null&&t.id))return;const at=on(Fe,"chats",t.id),st=sg(at,async I=>{if(!I.exists())return;const S=I.data().chatData||[],R=[];for(const C of S){if(!(C!=null&&C.rId)){console.warn("Skipping item with missing userId:",C);continue}try{const x=on(Fe,"users",C.rId),P=await po(x);if(P.exists()){const D=P.data();R.push({...C,userData:D})}else console.warn("User not found:",C.rId)}catch(x){console.error("Error loading user data:",x)}}o(R.sort((C,x)=>x.createdAt-C.createdAt))});return()=>st()},[t==null?void 0:t.id]);const rt={userData:t,setUserData:n,chatData:s,setChatData:o,loadUserData:async at=>{try{const st=on(Fe,"users",at),S=(await po(st)).data();n(S),await ts(st,{lastSeen:ip()}),S.avatar&&S.name?u("/chat"):u("/profile");const R=setInterval(async()=>{na.currentUser&&await ts(st,{lastSeen:ip()})},6e4);return()=>clearInterval(R)}catch(st){console.error("Error loading user data:",st),u("/")}},messages:f,setMessages:m,messageId:p,setMessageId:g,chatUser:E,setChatUser:b,chatDisplay:A,setChatDisplay:V,isMobile:U,rightSidebarVisible:O,setRightSidebarVisible:z,toggleRightSidebar:F};return nt.jsx(ia.Provider,{value:rt,children:i.children})},Cx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdTSURBVHgB7Z3dTtRaFMcXdaKi0YhRExMT6o0X3ihXiMak8wTqExzmCTznCZQ30CcQn0B9AiYhQOACOCEhgQRSEi5IIHwGGAgfrn/Ze1LKdPq1d3eZmV/SdGiGYfpnde2111rd7aKCMDExYZ+dnTn80rYsqxd7bOfn5w+6uroe+N/Lx7b52Da/dLE/PT39n/ezfNx99+7dLBWALjIEhGRBPt64ceMDC/I6KF5ahOiz/Nl/+LN/DwwMuGSAXIWdmZl5UKvVPvPLQbqwyDxwWeTveYuci7Cjo6NOqVT6wi8dMkuVLfr727dvf5NmtApbIEGDuOzPh9gfD5MmtAhbYEGDuCcnJ5X3799XSTFKhYUPPTw8/MGDx0e6XgzzNqTSBysTdnx8HGL+UDW6G0Cpe8gsLKz06OjoCw8K/1ILwOfxrbu7e6ivr2+bMpBJWMSivBuh/EKnvHB5K2dxDRalZGxs7DX/d2eo9UQFNm8jOEdKSSphJycn/2FfOnKN/WkcbJ5UjOBcKQWJXQH+EDv5YWojOHcx2N/f/zPJ7yQSth1FlSQVN7aw8DdtcPmHIrJo5bjZs1jCtvDonwiIywN2X5xoIXLwQpxKHVE9kBvm3YjQpCmRwiL4p46ofmyetn+JelNTV8B+dZCd9g/qcAW23k/N0o+hwnb8anPgb2/duvU8bOrbzBV0XEAT4G/ZTYZezQ0tlq3VoQtr7RAB53PLjfK5pZD3G/WrnCSnR48e0d27d+n+/fvEU0vvGOAToePjYwyqtLm5Sbu7u95rg98VV3Y1ePyKxZocsCBeb28v9fT01IWMw/r6Oq2urhoTuJHVXvn2LGpkKKEDWOaLFy8SCSp5/Pix9/srKyueFedNI6u9NHiJKoBNOfPw4UN6+fJlKlElPEJ7/xgIbAAHdT7/gUvCcgjxmXIGguDyV0Vaq8+KsNo6dWFF3OpQzjx79swTVxXSTxvA8U9168JyXJZ7ZRWCwj+qJungp4qDg4N63a8urAk3oMsfQlSImzc88NerDZ6wwg3YlDOIU3VhaBCzp6enPT/kCWvCDYA7d+6QLlT67STUarVP2HvCshv4QC0GZmsmkFpKi01d5s2CKavSCQvraWlNTU29NlXH0jkF5foUmQBZL/hZi+e5NhmiFYUFXGEoW6bcANjf3ydd7OzskEFsi538KzLE1tYW6ULnZ0eBm1MsUXk0AlwB8qmqwZVgMkdLsFgyXH5BHlU1a2trZBjbqMUCWKxKq4WlIvFtEkRZVhFahpaWlrySS1bwGfPz82QaGGvq/liVwMqWl5cpK/gMw761TiGEBSipLC4uphJGWqqJskwY+SctmwBhMKLbth077Qf/DFdSFEuVlMS9p4VpzYRACwsLXtpPFgmDOQVYKOJUDFI6wrWsoEumJO6iLlzPqz9aQOL65s2b3mtMVYtmnUFgrHAFLhW8lQgWqiJqyBEXcewKdVAKa7oDYV3qoBTWdFa6gkKBwQp+FfuwSoD0s9gXzediIYoSZ2KqZBAUFO/du1dvgEtbVeDSsycw0oV7e3taU5JRwAt4TXHj4+NbeYZcKCI+efLE6yjUVf+XmbO8m+UQZb1586anJH7ALTYOaQaCIvjPozQtm0Gw5dmNCP+KfUn88IfFdUgjaCXCZgIpMMTVkab0Ay2xl+VvbWuk4FJHJ6EpUf3gO2TtaoxCaukJK24Ic0kDBlsrGyL7cDXhypvr/NmtRDfhxgEWUiRRJfhOOq4grJAkX9eFrdVq30ghGDyKcPmHobp9FPhdal3YcrmMZEyVFFFkUSVPnz4lhVT999gGE91DpAidnYSqUNnq6XcD4JKwrHiVFFmtTPO1CW7w9s9GpRklVjs3N1fovCmmwEioK+KKZmF3JuKuRIcUIIPzokQHmOai70BhfQwh1vPgwbBIGf8BhxSA6SQ2jMAQF34N/jevFk6ZM0BSZmNjQ3nCHEv4NToeevc3J2Z+6VxKD7Mf5A4gsH8Dcu+/1TMIBJIdhdhzuFgv22CDkLg1VHPlYZittaGwoXM7/nIVPkFHV9YLJ1zEQmACXGoyHoX2FYi4tkIdwmi6yGTThg2EEMH4rMNFzMqiDjd7T5w1Yb5SAcs3BnG7u7u/Rr0pUljhEsqolVMHl7dynJU6Y/VuwZewsG0tLs797OzsU9wVOmM3xWGFNI4Q/qM2Beee5BkLiReN5FnZIBle2sQAlajBKkjiNk7xByrt4BbEOSYWFaRe8RiLSFqW9YtadAkpiIpxJe0jVjpLSTfGJVNLSQP8YZ6j97XSJALncvv27b6BjEv3Z15VXiIGtWu7uhwufU76VPr7+5W0Aih9wARcA3/BrxyapFrX2hT8nX/zbKqSdYl+P0qFlYgl/BCS2VRsqnSRTKmSYrQIKymwe6iSJkElWoWVYKE0sZiPQ2apkmZBJbkIKxE+WIpsUz64vP3kkf6bSh8aRa7C+vGJrOXRfqKDsj0e7dcM8TgAW4j8Sggd+TBKuniqEW5QcdGdbkrIIH8BDAGBkF/hM9YAAAAASUVORK5CYII=",Dx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASdSURBVHgB3ZvBa9RAFMZfrYqwFVuQ9qAiFVER9eBB9GBBBLGX3v0jPXuqFL1URBFaxHpQtBWxB1u0C7IFcX5Nxk7fziSZbHaTzQePbSazs/PlvXnvzct0QvyYNTJvZM5IR4aDrpE1I58lHieMLEgyT40dI7tGNo180zcn1DXk7gYGGgZ6Rp5KPFDG3QL9eKjL6ecBjjk3Z4wsyujIgn0ph5MF+6HAx0ambcOkc+ORJKYyKkD2nSTmF4vfRk4bOVOgLxwvGvnKb1qTXpL+tbotyRrbkfKaqAPW/1xS7fBZhv15I5fVzXUjq5LY/l8ZLzBn66zmnHYUug3h65KsX4tPRt7K+AONou0ptxGnNa06lgkTTcW6up6D8Ixq3Jb2QDvEzjFpN3q64bgMDkLZTCr8jUfHszfSUgYhDLlrRq6KP35DfEuS0NaVhqAsYbR5X7LzbB4C8RBP+ULKJRiVo8wahuxDKb6p6KT9p6UBiCXM5NGsNmHMl/i9ln5qEyb3XZDRpq5exJr0TenX7IYkRHX6eSPtb8H3rqV9a0Oshs+rawI7WZkv1+behmq7IjVrOYYwzsedrN3AZwHS7sPAtGekRsQQ1hP9kf+Vg8C/mTPOSBFDWJti0djazRlnpIghrNdp0bA0lTPOSBFDeEdd48CKaGs2Z5yRIoYwmZJ2QLdyvkNoci2BNV1rjg1hl0TWumSyH1QbYeampy+av+25tyU1g8TjjSQTQ2N5YeajJLUiV2tokZwZze2l9y6I38mtS82YkHjYXDrG22JF1IfrWL9P3IsymwcmfaS4nQNbDK/VWVlMSjn8kWQ9ouWpwDho9b0cVj/rwhE/UsakfSD06IrHsOrZ7nsv0JPD3Rp+RD/cIyZdRYlH0h8adriBKO+TdMLTce5Dlqpr0PlWRXjY0FvNEDpyGPtXfR2aTpglcs/IOYnDfPrZR7rJhG1pyJezs14xXUyY/IHykS5OzPsGrcppVQ00imZ9yQta8/mLrAf0H2XD0jDBGrwj/XPD669IuPppy8JsaoLvj6vQ8Gz6I+6Lq710YjZUFEHWeqVUVPQFX6amByFc9HhE37GDwFihSUJ0Q+Ln5h2vrEnbAYuUazAv3k7wcH3aRqMPjJxS7Tyg51JuhxU0byaBKbED6qWd8rKjQs4hgG76Gzvp98mWQidxXsrgKSm/seQ2EJYwS1t+PTgWkDOAj6x7PAKged+xA753VbIRs17z0PfAIOzWmrPWY4gse1ydym074iveh1BmvUahaOIRQ9YFyQGkCTWXMvrRB7JD30IWIVyWrAVm9UoSQqzZ6XQsfAahq4jfqAx5hAcl68J6zlrrWlkVjyrJNgYhwq0kC3yEW0sW+Ai3liwIadhFa8iCvDJtq8iCLMKtIwtChFtJFkBYJ9j2kEoboPcGuxDWRxdqPZJQMXT+/pMCwL66gZcObdbHCWxY9FZ0HcKYtD5Iba970qBzkgVAMeOsJHt8rV14vLY1LbS6KA04KTckYMXPjHQnnYbvkvz3RxNLt4PAvpv+xYVLjlegXySnrjtmwA+tSEoWhMq0kKaaaA9+jxNYq0QeW205gn8V7PTp/QnotgAAAABJRU5ErkJggg==",Nx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcDSURBVHgB7VvNb9xEFH8z9kYVpMGoCQKltA6UzQohdXvrjc2ttKFduHFquPXW9AScsrnBqclf0OQfoAlqSuFS9wS3urd8VIqDElEgFW4TKWmy9vCe90Njx95sdu0la/hJ++HZsdfz/N6bN7/3hkHC0PWivp/ZK3CunBcgdCGEDgw0BkyX++FvFr7ZjDH6fOI4jikywny2+MCCBMEgAZw+N1pgCrvmglsMDvSowPMtV7gGc9ns+tN7BsSM2ASg6QWtt6f3Jl5xnA4hAXjCcJ1JR3GNuDSjbQF0YuAhsNFkZhzmTLcriLYE8E72k6LClDvQeOA2vkx8PRHMNYGDmXF7bGtxzpI76bmiXoayzlzQBIMCNp3HVwEa3nxFIzZW7s9Ai2hLAO8Of7pKji3kJxq0gVef3t7dNm3LsKEFkHad7OktuFwUmWDXo/qRIPbZ/kgr2tCWAE4Pj/4N/qdvVwc91eqgo/B27pKuAC+AYBMRjpXMYnJjaWEKjgAF2sDJgXN/4EeekRwZfLf9avuLP5/+/GDXtnYhZmxvPrW3NlfMrecr030DWUaah/8rC/8EHl/qO5WFl8+XHzV73USmwU6gohFKKcw0MNaY2Vhe+LKZ63StAGoYHL4yjk9+AgKOGIVgohAuHHZ+1wuA4GmDUB4eiC6b0IS2fMBxAfmH1wfen0cBFGW/gGF1/mT/Bxr6jZ+izk2FAAiRQgB2EYXwAoXwa9h5qTABGRHmYJdZ+UJYnMAhZfAGqYjPoBKM1aCpQr0T1v+ACVB4q/Xnfnmjf/iGdipnv3i+9AS6DFt/rTxDtX9FcYHUrIeZgs8ESH0yIvNQCm/t9aV7b0KXAiPVu/hRlJpsDNaG5CjVZwKqq16XY3v8Hms467u57OgEhdL0wrn8NiQAtPtbEDAFXLmOy33qAqCnj9PGmPwjHs9CAsBF1G3UvRJUghdih8ZRICWIGZ4/EDDta2RwkxZZtcO6AGihEXj61vrivRIkALz22IFGvDFIAOqeSoujSC2oC4ALZcJ3pismIQWwrDk7TAtqXz0BEIcXXNcT7QRJIXhDFSRiboQwLTidGy3QF08AQhW+FRXF0EmysevLnmlNV2+KOIRJnG3GISF4WkAEjQynMjuo9MaFZ//135DNnYeEUR1wYoM+ACRqcIj1KZFxdo3+n5P3D6r/zt6OASmDuqsSL1k3Axrz0NDnZ3nGVfOBvkbcdNZxQNUMTLltT90d4aj4fgG40HWh7xHgGxsDnlfx/bzciFy7AR3AmezV6y5zpzAIspHWKv22/ENis0ANRMszIQW/XOgcjUGXOylc6Yj6CyZK+KGRLZIgoBNw/CaA2n+W4434uLTMq55V6AACjrcjGSWMbXwPlwPXeJBHW139fg1SimBsQw8hdYTIUfG/AOA/Du5VZkig6AhSCop65WNKqnKcg32eEaOjrqXADoNaVnX5GNc8NkcxWIF+eUgpGPdPt0iIrpEPWPM38tQKoFp4ITeY3KvakMH9oXHK4A/7wTG5AweYn7xMGqYFul6kMRXkNsGFySk6CswEWu+J3tSZgdNTLsjHNGYauxcH4HTgZ4BEMgztvwmXi2u+BlGhyCqBEIO5QP9CmszAy3mIQM6DV3IengCQ/zfgkAxKN8MrrpJQzXkY9J1LrQ0zKN2MRjmPugAOy6B0KygHGeAebDnnURdAVAYlGD93E8LynYhZmRfwZ4dDtEAVaiKZW/BT1BYkAAWUiWC+EzPGU/4+8h3Zi7shhQW5RjU2rUIusuSMf/Nyc9mEGHFm+CpN5V/7Gl1x6/flHw25KbRGCHP2D8EfNdnCdUc2Vu7HepNJgVQfNfcxSFwjPf2NpYWhYN9QQgTVhGrrfKbAuXK3G/xBrcoFAjXMSPePhPUPFUA1PPalx8mW6MLHWQghJT4eaCxRyd7IOkGy+b7+LJEjF6VmDR1L8bWB9+apLg+OEaIGT5lnVP1vo847tE5wMHdlJliQ3E59fhIY/PBynjvK3QNPnonZjcWFsUbnNlUoicHEY+wZXCG2VJ8fN8jbI7VVgqSLpcM0ofpHMw53JjutDVVPTzFKMfhbM0++hqZrhbc2V+ZoowIESAUqSCa/0Hcqqx1lo0KroPVJ/1sffYVprRkI5y+nUStvQJM4cq1wVH1+5WLxb2uroYndaS2ZZEvF0lH1+TLINFzHnd9xdox2Nk31qshOKR5BU4DoJKpBsUvHN00N5i6PNdjEJMPAPma5XH6kMMVGft7CxZcld6husaUB5qvbbEm96dVwS167jrjtcvmqMyK1JAfZKf4gtt1pse0XaGJbWxyIfVteMpunc17hJZoHfNyuMGgR45G2yFvWaKw4kfiOES9EddW8V4xF9UgCdKpKCds+7+UpK6m6NUrYZKDHCG6xjRv/AF0bOBSDHmXQAAAAAElFTkSuQmCC",Ox="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJjSURBVHgB1ZiBcdswDEUhT6BOUG7QbBBt0G4QbVBvYI+QDdxO0Gwge4K2E1Ab2BsgQMRcFAikSEnkJe8OpxNNgl8gRMGsYAGI2NDljuzeXWtnzI2sd3Yhe6qqqodSkLia7EB2xXT+krWQk5UCJTaLYHJ655xvTUdmYAvI0c/ARBzdE0fHPUw9Gscr0JDtnSAflsfCGnBYap/A41hYhC9D9ivgb5nYQCQfUwR6BHebiHXONEctbIRbEYlNCgLqL866PIoX+yd28EEZvIdMuFSSNHODtCV/hMzgNGe7uQF7nOaMgfxCm6So4jQ3WygE52ZUVJWn4rd88Ta0QGjU/DuyRrRdqNq5QSForjMMldYrLHKy07DQb6LtCcpzEfeqUCPa/kF55JwyeKrQHsrTi3sjO7DQd4lbMj9HzM65g08CC333NLQ1fIXyzG6HLLQXbV+gPEbc/5cddkpjA+W5F/e97MBC5dbwHcrTiPvpFumpnEp+Qlsxt9X67dzhwFm0Z6tDFR7E/dnbUynzroXKvFZZTRMaUOP0gKGDjLiUs2LOU8xA7ekOkAmc1qHhaIrBXQmxOBxeSI4pDrTl2EysS7FO8W+XOOMjGu1AzOKKFwyHSt6in4clTn1imRPO/a2dCuwwDq/YKjCBoQu/+cbTpYdhz+NP8PhLUrsxXPz+AH/BwWO0w42W9vbfkAKGD7jWcHT+W0yM7JxgdmhxPR2KI6LNxTqnnG+pEeZc5+ObBsKBCIqtYCFuYjYutM3op5uzl9x1f4dj/LV00b5M6TmbG8yRBrnwiL3CRwQja9QPAb7tNC8n3s9GsmlLVaiiEgAAAABJRU5ErkJggg==",xx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAduSURBVHgB7Z0/bBtVHMe/73wJKajFI1vciU60naALShYkBmgyMCC1ohmKVImqZUMopU6JEBIDiYrE0KFBGRgYmtKNpRFLCwuBBTYuGxsuiNRpknu87ztfcrbPvj/23T3/+Sx2nXNP99Hvfu/3/tyzgCFMVWXl4AAzQqACgWkB9SpRkUBZvS8Hj1Wf1dRnNXWcAxc1KfCret2SLpy9z8QWDECgIBoi5yzgvBJzplVeWrR0gS3Xxf3SHjbqnwsHBZCr2PJ1Wd45gWvqpJfAiMwHx5VYzVtyLmLtRTlTEripzjaDIhHYlAdYfbYsNpAxmYo1Rmg7jOKlvU/FGjIiE7EGC23FOXCxsL8sNtFn+ipW59DjuKsajzkMEFJizdrDUj9zcN/ETi7KOVhKap9a9wLoa3roWSyj9OmL6raXuI4hQMldeeFfLNVWRA090JPYqY9kRU7iIfIrnfLCEc8w20tqsJCSiY/lGXcSv2D4pBIdMLxGpCSV2KlP5HvCxsMBzqdxqFjqGnmtSEHiVMATqW7jGkYI9hTrt8Q3Cb8Tn1GU6pNUbmyxzDcjcPt3o+buYzbu6FkssUPc+ielpqqFs3GqhcjGi3XqWOoh2gWdRB0YKVYX/2OpQSr/HddOutI1FUzckJcsgbsY04aarZjvNvzYUew4r0ZSO/YPTnbq+nZMBe7EOAVEUH56vPPdHBqxU2o8VVo6WsdEoMZzZ8PGc0MjVkkd59WYlErhDVmbWDZYGKeA+EjMcMak9eM2sZaILiXGNBMWtU1i9SzAOFqTExK1TWJFCdcwhLx1Cni9gkxpjdpDsaxbaR5DQnkK+OA14OcrwLaqNH90gIuph61joNwFu7r24ecTgzWz2gkt9Jwnlbyh6pvf/gIWZ5Xgv5EpOyf0vF+V7w/Fqop2oNNAUCjfM0rf+fZIKqP15S+RKapTwNmGauP9Yff1TwwgrUIJpTJS+UqpizPev5kOskZMolJfFNs6YgcxDYQJJWFSKTQPqUTuYl69rHipwMJ5rn8cBDoJJUGpX7wJXG3k2eU8O+d06YuVUq9PNZrpsifqwtl2oSQo9c78UQXw4I/8olWjXPJFvKDmsvZtvT7ASCiUt/PFs52PYQNFqbV6s1TCBmu7pzUtyWGetfcsVEyMVhb0zJFRhX03qetb+UslB7uYtVVOyLJsTkxcoeR7dZu/f897z47AKy81/z3X3BqAz1HYQuI0DAjZJELJukpelze8fPvDQrvUoqJVIzDNiC0XWREkFUqipJKiopXwiR+bj/ygANIIJRS2vOk1at+9Gy610GglyqndeI4qN9IKJUGpjNTpcufjCqZs57VkiK01hU6nPFtcqYVHq0fZRoYwB15QQq+eSy+UxJXqH2sCmYlldIZ1O5OSRKoh0apJvaI7CrbcD35HT1y+F18qMSVaicVnT5EBjByWRJSTJor4PUZgEqmmRKuiZomMxPpQDvvrcaOJXVN2Ufk9llI/XYmWSqHrsVat5kbN0o+m5wBvaQpe7zLc40vlaBSlMlLj5Gj+nwZFK3sIjqWGDLeRE93Sgy+VgypJpBoYrewgPGHj5SBnWtMD5bz6tSf17VPxpZLbjwyLVug9E7ZsFbGOKGgQhunBjzbK4Zjrnbn43+d3vnoM83CV2FIJm9JFYfjRxkhNIpWYVF4FkbbKsfWqcGTGlUEcmGOTYGRu9ajtVcWW7iBwDxUUTNKZVFOjFQ2XXs/LxX0YQFxZBkfroUsvYkvYgAEwYtdjTGsaG604cqnFMs+igLIrDFYK3fKt0dGqHDZcHg3CqIor9nOiWaJLqEed/25ytKoCdtV/eyi2bmEFhnD7cXjUGh6tTSn1aNiwKril3SYM4Ek9PGqNjlblzk8DpHlF9wGWYAiM2mBX1fRo5UZpwX83ia3zeSWDojYYoZfvwWSc1sc/22YQTIpaRqjfcch1YVtChGx3Fjr88txN+dCU5xH8aXKDxTq7t8TJ1g9DJxMZtdIyQ6zJkUq4hV/Y56GTicy1UpjRGzMZ5Wit076IHWdpnwksmDDqZTCOmjDs2B51nv5mXdshzMd4DVawbm2l67qCRgmxijHNuFitR2wuGblgY9fSzy05GOPjHLO9Z7m6Eb0SRqUEYWF2nG81Dl3UqtE7dcZaYqSnb0ZcLq/dtTDfLa8Gib12S8/jSHyIEYXXTgdxj0++aeQNeUmO2JZRqgJYqCfcCTnxakOegCcahbSgf6wihVSSeqnGRFWesVxwzKmCIYRS2a4kuf2D9LaVdFVWpDukW0krqXEbqjB6WnjME6s6lw9jDk8nQhX/x9Q19SKV9G3VVqNRu4kBjV7e+rbqwu/06edS+rZUXjdqXq1rxGxvEjiS97yFkzt9/A2aTNYZNrbwY0lWgclIbOrBFNN/EqUVY9NDhkJ9clkZy43S9J5eRU/35CDUJ9clx7o8O8BcY8ekCvLB4SqfKQsrcQZP+kVBa7kDki2cb2ydUkYfaPSWWNTf58qUXsumtBQmthX25MS+imJuTCFwWouO8WOUkmPFEttc8s/V6UWJbOV/J4waAuvSu7cAAAAASUVORK5CYII=",Vx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAANpJREFUWEftlqEOwkAMhlvHK6B6PAYShwTJG+LAYZE8RquQIOdKLplYlommJVlzuem79dv/t/+KkOTBJBzQQeZOtKVIKWXDzEOk30KKENEDAI4jwFNEDl6YKIhOC4uI+33uixWAiHKA1N5Q1XeFQsQdM39XscZbdOleyJoO8k8F2kzWUspJVW/j1JyZ+e5VLdSsaXIkDcjMmgszX1exxlu0B5pFudDUWApYz7QBMq4BHwAYEHEbWRdDiqTJkUwg0+X5JSJ7a3O2+ff1fn1PVotyofG1FLCeSQPyA96DRyPedsgOAAAAAElFTkSuQmCC",Mx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABCCAYAAAACPxW5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAH7SURBVGhD7dq/SsNQFMfxJnYQHBxKUereIV2d3ARxc+sTCILgQ/QpdBKfIEgnH8HZoQ0FZ0cn8c9QuN5fORERmya5f865cL9LuJcM+ZBwh0M6sVgsFoutb4uuIppMJulgMOjNZrMP2jIupauEkvl8fr1cLh/H4/EB7RmX0JW7RKNukiS5pPWzUuo4z/MXWrdOAvAvrswKkhu4DldmjOQEbsKVGSFZTlGclv1+/1bjLmirqp6+7yzLsvuiKN5or3Ycp+jqtNQPfU7rjek3+K5P1y9aNsr3J1r3s/xJ45407mQ6nb7SVqN8Ar3jkC8gCw75ALLhkGsgKw65BLLjkCugCBxyARSDQ7aBonDIJlAcDtkCisQhG0CxOGQKFI1DJkDxONQWGAQOtQEGg0NNgUHhUBNgcDgkafDrpEZDp6IoHrIs29Nv8ZC2KtP37adpejocDvPFYvFJ215rPFULDdlqbBgSsvVcNBSk0eA3BKQREElHGgORZKQVIJKKtAZEEpFWgUga0joQSUI6ASIpSGdAJAHpFIi4kc6BiBPpBYi4kN6AiAPpFYh8IzlGFmo0Gl0ppe5ovTGN3Ol2u9u0bJTJ4Ne0ukOs8H4EKqvxuRr/ysUKRBVIKz/jsQPRP0grOCQCiH4hd23hkKTB7+p01aflkS1cLBaLxWKVdTrf5kX+OXj25HwAAAAASUVORK5CYII=",Px="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR4nO2STQrCMBBG3wnsmUy68AAiLmq9j1RP1kUn7jyCrVeoMgVFJJBJwV0ffBCyeMwfLPyVsqXwHbULXDT61r9ZMtexd8LDB57fccJQBnbZMi+Mv7JPhNEsLVuKWGWR9Jsbq6TQC0eDbMr6yiHdrnC2Cr3QWCpsrEIXOKWFHXWGsLIuZTDI7qalKHoSqbNxwpYcJmmgj51LtuyNtqRz0s1PCVTmNheYywsBbeNMCHkbYwAAAABJRU5ErkJggg==",kx="/XzalChat/assets/Myphoto-BDGCiD16.jpg",Ux="/XzalChat/assets/logo2-DdbzTasv.png",$e={avatar_icon:Cx,gallery_icon:Dx,help_icon:Nx,logo2:Ux,search_icon:Ox,send_button:xx,menu_icon:Vx,back_arrow:Mx,green_dot:Px,Myphoto:kx},Lx=()=>{const i=ou(),[t,n]=B.useState(!1),[s,o]=B.useState(""),[u,f]=B.useState([]),[m,p]=B.useState(!1),[g,E]=B.useState([]),{userData:b,chatUser:A,setChatUser:V,setMessageId:O,chatDisplay:z,setChatDisplay:U,isMobile:q}=B.useContext(ia);B.useEffect(()=>b!=null&&b.id?sg(on(Fe,"chats",b.id),async S=>{if(!S.exists())return;const R=S.data().chatData||[],C=await Promise.all(R.map(async x=>{try{const P=await po(on(Fe,"users",x.rId));return{...x,userData:P.exists()?P.data():null}}catch{return{...x,userData:null}}}));E(C.sort((x,P)=>P.updatedAt-x.updatedAt))}):void 0,[b==null?void 0:b.id]);const F=async I=>{try{const S=IA(K0(Fe,"users"),ep("username",">=",I),ep("username","<=",I+""));return(await OA(S)).docs.filter(C=>C.id!==b.id).map(C=>({id:C.id,...C.data()}))}catch(S){return console.error("Error searching users:",S),[]}},X=async I=>{const S=I.target.value.trim().toLowerCase();if(o(S),!S){f([]),p(!1);return}p(!0);const R=g.filter(({userData:C})=>[C==null?void 0:C.name,C==null?void 0:C.username,C==null?void 0:C.email].map(P=>(P==null?void 0:P.toLowerCase())||"").some(P=>P.includes(S)));if(R.length)f(R);else{const C=await F(S);f(C.map(x=>({rId:x.id,userData:x,lastMessage:"",updatedAt:Date.now(),messageId:null,messageSeen:!0})))}p(!1)},rt=async I=>{try{const S=on(K0(Fe,"messages"));await np(S,{createdAt:ip(),messages:[]});const R={lastMessage:"",rId:I.id,updatedAt:Date.now(),messageId:S.id,messageSeen:!0};await Promise.all([ts(on(Fe,"chats",I.id),{chatData:rp({...R,rId:b.id})}),ts(on(Fe,"chats",b.id),{chatData:rp(R)})]),V(I),O(S.id),U(!0)}catch(S){bt.error(S.message)}},at=async I=>{I.messageId?(O(I.messageId),V({id:I.rId,...I.userData})):await rt(I.userData),o(""),f([]),p(!1),q&&U(!0)},st=I=>I.map(S=>{var R,C,x,P,D;return nt.jsxs("div",{className:`friends ${(A==null?void 0:A.id)===S.rId?"active":""}`,onClick:()=>at(S),children:[nt.jsx("img",{src:((R=S.userData)==null?void 0:R.avatar)||$e.profile_img,alt:((C=S.userData)==null?void 0:C.name)||((x=S.userData)==null?void 0:x.username),onError:re=>re.target.src=$e.profile_img}),nt.jsxs("div",{className:"friend-info",children:[nt.jsx("p",{className:"friend-name",children:((P=S.userData)==null?void 0:P.name)||((D=S.userData)==null?void 0:D.username)}),nt.jsx("p",{className:"friend-time",children:S.lastMessage||"No messages yet"})]}),!S.messageSeen&&nt.jsx("span",{className:"unread-badge"})]},S.rId||S.messageId)});return nt.jsxs("div",{className:`ls ${z?"hidden":""}`,children:[nt.jsxs("div",{className:"ls-top",children:[nt.jsxs("div",{className:"ls-nav",children:[nt.jsx("img",{src:$e.logo2,alt:"Chat App Logo",className:"logo"}),nt.jsxs("div",{className:"menu",children:[nt.jsx("img",{src:$e.menu_icon,alt:"Menu",onClick:()=>n(!t)}),t&&nt.jsxs("div",{className:"sub-menu",children:[nt.jsx("p",{onClick:()=>i("/profile"),children:"Edit Profile"}),nt.jsx("hr",{}),nt.jsx("p",{onClick:()=>b1(),children:"Logout"})]})]})]}),nt.jsxs("div",{className:"ls-search",children:[nt.jsx("img",{src:$e.search_icon,alt:"Search"}),nt.jsx("input",{type:"text",placeholder:"Search by username or email...",value:s,onChange:X})]})]}),nt.jsx("div",{className:"ls-list",children:s?m?nt.jsx("div",{className:"loading",children:"Searching..."}):u.length?st(u):nt.jsx("div",{className:"no-results",children:"No users found"}):g.length?st(g):nt.jsx("div",{className:"no-chats",children:"No existing chats"})})]})},Bx=()=>{const{chatUser:i,messages:t}=B.useContext(ia),[n,s]=B.useState([]);B.useEffect(()=>{const m=t.filter(p=>{var g;return(g=p.content)==null?void 0:g.imageUrl}).map(p=>p.content.imageUrl);s(m)},[t]);const o=(i==null?void 0:i.avatar)||$e.defaultAvatar,u=(i==null?void 0:i.name)||"Unknown User",f=(i==null?void 0:i.bio)||"Hey there! I am using XzalChat";return i?nt.jsxs("div",{className:"rs",children:[nt.jsxs("div",{className:"rs-profile",children:[nt.jsx("img",{src:o,alt:"Profile",onError:m=>m.target.src=$e.defaultAvatar}),nt.jsxs("h3",{children:[u,nt.jsx("img",{src:$e.green_dot,className:"dot",alt:"Online status"})]}),nt.jsx("p",{children:f})]}),nt.jsx("hr",{className:"divider"}),nt.jsxs("div",{className:"rs-media",children:[nt.jsx("p",{className:"media-title",children:"Media"}),nt.jsx("div",{className:"media-grid",children:n.length>0?n.map((m,p)=>nt.jsx("img",{src:m,alt:`Media ${p}`,className:"media-thumbnail"},p)):nt.jsx("p",{className:"no-media",children:"No shared media yet"})})]}),nt.jsx("button",{onClick:b1,className:"logout-btn",children:"Logout"})]}):""},EE="dzxhzpc1h",zx="xzalCloud",jx=i=>!i||!i.type?null:i.type.startsWith("image/")?"image":i.type.startsWith("video/")?"video":null,S1=async i=>{if(!i)throw new Error("No file provided");const t=jx(i);if(!t)throw new Error("Unsupported file type. Only image and video are allowed.");const n=new FormData;n.append("file",i),n.append("upload_preset",zx),n.append("cloud_name",EE),n.append("folder",t);try{const s=await fetch(`https://api.cloudinary.com/v1_1/${EE}/${t}/upload`,{method:"POST",body:n});if(!s.ok){const u=await s.json();throw new Error(u.message||"Upload failed")}const o=await s.json();return console.log("Uploaded to Cloudinary:",o),o.secure_url||o.url}catch(s){throw console.error("Cloudinary upload error:",s),s}},qx=()=>{const{userData:i,chatUser:t,messages:n,setMessages:s,messageId:o,setChatDisplay:u,isMobile:f,toggleRightSidebar:m}=B.useContext(ia),[p,g]=B.useState(""),[E,b]=B.useState(null),[A,V]=B.useState(null),O=B.useRef(null);B.useEffect(()=>{if(!o)return;const st=sg(on(Fe,"messages",o),I=>{I.exists()&&(s(I.data().messages||[]),z())});return()=>st()},[o]);const z=()=>{var st;(st=O.current)==null||st.scrollIntoView({behavior:"smooth"})},U=async st=>{try{bt.info("Uploading image...");const I=await S1(st);return bt.success("Image uploaded!"),I}catch(I){return bt.error("Image upload failed"),console.error("Upload error:",I),null}},q=async()=>{if(!p.trim()&&!E||!o){bt.warn("Cannot send empty message");return}let st="";E&&(st=await U(E));const I={sId:i.id,content:{text:p.trim(),imageUrl:st},timestamp:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),type:E?"image":"text",createdAt:Date.now()},S=p.length>25?`${p.slice(0,25)}...`:p||"Image";try{await Promise.all([ts(on(Fe,"messages",o),{messages:rp(I)}),F(i.id,o,S,!0),F(t.id,o,S,!1)]),g(""),b(null),V(null),z()}catch(R){console.error("sendMessage Error:",R),bt.error("Failed to send message. Check console for details.")}},F=async(st,I,S,R)=>{const C=on(Fe,"chats",st);try{const x=await po(C);let P=x.exists()?[...x.data().chatData]:[];const D=P.findIndex(Jt=>Jt.messageId===I),re={rId:R?t.id:i.id,lastMessage:S,updatedAt:Date.now(),messageId:I,messageSeen:R};D!==-1?P[D]=re:P.push(re),await ts(C,{chatData:P})}catch(x){console.error("Chat update failed",x)}},X=st=>{var R;const I=(R=st.target.files)==null?void 0:R[0];if(!I)return;if(!I.type.startsWith("image/")){bt.error("Only image files are allowed.");return}b(I),V(URL.createObjectURL(I))},rt=st=>{st.key==="Enter"&&!st.shiftKey&&(st.preventDefault(),q())},at=()=>{u(!1)};return t?nt.jsxs("div",{className:"chat-box",children:[nt.jsxs("div",{className:"chat-user",children:[f&&nt.jsx("img",{src:$e.back_arrow,alt:"Back",className:"back-button",onClick:at}),nt.jsx("img",{className:"user_avatar",src:t.avatar||$e.Myphoto,alt:"User",onError:st=>st.target.src=$e.Myphoto}),nt.jsx("p",{children:t.name||t.username}),nt.jsx("img",{src:$e.help_icon,alt:"Help",className:"help",onClick:m()})]}),nt.jsxs("div",{className:"chat-messages",children:[n.length>0?n.map((st,I)=>nt.jsxs("div",{className:`message ${st.sId===i.id?"sent":"received"}`,children:[st.content.imageUrl&&nt.jsx("img",{className:"uploaded-image",src:st.content.imageUrl,alt:"uploaded"}),st.content.text&&nt.jsx("p",{className:"text-message",children:st.content.text}),nt.jsx("span",{children:st.timestamp})]},I)):nt.jsxs("div",{className:"no-messages",children:["Start conversation with ",t.name||t.username]}),nt.jsx("div",{ref:O})]}),nt.jsxs("div",{className:"chat-input",children:[A&&nt.jsxs("div",{className:"image-preview",children:[nt.jsx("img",{src:A,alt:"Preview"}),nt.jsx("button",{onClick:()=>{b(null),V(null)},children:"✕"})]}),nt.jsx("input",{type:"text",value:p,onChange:st=>g(st.target.value),placeholder:"Type a message...",onKeyDown:rt}),nt.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",hidden:!0,onChange:X}),nt.jsx("label",{htmlFor:"imageUpload",children:nt.jsx("img",{src:$e.gallery_icon,alt:"Upload"})}),nt.jsx("button",{onClick:q,disabled:!p.trim()&&!E,children:nt.jsx("img",{src:$e.send_button,alt:"Send"})})]})]}):nt.jsxs("div",{className:"chat-welcome",children:[nt.jsx("h2",{children:"Welcome to XzalChat"}),nt.jsx("p",{children:"Search for users to start chatting"})]})},Hx=()=>{const{chatDisplay:i,isMobile:t,rightSidebarVisible:n}=B.useContext(ia);return nt.jsx("div",{className:"chat",children:nt.jsxs("div",{className:"chat-container",children:[(!t||!i)&&nt.jsx(Lx,{}),(!t||i)&&nt.jsx(qx,{}),(!t||n)&&nt.jsx(Bx,{})]})})},Fx=()=>{const i=ou(),[t,n]=B.useState(null),[s,o]=B.useState(""),[u,f]=B.useState(""),[m,p]=B.useState(""),[g,E]=B.useState(null),{setUserData:b}=B.useContext(ia),A=async V=>{V.preventDefault();try{if(!g&&!t){bt.error("Please select an image");return}const O=on(Fe,"users",m);if(t){const U=await S1(t);E(U),await ts(O,{avatar:U,name:s,bio:u})}else await ts(O,{name:s,bio:u});const z=await po(O);b(z.data()),i("/chat"),bt.success("Profile updated successfully!")}catch(O){console.error("Profile update error:",O),bt.error(O.message||"Failed to update profile")}};return B.useEffect(()=>{const V=r1(na,async O=>{if(O){p(O.uid);const z=on(Fe,"users",O.uid),q=(await po(z)).data();q!=null&&q.name&&o(q.name),q!=null&&q.bio&&f(q.bio),q!=null&&q.avatar&&E(q.avatar)}else i("/")});return()=>V()},[]),nt.jsx("div",{className:"profile",children:nt.jsxs("div",{className:"profile-container",children:[nt.jsxs("form",{onSubmit:A,className:"profile-form",children:[nt.jsx("h3",{children:"Profile Details"}),nt.jsxs("label",{htmlFor:"avatar",children:[nt.jsx("input",{onChange:V=>n(V.target.files[0]),type:"file",id:"avatar",accept:"image/*",hidden:!0}),nt.jsx("img",{src:t?URL.createObjectURL(t):$e.avatar_icon,alt:"Preview"}),"Upload profile picture"]}),nt.jsx("input",{onChange:V=>o(V.target.value),value:s,type:"text",placeholder:"Your name",required:!0}),nt.jsx("textarea",{onChange:V=>f(V.target.value),value:u,placeholder:"Write profile bio",required:!0}),nt.jsx("button",{type:"submit",children:"Save"})]}),nt.jsx("img",{className:"profile-pic",src:t?URL.createObjectURL(t):g||"/logo3.jpeg",alt:"Profile Preview"})]})})},Gx=()=>{const[i,t]=B.useState("Sign Up"),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(""),p=E=>{E.preventDefault(),i==="Sign Up"?Sx(n,o,f):wx(o,f)},g=()=>{t(E=>E==="Sign Up"?"Login":"Sign Up")};return nt.jsxs("div",{className:"login",children:[nt.jsx("img",{src:$e.logo2,alt:"App Logo",className:"logo"}),nt.jsxs("form",{onSubmit:p,className:"login-form",children:[nt.jsx("h2",{children:i}),i==="Sign Up"&&nt.jsx("input",{type:"text",name:"username",placeholder:"Username",className:"form-input",value:n,onChange:E=>s(E.target.value),required:!0}),nt.jsx("input",{type:"email",name:"email",placeholder:"Email",className:"form-input",value:o,onChange:E=>u(E.target.value),required:!0}),nt.jsx("input",{type:"password",name:"password",placeholder:"Password",className:"form-input",value:f,onChange:E=>m(E.target.value),required:!0}),nt.jsx("button",{type:"submit",children:i==="Sign Up"?"Create account":"Login"}),nt.jsxs("div",{className:"login-term",children:[nt.jsx("input",{type:"checkbox",id:"terms",name:"agreeToTerms"}),nt.jsx("label",{htmlFor:"terms",children:"Agree to the terms of use & privacy policy"})]}),nt.jsxs("div",{className:"login-forget",children:[nt.jsxs("p",{className:"login-toggle",children:[i==="Sign Up"?"Already have an account":"Don't have an account",nt.jsx("span",{onClick:g,children:i==="Sign Up"?" Login here":" Sign Up"})]}),i==="Login"&&nt.jsxs("p",{className:"login-toggle",children:["Forgot Password?",nt.jsx("span",{onClick:()=>Rx(o.trim()),children:" Click here"})]})]})]})]})},Qx=()=>{const i=ou(),{loadUserData:t}=B.useContext(ia);return B.useEffect(()=>{const n=r1(na,async s=>{s?(i("/chat"),await t(s.uid)):i("/")});return()=>n()},[]),nt.jsxs(nt.Fragment,{children:[nt.jsx(Ax,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),nt.jsxs(WS,{children:[nt.jsx(eh,{path:"/",element:nt.jsx(Gx,{})}),nt.jsx(eh,{path:"/profile",element:nt.jsx(Fx,{})}),nt.jsx(eh,{path:"/chat",element:nt.jsx(Hx,{})})]})]})};sS.createRoot(document.getElementById("root")).render(nt.jsx(Ew,{children:nt.jsx(Ix,{children:nt.jsx(Qx,{})})}));
